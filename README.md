# Mayne - code

## 计划v 1

### 功能计划

1. 搜索功能
   1. 前端
      1. 搜索框
      2. 搜索按钮
      3. 搜索反馈页面
      4. 搜索API
   2. 后端
      1. 搜索API
      2. 数据爬虫
   3. API
      1. API格式协商
2. 推荐功能
   1. 前端
      1. 推荐列表
   2. 后端
      1. 推荐API
      2. 推荐算法
   3. API
      1. API格式协商

### UI设计计划

**模仿页面资源**

1. [哈工大图书馆](http://www.lib.hit.edu.cn/)
2. [深圳文献港](http://szdnet.cceu.org.cn/primo_library/libweb/action/search.do)
3. [豆瓣读书](https://book.douban.com/)

**风格：**Material UI

**要素**

1. - 搜索框 [x]
2. - 轮播图 [ ]
3. - 推荐瀑布流 [x]
4. 书籍排行榜
5. 好书精品推荐
6. 新书速递
7. 书籍榜单
8. - 标签索引
9. - 热门作家
10. 客服
11. - 帮助页面
    - 关于页面
12. 书评分享
13. 书单收藏

**页面进度**

- [x] 搜索框
- [ ] 轮播图
- [x] 推荐瀑布流
- [x] 标签索引
- [x] 热门作家
- [ ] 帮助页面
- [ ] 关于页面

### 内容来源

1. [豆瓣](https://search.douban.com/book/subject_search?search_text=%E4%B8%89%E4%BD%93&cat=1001&start=15)
2. https://www.jiumodiary.com/
3. [PDF之家](http://pdfzj.cn/)
4. [搬书~~酱~~匠](http://www.banshujiang.cn/)
5. [书格网](https://new.shuge.org/collections/)
6. [深圳文献港](http://szdnet.cceu.org.cn/primo_library/libweb/action/search.do)

## 项目阶段二规划

1. 目标
   1. 在中期答辩后的系统基础上进一步完善，增加用户和社区功能
      1. 书评系统
      2. 发表书评的评论系统
      3. 书单系统
   2. 完善搜索结果
      1. 增强去重表现 → 用豆瓣数据库去重
      2. 扩大搜索来源
      3. 人性化展示方式
   3. 加强交互功能
      1. 语音交互
         - 网页录音
         - 语音转文字
         - 自然语言处理
         - TTS
      2. 虚拟形象交互
   4. 增强智能性
      - 爬取互联网书评，并进行内容概括，提取情感取向
      - 智能对话：从对话中理解用户意图
   5. 增强大数据性
      - 做自己的搜索引擎
      - 有自己的大数据库……会大吗，就一个豆瓣

### 社区部分计划

**功能列表**

1. 添加缺失图书
2. 发送书评
3. 添加书单
4. 邀请读书
5. 关注用户
6. 广场：动态

**数据库**

1. 添加`library`：收集到的书籍
2. 添加`square.comments`：评论操作
3. 添加`square.book_list`：添加到书单操作
4. 添加`square.messages`：用户私信操作
5. 添加`square.relations`：用户加好友操作
6. 添加`square.share`：用户分享操作
7. 添加`square.dynamic`：发布动态
8. 添加`square.logs`：其他操作，如注册
9. 广场内容由`logs`/`comments`/`book_list`/`relations`/`share`的动态构成

**UI设计**

1. 添加模块：[广场、好友]
2. 图书信息页面：
   1. 大部分是豆瓣信息，如果没有豆瓣信息就用网络搜索的结果……？
   2. 添加`分享`
   3. 添加`加入书单`
   4. 添加`推荐给他人`
   5. 布局：
      1. 书籍信息
      2. 书籍操作
      3. 热门评论
      4. 相关书籍
3. 广场：
   1. 类似`github`的主页的信息流
   2. 可以发布信息：发布动态
   3. 广场作为进入主页
4. 好友：
   1. 好友列表
   2. 可以发送私信
   3. （分享操作在图书信息页面添加）

### AI部分计划

**功能列表**

- [x] 语音输入&TTS：腾讯云实现
- [x] 智能对话：腾讯云实现
- [x] 书评自动概括：`xmnlp`实现
- [ ] 虚拟形象交互……？

**位置**

1. 语音交互、对话放在全站（`App.js`）
2. 自动概括在书籍信息页面自动打开，可关闭
3. 形象交互放在全站的弹出/浮动窗口（会有吗）

### API

- /square
  - GET: 广场信息流内容
  - /comment
    - PUSH: 发表书评
    - 