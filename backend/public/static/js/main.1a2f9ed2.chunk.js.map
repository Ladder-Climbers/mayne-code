{"version":3,"sources":["data/reducers.js","config.js","data/store.js","data/action.js","utils/utils.js","components/BookItem.js","components/Recommends.js","api/api.js","components/SearchBox.js","components/ShowList.js","components/PopularAuthors.js","components/PopularTags.js","components/Slides.js","utils/history.js","pages/Dashboard.js","pages/Login.js","pages/Library.js","pages/Services.js","pages/About.js","pages/Help.js","components/ListInfo.js","pages/Settings.js","components/ListItemLink.js","components/SearchResult.js","pages/Search.js","App.js","reportWebVitals.js","index.js"],"names":["defaultState","config","ITEM_NAME","this","load","bind","save","theme_avaliable","createMuiTheme","palette","primary","main","brown","secondary","deepOrange","type","blueGrey","grey","data_default","debug","version_frontend","theme_name","api_token","user","settings_async","data","theme","console","log","JSON","parse","localStorage","getItem","Error","k","e","warn","s","stringify","setItem","tasks","daemon","errorInfo","message","searchInfo","combineReducers","state","action","store","createStore","reducers","applyMiddleware","thunk","setConfig","dispatch","setUser","setErrorInfo","setMessage","setSearchInfo","urlEncode","param","key","encode","paramStr","t","encodeURIComponent","i","Array","sleep","time_ms","Promise","accept","setTimeout","isIterator","obj","Symbol","iterator","deepCopy","d","length","push","objectUpdate","origin","update","now","isChinese","temp","test","useStyles","makeStyles","root","maxWidth","media","paddingTop","expand","transform","marginLeft","transition","transitions","create","duration","shortest","expandOpen","BookItem","props","classes","book","React","useState","expanded","setExpanded","Card","className","CardMedia","image","cover","title","onClick","stopPropagation","CardActions","disableSpacing","Box","style","float","Typography","variant","color","component","author","IconButton","clsx","aria-expanded","aria-label","Collapse","in","timeout","unmountOnExit","Container","desc","display","flexWrap","justifyContent","overflow","backgroundColor","background","paper","gridList","Recomends","trigger","useScrollTrigger","Grid","container","spacing","map","v","item","xs","sm","lg","LinearProgress","api","host","window","location","href","includes","port","api_version","api_prefix","protocol","url","access_token","refresh_token","undefined","router","method","request","getState","get_token","set_token","refresh","access","headers","a","payload","mode","body","get_headers","Boolean","slice","fetch","resp","js","json","error","code","status","statusText","resp2","js2","update_config","res","requestingSearchInfo","SearchBox","onSearch","defaultValue","searchValue","setSearchValue","src","Object","keys","searchType","setSearchType","handleSearch","FormControl","fullWidth","InputLabel","Select","value","onChange","target","MenuItem","name","TextField","onKeyDown","Button","search_info","ShowList","list","subHeader","maxHeight","List","ListSubheader","ListItem","button","ListItemText","text","PopularAuthors","PopularTags","Slides","borderStyle","images","imageIndex","imageLastIndex","sliding","clickOnSliding","slidesRunning","refreshTime","setState","Paper","Component","createHashHistory","Dashboard","paddingLeft","paddingRight","history","pathname","search","Divider","padding","LoginFrame","username","password","captcha","actionType","setInnerState","refUsername","useRef","refPassword","actionLogin","handleAction","ref","label","current","querySelector","focus","Fade","exit","enter","Login","Services","small","width","height","large","People","nickHead","people","nick","profile","head","link","readmeState","leftContent","flexDirection","minWidth","open","Avatar","alt","borderLeftStyle","borderLeftWidth","borderLeftColor","About","Help","ListInfo","onClose","keyNames","openChild","setOpenChild","child","setChild","childTitle","setChildTitle","Dialog","DialogTitle","DialogContent","showName","ListItemSecondaryAction","Settings","themeName","setThemeName","resetSettingsOpen","setResetSettingsOpen","deleteDataOpen","setDeleteDataOpen","openUser","setOpenUser","resetSettings","c","reload","Switch","defaultChecked","checked","phone","created_at","updated_at","DialogActions","ListItemLink","icon","to","renderLink","useMemo","forwardRef","itemProps","ListItemIcon","SmartSearchResult","books","abstract","cover_url","SearchResult","result","smart_search","douban","Search","setResult","startedSearching","setStartedSearching","setDefaultValue","query","URL","hash","searchParams","info","drawerWidth","appBar","zIndex","drawer","easing","sharp","leavingScreen","flexGrow","appBarShift","enteringScreen","menuButton","marginRight","hide","flexShrink","whiteSpace","drawerOpen","drawerClose","overflowX","breakpoints","up","toolbar","alignItems","mixins","content","subscribers","last_data","subscribe","subFunc","App","useTheme","setOpen","errorDialogInfo","setErrorDialogInfo","myMessage","setMyMessage","useReducer","x","forceUpdate","useEffect","onWindowResize","innerWidth","addEventListener","removeEventListener","routerContent","CssBaseline","AppBar","position","Toolbar","edge","noWrap","Drawer","direction","path","exact","ThemeProvider","toString","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","Fragment","size","fontSize","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","cycle","load_from_config","ReactDOM","render","document","getElementById","startFunc","cycleFunc"],"mappings":"yoBAGMA,GAAe,CACnBC,OAAQ,I,WCCR,aAAe,yBADfC,UAAY,eAEVC,KAAKC,KAAOD,KAAKC,KAAKC,KAAKF,MAC3BA,KAAKG,KAAOH,KAAKG,KAAKD,KAAKF,MAC3BA,KAAKI,gBAAkB,CACrB,2BAAQC,aAAe,CACrBC,QAAS,CACPC,QAAS,CACPC,KAAMC,KAAM,MAEdC,UAAW,CACTF,KAAMG,KAAW,SAIvB,2BAAQN,aAAe,CACrBC,QAAS,CACPM,KAAM,OACNL,QAAS,CACPC,KAAMK,KAAS,MAEjBH,UAAW,CACTF,KAAMM,KAAK,UAMnBd,KAAKe,aAAe,CAClBC,OAAO,EACPC,iBAAkB,GAGlBC,WAAY,2BACZd,gBAAiB,CACf,2BACA,4BAEFe,UAAW,GAEXC,KAAM,KAENC,gBAAgB,GAElBrB,KAAKsB,KAAOtB,KAAKe,aACjBf,KAAKuB,MAAQvB,KAAKI,gBAAgB,4BAClCJ,KAAKC,O,wCAGP,WACEuB,QAAQC,IAAI,6BACRzB,KAAKsB,KAAKN,QACZQ,QAAQC,IAAI,gCACZzB,KAAKG,QAEP,IAEE,GADAH,KAAKsB,KAAOI,KAAKC,MAAMC,aAAaC,QAAQ7B,KAAKD,aAC5CC,KAAKsB,KAAM,MAAM,IAAIQ,MAAM,aAEhC,GADAN,QAAQC,IAAI,YAAazB,KAAKsB,OACzBtB,KAAKsB,KAAKL,kBAAoBjB,KAAKsB,KAAKL,iBAAmBjB,KAAKe,aAAaE,iBAAkB,CAIlG,IAAK,IAAIc,KAFTP,QAAQC,IAAR,yBAA8BzB,KAAKsB,KAAKL,iBAAxC,eAA+DjB,KAAKe,aAAaE,mBACjFjB,KAAKsB,KAAKL,iBAAmBjB,KAAKe,aAAaE,iBACjCjB,KAAKe,aACZf,KAAKsB,KAAKS,KACbP,QAAQC,IAAR,gCAAqCM,IACrC/B,KAAKsB,KAAKS,GAAK/B,KAAKe,aAAagB,IAGrC/B,KAAKG,QAEP,MAAO6B,GACPR,QAAQS,KAAR,uBAA6BjC,KAAKD,UAAlC,0CACAC,KAAKsB,KAAOtB,KAAKe,aACjBf,KAAKG,OAEPH,KAAKuB,MAAQvB,KAAKI,gBAAgBJ,KAAKsB,KAAKJ,YACvClB,KAAKuB,QAAOvB,KAAKuB,MAAQvB,KAAKI,gBAAL,W,kBAGhC,WACEoB,QAAQC,IAAI,4BACZ,IAAMS,EAAIR,KAAKS,UAAUnC,KAAKsB,MAE9B,OADAM,aAAaQ,QAAQpC,KAAKD,UAAWmC,GAC9BA,M,MDnFTG,MAAO,GACPjB,KAAM,KACNkB,OAAQ,KACRC,UAAW,KACXC,QAAS,KACTC,WAAY,MAmECC,mBAAgB,CAAE5C,OAhEjC,WAAsD,IAAtC6C,EAAqC,uDAA7B9C,GAAaC,OAAQ8C,EAAQ,uCACnD,OAAQA,EAAOhC,MACb,IAAK,aACH,OAAOgC,EAAOtB,KAChB,QACE,OAAOqB,IA2D4BJ,UA5BzC,WAA4D,IAAzCI,EAAwC,uDAAhC9C,GAAa0C,UAAWK,EAAQ,uCACzD,OAAQA,EAAOhC,MACb,IAAK,iBAEH,OAAOgC,EAAOtB,KAChB,QACE,OAAOqB,IAsBuCH,QAlBpD,WAAwD,IAAvCG,EAAsC,uDAA9B9C,GAAa2C,QAASI,EAAQ,uCACrD,OAAQA,EAAOhC,MACb,IAAK,cACH,OAAOgC,EAAOtB,KAChB,QACE,OAAOqB,IAagDL,OArC7D,WAAsD,IAAtCK,EAAqC,uDAA7B9C,GAAayC,OAAQM,EAAQ,uCACnD,OAAQA,EAAOhC,MACb,IAAK,aACH,OAAOgC,EAAOtB,KAChB,QACE,OAAOqB,IAgCwDvB,KAvDrE,WAAkD,IAApCuB,EAAmC,uDAA3B9C,GAAauB,KAAMwB,EAAQ,uCAC/C,OAAQA,EAAOhC,MACb,IAAK,WACH,OAAOgC,EAAOtB,KAChB,QACE,OAAOqB,IAkD8DN,MA9C3E,WAAoD,IAArCM,EAAoC,uDAA5B9C,GAAawC,MAAOO,EAAQ,uCACjD,OAAQA,EAAOhC,MACb,IAAK,YACH,OAAOgC,EAAOtB,KAChB,QACE,OAAOqB,IAyCqEF,WATlF,WAA8D,IAA1CE,EAAyC,uDAAjC9C,GAAa4C,WAAYG,EAAQ,uCAC3D,OAAQA,EAAOhC,MACb,IAAK,kBACH,OAAOgC,EAAOtB,KAChB,QACE,OAAOqB,MExDEE,GAJHC,YACRC,GACAC,YAAgBC,M,gFCfb,SAASC,GAAU5B,GACxB,OAAO,SAAA6B,GACLA,EAAS,CAAEvC,KAAM,aAAcU,KAAMA,KAUlC,SAAS8B,GAAQ9B,GACtB,OAAO,SAAA6B,GACLA,EAAS,CAAEvC,KAAM,WAAYU,KAAMA,KAUhC,SAAS+B,GAAa/B,GAC3B,OAAO,SAAA6B,GACLA,EAAS,CAAEvC,KAAM,iBAAkBU,KAAMA,KAItC,SAASgC,GAAWhC,GACzB,OAAO,SAAA6B,GACLA,EAAS,CAAEvC,KAAM,cAAeU,KAAMA,KAInC,SAASiC,GAAcjC,GAC5B,OAAO,SAAA6B,GACLA,EAAS,CAAEvC,KAAM,kBAAmBU,KAAMA,K,cCvBvC,SAASkC,GAAUC,EAAOC,EAAKC,GACpC,GAAa,MAATF,EAAe,MAAO,GAC1B,IAAIG,EAAW,GACXC,SAAYJ,EAChB,GAAU,WAANI,GAAwB,WAANA,GAAwB,YAANA,EACtCD,GAAY,IAAMF,EAAM,KAAkB,MAAVC,GAAkBA,EAAUG,mBAAmBL,GAASA,QAExF,IAAK,IAAIM,KAAKN,EAAO,CACnB,IAAI1B,EAAW,MAAP2B,EAAcK,EAAIL,GAAOD,aAAiBO,MAAQ,IAAMD,EAAI,IAAM,IAAMA,GAChFH,GAAYJ,GAAUC,EAAMM,GAAIhC,EAAG4B,GAGvC,OAAOC,EA4BF,SAASK,GAAMC,GACpB,OAAO,IAAIC,SAAQ,SAAAC,GACjBC,WAAWD,EAAQF,MAmBhB,SAASI,GAAWC,GACzB,OAAc,MAAPA,GAA+C,oBAAzBA,EAAIC,OAAOC,UAmBnC,SAASC,GAASpD,GACvB,GAAIgD,GAAWhD,IAA2B,kBAAVA,EAAoB,CAElD,IADA,IAAIqD,EAAI,GACCZ,EAAI,EAAGA,EAAIzC,EAAKsD,OAAQb,IAC/BY,EAAEE,KAAKvD,EAAKyC,IAEd,OAAOY,EACF,GAAsB,kBAAVrD,EAAoB,CACrC,IAAIqD,EAAI,GACR,IAAK,IAAM5C,KAAKT,EACdqD,EAAE5C,GAAK2C,GAASpD,EAAKS,IAEvB,OAAO4C,EAEP,OAAOrD,EAIJ,SAASwD,GAAaC,EAAQC,GACnC,IAAIC,EAAMP,GAASK,GACnB,IAAK,IAAMhD,KAAKiD,EACdC,EAAIlD,GAAKiD,EAAOjD,GAElB,OAAOkD,EAGF,SAASC,GAAUC,GAExB,OADS,mBACFC,KAAKD,G,uICpHRE,GAAYC,aAAW,SAAC/D,GAAD,MAAY,CACvCgE,KAAM,CACJC,SAAU,KAEZC,MAAO,CAGLC,WAAY,QAEdC,OAAQ,CACNC,UAAW,eACXC,WAAY,OACZC,WAAYvE,EAAMwE,YAAYC,OAAO,YAAa,CAChDC,SAAU1E,EAAMwE,YAAYE,SAASC,YAGzCC,WAAY,CACVP,UAAW,sBAKA,SAASQ,GAASC,GAC/B,IAAMC,EAAUjB,KACRkB,EAASF,EAATE,KACR,EAAgCC,IAAMC,UAAS,GAA/C,mBAAOC,EAAP,KAAiBC,EAAjB,KACA,EAAgCH,IAAMC,SAAS,MAA/C,6BACA,OAAQ,gBAACG,GAAA,EAAD,CAAMC,UAAWP,EAAQf,KAAzB,UAkBN,eAACuB,GAAA,EAAD,CACED,UAAWP,EAAQb,MACnBsB,MAAOR,EAAKS,MACZC,MAAOV,EAAKU,MACZC,QAAS,SAAClF,GACRA,EAAEmF,kBACF3F,QAAQC,IAAI,kBAAmB8E,EAAKU,UAOxC,gBAACG,GAAA,EAAD,CAAaC,gBAAc,EAACH,QAAS,WAAQP,GAAaD,IAA1D,UACE,gBAACY,GAAA,EAAD,CAAKC,MAAO,CAAEC,MAAO,QAArB,UACE,eAACC,EAAA,EAAD,CAAYC,QAAQ,KAAKC,MAAM,cAAcC,UAAU,IAAIV,QAAS,SAAClF,GACnEA,EAAEmF,kBACF3F,QAAQC,IAAI,kBAAmB8E,EAAKU,QAFtC,SAIGV,EAAKU,QAER,eAACQ,EAAA,EAAD,CAAYC,QAAQ,KAAKC,MAAM,gBAAgBC,UAAU,IAAIV,QAAS,SAAClF,GACrEA,EAAEmF,kBACF3F,QAAQC,IAAI,mBAAoB8E,EAAKsB,SAFvC,SAIGtB,EAAKsB,YAGV,eAACC,EAAA,EAAD,CACEjB,UAAWkB,YAAKzB,EAAQX,OAAT,eACZW,EAAQH,WAAaO,IAExBQ,QAAS,WAAQP,GAAaD,IAC9BsB,gBAAetB,EACfuB,aAAW,YANb,SAQE,eAAC,KAAD,SAGJ,eAACC,GAAA,EAAD,CAAUC,GAAIzB,EAAU0B,QAAQ,OAAOC,eAAa,EAApD,SACE,gBAACC,GAAA,EAAD,WACE,eAACb,EAAA,EAAD,CAAYC,QAAQ,QAAQC,MAAM,gBAAgBC,UAAU,IAA5D,SACGrB,EAAKgC,OAER,eAACT,EAAA,EAAD,UACE,eAAC,KAAD,MAEF,eAACA,EAAA,EAAD,UACE,eAAC,KAAD,c,wBC1FJzC,GAAYC,aAAW,SAAC/D,GAAD,MAAY,CACvCgE,KAAM,CACJiD,QAAS,OACTC,SAAU,OACVC,eAAgB,eAChBC,SAAU,SACVC,gBAAiBrH,EAAMjB,QAAQuI,WAAWC,OAE5CC,SAAU,OAOG,SAASC,KACN3D,KAAhB,IAuCM4D,EAAUC,eAEhB,OADID,GAAWzH,QAAQC,IAAI,mBACnB,gBAAC6F,GAAA,EAAD,WACN,wBACA,eAACG,EAAA,EAAD,CAAYC,QAAQ,KAApB,sCACA,wBACA,eAACyB,GAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAzB,SA5CY,CACZ,CACEpC,MAAO,kBACPY,OAAQ,OACRU,KAAM,eACNvB,MAAO,4DAET,CACEC,MAAO,mBACPY,OAAQ,KACRU,KAAM,eACNvB,MAAO,4DAET,CACEC,MAAO,kBACPY,OAAQ,KACRU,KAAM,eACNvB,MAAO,4DAET,CACEC,MAAO,mBACPY,OAAQ,KACRU,KAAM,eACNvB,MAAO,4DAET,CACEC,MAAO,kBACPY,OAAQ,KACRU,KAAM,eACNvB,MAAO,4DAET,CACEC,MAAO,mBACPY,OAAQ,KACRU,KAAM,eACNvB,MAAO,6DAUAsC,KAAI,SAACC,EAAGxH,GACb,OAAO,eAACoH,GAAA,EAAD,CAAcK,MAAI,EAACC,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAArC,SAAwC,eAACvD,GAAD,CAAUG,KAAMgD,KAA7CxH,QAGtB,wBACA,eAAC6H,GAAA,EAAD,CAAgBjC,MAAM,YAAYJ,MAAO,CAAEiB,QAAUS,EAAU,QAAU,a,IC8DvEY,GAAM,I,WArIV,aAAe,oBAGb7J,KAAK8J,KAAOC,OAAOC,SAASC,KAAKC,SAAS,aAAe,YAAc,KACvElK,KAAKmK,KAAO,KACZnK,KAAKoK,YAAc,KACnBpK,KAAKqK,WAAL,eAA0BrK,KAAKoK,aAC/BpK,KAAKsK,SAAW,OAChBtK,KAAKuK,IAAMvK,KAAK8J,KAAL,UAAe9J,KAAKsK,SAApB,cAAkCtK,KAAK8J,KAAvC,YAA+C9J,KAAKmK,MAApD,OAA2DnK,KAAKqK,YAAhE,UAAkFrK,KAAKqK,YAClGrK,KAAKwK,aAAe,GACpBxK,KAAKyK,cAAgB,G,6CAEvB,SAAUD,EAAcC,QAGDC,IAAjBF,IACFxK,KAAKwK,aAAeA,QACAE,IAAlBD,IACFzK,KAAKyK,cAAgBA,K,uBAEzB,WACE,MAAO,CACLD,aAAoC,KAAtBxK,KAAKwK,kBAAsBE,EAAY1K,KAAKwK,aAAcC,cAAsC,KAAvBzK,KAAKyK,mBAAuBC,EAAY1K,KAAKyK,iB,yBAGxI,SAAYE,EAAQjH,GAA4B,IAAvBkH,EAAsB,uDAAb,MAAOtJ,EAAM,uCAC7C,OAAOtB,KAAK6K,QAAL,UAAgBF,EAAhB,YAA0BjH,GAAOkH,EAAQtJ,K,2BAElD,WACE,IAAIxB,EAAS+C,GAAMiI,WAAWhL,OAC9BA,EAAOwB,KAAKH,UAAYnB,KAAK+K,YAC7BvJ,QAAQC,IAAI,wBAAyB3B,EAAOwB,KAAKH,WAEjD0B,GAAMM,SAASD,GAAUpD,M,8BAE3B,WACE,IAAMA,EAAS+C,GAAMiI,WAAWhL,OAChCE,KAAKgL,UAAUlL,EAAOwB,KAAKH,UAAUqJ,aAAc1K,EAAOwB,KAAKH,UAAUsJ,iB,yBAE3E,WAA6C,IAAjCQ,EAAgC,wDAAfC,IAAe,yDACtCC,EAAU,CACZ,eAAgB,oBAQlB,OANIF,IACFE,EAAO,QAAcnL,KAAKyK,eAExBS,GACwB,KAAtBlL,KAAKwK,eAAqBW,EAAO,cAAoBnL,KAAKwK,cAEzDW,I,4DAET,WAAcR,GAAd,iDAAAS,EAAA,6DAAsBR,EAAtB,+BAA+B,MAAOtJ,EAAtC,uBACQ+J,EAAU,CACdT,OAAQA,EACRU,KAAM,OAENC,KAAiB,QAAXX,OAAmBF,EAAapJ,EAAOI,KAAKS,UAAUb,QAAQoJ,EAEpES,QAASnL,KAAKwL,YAAYC,QAAmB,YAAXd,GAAmC,WAAXC,KAGtDL,EAAkB,QAAXK,GAAqBtJ,EAAtB,UAA2DtB,KAAKuK,IAAhE,YAAuEI,EAAvE,YAAiFnH,GAAUlC,GAAMoK,MAAM,IAAvG,UAAiC1L,KAAKuK,IAAtC,YAA6CI,GAV3D,SAYqBgB,MAAMpB,EAAKc,GAZhC,cAYQO,EAZR,OAaMC,EAAK,KAbX,mBAcmBD,EAAKE,OAdxB,QAcQD,EAdR,gEAeIrK,QAAQuK,MAAR,MACAlJ,GAAMM,SAASE,GAAa,EAAD,KAhB/B,kBAiBW,CAAE2I,KAAMJ,EAAKK,OAAQF,MAAOH,EAAKM,aAjB5C,WAmBE1K,QAAQC,IAAI,UAAWoK,GAClBA,KAEHA,EAAK,IACFrJ,QAAUoJ,EAAKM,iBAEJxB,IAAZmB,EAAGG,OAAoBH,EAAGG,KAAOJ,EAAKK,QAC1B,MAAZJ,EAAGG,KA1BT,oBA2B+B,KAAvBhM,KAAKyK,cA3Bb,0CA6Ba,MA7Bb,yBAiCwBkB,MAAM,GAAD,OAAI3L,KAAKuK,IAAT,YAAwB,CAC/CK,OAAQ,MACRU,KAAM,OACNH,QAASnL,KAAKwL,aAAY,KApChC,eAiCUW,EAjCV,2BAwCwBA,EAAML,OAxC9B,WA0CuB,OAFXM,EAxCZ,QA0CcJ,KA1Cd,iBA2CQhM,KAAKgL,UAAUoB,EAAI9K,KAAKkJ,aAAc4B,EAAI9K,KAAKmJ,eAC/CzK,KAAKqM,gBAGY,OADXC,EAAMtM,KAAK6K,QAAQ,OAAQ,QACzBmB,MACNnJ,GAAMM,SAASC,GAAQkJ,EAAIhL,KAAKF,OAhD1C,+BAqDQyB,GAAMM,SAASE,GAAa,iEArDpC,kBAsDe,MAtDf,oFA0Da,CAAE2I,KAAMG,EAAMF,OAAQF,MAAOI,EAAMD,aA1DhD,iCA4DWlM,KAAK6K,QAAQF,EAAQC,EAAQtJ,IA5DxC,eA8DkB,MAAZuK,EAAGG,KAEU,YAAXrB,GAAmC,SAAXC,GAAoB,EACNiB,EAAGvK,KAAnCkJ,EADqC,EACrCA,aAAcC,EADuB,EACvBA,cAEtBzK,KAAKgL,UAAUR,EAAcC,GAC7BzK,KAAKqM,iBACe,YAAX1B,GAAmC,WAAXC,IAGjC5K,KAAKgL,UAAU,GAAI,IACnBhL,KAAKqM,iBAGPxJ,GAAMM,SAASE,GAAawI,IA5EhC,kBA8ESA,GA9ET,kE,iHCnDEU,IAAuB,EAWZ,SAASC,GAAUnG,GAChC,IAAQoG,EAA2BpG,EAA3BoG,SAAUC,EAAiBrG,EAAjBqG,aACZjK,EAAaI,GAAMiI,WAAWrI,WACpC,EAAsC+D,IAAMC,SAASiG,GAAgBA,EAAahJ,IAAMgJ,EAAahJ,IAAY,IAAjH,mBAAOiJ,EAAP,KAAoBC,EAApB,KACA,EAAoCpG,IAAMC,SAAShE,EAAciK,EAAeA,EAAaG,IAAMC,OAAOC,KAAKtK,GAAY,GAAM,MAAjI,mBAAOuK,EAAP,KAAmBC,EAAnB,KACMC,EAAe,WACdT,GACLA,EAASE,EAAaK,EAAYvK,IAEpC,OACE,gBAAC0G,GAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAzB,UAGE,eAACF,GAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,EAAf,SACE,gBAAC0D,GAAA,EAAD,CAAaC,WAAS,EAAtB,UACE,eAACC,GAAA,EAAD,uCACA,eAACC,GAAA,EAAD,CACEC,MAAOP,EACPQ,SAAU,SAACxL,GACTiL,EAAcjL,EAAEyL,OAAOF,QAH3B,SAMG9K,EAAaqK,OAAOC,KAAKtK,GAAY6G,KAAI,SAACvH,EAAGwH,GAC5C,OAAO,eAACmE,GAAA,EAAD,CAAkBH,MAAOxL,EAAzB,SAA6BU,EAAWV,GAAG4L,MAA5BpE,MACnB,eAACmE,GAAA,EAAD,8CAKX,eAACvE,GAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,EAAf,SACE,eAACmE,GAAA,EAAD,CAAWR,WAAS,EAClBI,SAAU,SAAAxL,GAAC,OAAI4K,EAAe5K,EAAEyL,OAAOF,QACvCM,UAAW,SAAA7L,GACK,UAAVA,EAAE0B,KAAiBwJ,KAEzBK,MAAOZ,MAGX,eAACxD,GAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,EAAf,SACE,eAACqE,GAAA,EAAD,CAAQpG,QAAQ,YAAYC,MAAM,UAAUT,QAASgG,EAArD,+BAjDHrK,GAAMiI,WAAWrI,YAAe8J,IACnC,sBAAC,4BAAAnB,EAAA,6DACCmB,IAAuB,EADxB,SAEoB1C,GAAIgB,QAAQ,SAAU,SAF1C,OAEOe,EAFP,OAGC/I,GAAMM,SAASI,GAAcqI,EAAKtK,KAAKyM,cACvCxB,IAAuB,EAJxB,0CAAD,G,wBCNa,SAASyB,GAAS3H,GAC/B,IAAQ4H,EAAoB5H,EAApB4H,KAAMC,EAAc7H,EAAd6H,UACRC,EAAY9H,EAAM8H,WAAa,IACrC,OAAO,eAAC7G,GAAA,EAAD,UACL,gBAAC8G,EAAA,EAAD,CAAM7G,MAAO,CAAE4G,UAAWA,EAAWxF,SAAU,QAA/C,UAGGuF,GAAa,eAACG,GAAA,EAAD,UAAgBH,IAC7BD,EAAK3E,KAAI,SAACE,EAAM9F,GAAP,OAAe,eAAC4K,GAAA,EAAD,CAAUC,QAAM,EAAhB,SACvB,eAACC,GAAA,EAAD,UACGhF,EAAKiF,QAFqC/K,WCTtC,SAASgL,GAAerI,GACrC,IACM4H,EADO,CAAC,eAAM,eAAM,eAAM,2BAAQ,eAAM,eAAM,qBAAO,eAAM,eAAM,2BAAQ,eAAM,eAAM,eAAM,eAAM,eAAM,qBAAO,2BAAQ,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,2BAAQ,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,qBAAO,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,2BAAQ,6CAAW,eAAM,eAAM,eAAM,2BAAQ,eAAM,eAAM,eAAM,2BAAQ,eAAM,2BAAQ,eAAM,eAAM,eAAM,eAAM,2BAAQ,2BAAQ,eAAM,qBAAO,eAAM,eAAM,eAAM,2BAAQ,2BAAQ,eAAM,eAAM,eAAM,qBAAO,eAAM,qBAAO,eAAM,2BAAQ,qBAAO,eAAM,qBAAO,2BAAQ,uCAAU,2BAAQ,2BAAQ,eAAM,eAAM,eAAM,2BAAQ,qBAAO,eAAM,2BAAQ,qBAAO,eAAM,eAAM,2BAAQ,eAAM,eAAM,2BAAQ,eAAM,qBAAO,iDAAY,2BAAQ,eAAM,eAAM,2BAAQ,2BAAQ,eAAM,qBAAO,2BAAQ,qBAAO,eAAM,eAAM,eAAM,eAAM,2BAAQ,qBAAO,eAAM,qBAAO,eAAM,eAAM,gBACtxB3E,KAAI,SAAAvH,GACpB,MAAO,CAAE0M,KAAM1M,MAEjB,OAAO,eAACiM,GAAD,CAAUE,UAAU,2BAAOD,KAAMA,ICL3B,SAASU,GAAYtI,GAClC,IACM4H,EADO,CAAC,eAAM,eAAM,eAAM,2BAAQ,eAAM,eAAM,qBAAO,eAAM,eAAM,2BAAQ,eAAM,eAAM,eAAM,eAAM,eAAM,qBAAO,2BAAQ,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,2BAAQ,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,qBAAO,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,2BAAQ,6CAAW,eAAM,eAAM,eAAM,2BAAQ,eAAM,eAAM,eAAM,2BAAQ,eAAM,2BAAQ,eAAM,eAAM,eAAM,eAAM,2BAAQ,2BAAQ,eAAM,qBAAO,eAAM,eAAM,eAAM,2BAAQ,2BAAQ,eAAM,eAAM,eAAM,qBAAO,eAAM,qBAAO,eAAM,2BAAQ,qBAAO,eAAM,qBAAO,2BAAQ,uCAAU,2BAAQ,2BAAQ,eAAM,eAAM,eAAM,2BAAQ,qBAAO,eAAM,2BAAQ,qBAAO,eAAM,eAAM,2BAAQ,eAAM,eAAM,2BAAQ,eAAM,qBAAO,iDAAY,2BAAQ,eAAM,eAAM,2BAAQ,2BAAQ,eAAM,qBAAO,2BAAQ,qBAAO,eAAM,eAAM,eAAM,eAAM,2BAAQ,qBAAO,eAAM,qBAAO,eAAM,eAAM,gBACtxB3E,KAAI,SAAAvH,GACpB,MAAO,CAAE0M,KAAM1M,MAEjB,OAAO,eAACiM,GAAD,CAAUE,UAAU,2BAAOD,KAAMA,I,0CC+BrBW,IAlCHtJ,aAAW,SAAC/D,GAAD,MAAY,CACvCgE,KAAM,CACJsJ,YAAa,c,oDAiCf,WAAYxI,GAAQ,IAAD,8BACjB,cAAMA,IACD4E,QAAU,EAAKA,QAAQ/K,KAAb,iBACf,EAAK4O,OAAS,CACZ,gEACA,iEACA,4DAEF,EAAKnM,MAAQ,CACXoM,WAAY,EACZC,eAAgB,EAAKF,OAAOlK,OAAS,EACrCqK,SAAS,EACTC,gBAAgB,GAElB,EAAKC,cAAgB,KACrB,EAAKC,YAAc,IAfF,E,2CAiBnB,WAAW,IAAD,OACR,GAAKpP,KAAKmP,cAAV,CAEA,IAAMpN,EAAK/B,KAAK2C,MAAMoM,aAAe/O,KAAK8O,OAAOlK,OAAS,EAAK,EAAK5E,KAAK2C,MAAMoM,WAAa,EAC5F/O,KAAKqP,SAAS,CAAEN,WAAYhN,EAAGiN,eAAgBhP,KAAK2C,MAAMoM,WAAYE,SAAS,IAC/E5K,YAAW,WACL,EAAK1B,MAAMuM,gBACf,EAAKG,SAAS,CAAEJ,SAAS,MACxB,MACH5K,WAAWrE,KAAKiL,QAASjL,KAAKoP,gB,+BAEhC,WAEEpP,KAAKmP,eAAgB,EACrB9K,WAAWrE,KAAKiL,QAASjL,KAAKoP,e,kCAEhC,WAEEpP,KAAKmP,eAAgB,I,oBAEvB,WAAU,IAAD,OACP,OAAO,gBAACG,GAAA,EAAD,WACL,eAAChI,GAAA,EAAD,UACE,sBAAKuF,IAAK7M,KAAK8O,OAAO9O,KAAK2C,MAAMoM,gBAQnC,eAACzH,GAAA,EAAD,CAAKC,MAAO,CAAEiB,QAAS,OAAQE,eAAgB,UAA/C,SACG1I,KAAK8O,OAAOxF,KAAI,SAACC,EAAGxH,GAAJ,OAAU,eAAC+L,GAAA,EAAD,CAAgB5G,QAAS,WAAQ,EAAKmI,SAAS,CAAEN,WAAYhN,KAA7D,SAAsEA,GAAzDA,e,GAlDZyE,IAAM+I,Y,UCnC3BC,kBCOA,SAASC,GAAUpJ,GAChC,OAAQ,gBAACiC,GAAA,EAAD,WACN,eAAChB,GAAA,EAAD,UACE,eAACA,GAAA,EAAD,CAAKC,MAAO,CAAEmI,YAAa,GAAIC,aAAc,IAA7C,SACE,eAACnD,GAAD,CAAWC,SAAU,SAAC/I,EAAKmJ,GACzB+C,GAAQ/K,KAAK,CAAEgL,SAAU,UAAWC,OAAQtM,GAAU,CAAEE,MAAKmJ,QAAOnB,MAAM,YAKhF,wBACA,eAACqE,EAAA,EAAD,IACA,eAAC,GAAD,IACA,wBACA,eAACA,EAAA,EAAD,IACA,wBACA,gBAAC5G,GAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,GAAzB,UACE,eAACF,GAAA,EAAD,CAAMK,MAAI,EAACG,GAAI,EAAGD,GAAI,GAAInC,MAAO,CAAEyI,QAAS,IAA5C,SACE,eAACtB,GAAD,MAEF,eAACvF,GAAA,EAAD,CAAMK,MAAI,EAACG,GAAI,EAAGD,GAAI,GAAInC,MAAO,CAAEyI,QAAS,IAA5C,SACE,eAACrB,GAAD,SAGJ,wBACA,eAACoB,EAAA,EAAD,IACA,wBACA,eAAC/G,GAAD,O,cC7BJ,SAASiH,GAAW5J,GAClB,MAA+BG,IAAMC,SAAS,CAC5CyJ,SAAU,GACVC,SAAU,GACVC,QAAS,GACTC,WAAY,UAJd,mBAAO1N,EAAP,KAAc2N,EAAd,KAMMC,EAAc/J,IAAMgK,SACpBC,EAAcjK,IAAMgK,SACpBnB,EAAW,SAACrK,GAAD,OAAYsL,EAAcxL,GAAanC,EAAOqC,KAEzD0L,EAAmC,UAArB/N,EAAM0N,WACpBM,EAAY,uCAAG,gCAAAvF,EAAA,0DAEfsF,EAFe,iCAGC7G,GAAIgB,QAAQ,UAAW,OAAQ,CAC/CqF,SAAUvN,EAAMuN,SAAUC,SAAUxN,EAAMwN,WAJ3B,UAGX7D,EAHW,OAMjB9K,QAAQC,IAAI6K,GACK,MAAbA,EAAIN,KAPS,iEASEnC,GAAIgB,QAAQ,OAAQ,OATtB,UAUC,OADZzJ,EATW,QAUR4K,KAVQ,mDAWjBxK,QAAQC,IAAI,OAAQL,EAAKE,KAAKF,MAC9ByB,GAAMM,SAASC,GAAQhC,EAAKE,KAAKF,OAZhB,yCAeCyI,GAAIgB,QAAQ,OAAQ,OAAQ,CAC5CqF,SAAUvN,EAAMuN,SAAUC,SAAUxN,EAAMwN,WAhB3B,QAeX7D,EAfW,OAkBjB9K,QAAQC,IAAI6K,GACK,MAAbA,EAAIN,OAENnJ,GAAMM,SAASG,GAAW,6BAC1B+L,EAAS,CAACgB,WAAY,WAtBP,4CAAH,qDA2BlB,OAAQ,gBAAC/I,GAAA,EAAD,WACN,eAACG,EAAA,EAAD,CAAYC,QAAQ,KAApB,SAA0BgJ,EAAc,eAAO,iBAC/C,wBACA,eAACX,EAAA,EAAD,IACA,wBACA,eAACnC,GAAA,EAAD,CAAWR,WAAS,EAACwD,IAAKL,EAAaM,MAAM,qBAAMnJ,QAAQ,WAAW6F,MAAO5K,EAAMuN,SAAU1C,SAAU,SAAAxL,GACrGqN,EAAS,CAAEa,SAAUlO,EAAEyL,OAAOF,SAC7BM,UAAW,SAAA7L,GACG,UAAXA,EAAEgK,MACJyE,EAAYK,QAAQC,cAAc,SAASC,WAG/C,wBAAM,wBACN,eAACpD,GAAA,EAAD,CAAWR,WAAS,EAACwD,IAAKH,EAAaI,MAAM,eAAKnJ,QAAQ,WAAW6F,MAAO5K,EAAMwN,SAAUvP,KAAK,WAAW4M,SAAU,SAAAxL,GACpHqN,EAAS,CAAEc,SAAUnO,EAAEyL,OAAOF,SAC7BM,UAAW,SAAA7L,GACG,UAAXA,EAAEgK,MACJ2E,OAGJ,eAACM,GAAA,EAAD,CAAM9I,GAAIuI,EAAanJ,MAAO,CAAEiB,QAASkI,EAAc,QAAU,QAAUtI,QAAS,CAAE8I,KAAM,EAAGC,MAAO,KAAtG,SACE,gBAAC7J,GAAA,EAAD,WACE,gBAACA,GAAA,EAAD,WACE,wBACA,eAACwG,GAAA,EAAD,CAAQV,WAAS,EAAC1F,QAAQ,YAAYC,MAAM,UAAUT,QAASyJ,EAA/D,6BAEF,gBAACrJ,GAAA,EAAD,WACE,wBACA,eAACwG,GAAA,EAAD,CAAQV,WAAS,EAAC1F,QAAQ,YAAYC,MAAM,YAAYT,QAAS,kBAAMmI,EAAS,CAAEgB,WAAY,aAA9F,kCAIN,eAACY,GAAA,EAAD,CAAM9I,IAAKuI,EAAanJ,MAAO,CAAEiB,QAAUkI,EAAwB,OAAV,SAAoBtI,QAAS,CAAE8I,KAAM,EAAGC,MAAO,KAAxG,SACE,gBAAC7J,GAAA,EAAD,WACE,gBAACA,GAAA,EAAD,WACE,wBACA,eAACwG,GAAA,EAAD,CAAQV,WAAS,EAAC1F,QAAQ,YAAYC,MAAM,UAAUT,QAASyJ,EAA/D,6BAEF,gBAACrJ,GAAA,EAAD,WACE,wBACA,eAACwG,GAAA,EAAD,CAAQV,WAAS,EAAC1F,QAAQ,YAAYR,QAAS,kBAAMmI,EAAS,CAAEgB,WAAY,WAA5E,iDAOK,SAASe,GAAM/K,GAC5B,OAAO,eAACiC,GAAA,EAAD,CAAW9C,SAAS,KAApB,SACL,eAACyK,GAAD,MC7FW,SAASR,KACtB,OAAQ,eAACnH,GAAA,EAAD,UACN,eAACb,EAAA,EAAD,8BCFW,SAAS4J,KACtB,OAAQ,eAAC/I,GAAA,EAAD,UACN,eAACb,EAAA,EAAD,+B,cCCEpC,GAAYC,aAAW,SAAC/D,GAAD,MAAY,CACvC+P,MAAO,CACLC,MAAOhQ,EAAM8H,QAAQ,GACrBmI,OAAQjQ,EAAM8H,QAAQ,IAExBoI,MAAO,CACLF,MAAOhQ,EAAM8H,QAAQ,GACrBmI,OAAQjQ,EAAM8H,QAAQ,QAI1B,SAASqI,GAAOrL,GACd,IAEIsL,EAFErL,EAAUjB,KAChB,EAA6DgB,EAAMuL,OAASvL,EAAMuL,OAASvL,EAAnF6J,EAAR,EAAQA,SAAU2B,EAAlB,EAAkBA,KAAMC,EAAxB,EAAwBA,QAASC,EAAjC,EAAiCA,KAAMC,EAAvC,EAAuCA,KAAMC,EAA7C,EAA6CA,YAEtC/M,GAAU2M,EAAK,OAAUA,EAAK,IAAQ3M,GAAU2M,EAAK,MAAWA,EAAK,IAAUE,IAAMJ,EAAWE,EAAKnG,MAAM,EAAG,IACrH,IAAMwG,EAAc,gBAAC5K,GAAA,EAAD,CAAKC,MAAO,CAAEiB,QAAS,OAAQ2J,cAAe,SAAUC,SAAU,IAAMlL,QAAS,WAAQ8K,GAAQjI,OAAOsI,KAAKL,EAAM,WAAnH,UAClB,eAAC1K,GAAA,EAAD,UACGyK,EAAO,eAACO,GAAA,EAAD,CAAQC,IAAKV,EAAMhF,IAAKkF,EAAMlL,UAAWP,EAAQmL,QAAmB,eAACa,GAAA,EAAD,CAAQC,IAAKV,EAAMhL,UAAWP,EAAQmL,MAAtC,SAA8CE,GAAsBE,EAAK,OAEvJ,gBAACvK,GAAA,EAAD,WACE,eAACG,EAAA,EAAD,CAAYC,QAAQ,KAApB,SAA0BmK,IACzB3B,EAAW,gBAACzI,EAAA,EAAD,CAAYC,QAAQ,QAApB,cAA8BwI,KAAyB,WAGvE,OAAO,eAAC5I,GAAA,EAAD,CAAKC,MAAO,CAAEyI,QAAS,GAAIuB,MAAO,QAAlC,SACL,gBAACpI,GAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAzB,UACE,eAACF,GAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,EAAGE,GAAI,EAAtB,SACE,gBAACR,GAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAzB,UACE,eAACF,GAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,EAAGE,GAAI,EAAtB,SACGuI,IAEH,eAAC/I,GAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,EAAGE,GAAI,EAAGzC,QAAS,WAAQ6C,OAAOsI,KAAKL,EAAM,WAA5D,SACGC,EAAc,eAAC3K,GAAA,EAAD,UACb,sBAAKuF,IAAKoF,MACH,YAIdH,EAAU,eAAC3I,GAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,GAAIE,GAAI,EAAvB,SACT,eAAC2F,GAAA,EAAD,CAAO/H,MAAO,CAAEgK,MAAO,QAAvB,SACE,eAACjK,GAAA,EAAD,CAAKC,MAAO,CAAEqB,gBAAiB,YAAaoH,QAAS,GAAIwC,gBAAiB,QAASC,gBAAiB,GAAIC,gBAAiB,aAAzH,SACE,eAACjL,EAAA,EAAD,CAAYC,QAAQ,QAApB,SAA6BoK,UAGzB,UAKD,SAASa,GAAMtM,GA0C5B,OAAO,gBAACiC,GAAA,EAAD,CAAW9C,SAAS,KAApB,UACL,eAACiC,EAAA,EAAD,CAAYC,QAAQ,KAApB,sCACA,eAACgK,GAAD,CAAQE,OATa,CACrB1B,SAAU,kBACV2B,KAAM,kBACNC,QAAS,4EACTC,KAAM,6DACNC,KAAM,uCAKN,eAAC7I,GAAA,EAAD,CAAMC,WAAS,EAAf,SA5Ca,CACb,CACE8G,SAAU,YACV2B,KAAM,QACNC,QAAS,aACTC,KAAM,uDACNC,KAAM,+BACNC,YAAa,wLAEf,CACE/B,SAAU,UACV2B,KAAM,WACNC,QAAS,wBACTC,KAAM,uDACNC,KAAM,8BACNC,YAAa,sLAEf,CACE/B,SAAU,aACV2B,KAAM,cACNE,KAAM,mGACNC,KAAM,gCAER,CACE9B,SAAU,SACV2B,KAAM,eACNG,KAAM,2BACND,KAAM,6GAER,CACEF,KAAM,2BACNE,KAAM,8GAcEzI,KAAI,SAACC,EAAGxH,GAAJ,OACV,eAACoH,GAAA,EAAD,CAAcK,MAAI,EAACC,GAAIF,EAAE0I,YAAc,GAAK,EAA5C,SACE,eAACP,GAAD,CAAQE,OAAQrI,KADPxH,WCpGJ,SAAS6Q,GAAKvM,GAC3B,OAAO,eAACiC,GAAA,EAAD,mB,wBCDM,SAASuK,GAASxM,GAC/B,IAAQ/E,EAAyC+E,EAAzC/E,KAAM+Q,EAAmChM,EAAnCgM,KAAMS,EAA6BzM,EAA7ByM,QAAS7L,EAAoBZ,EAApBY,MAAO8L,EAAa1M,EAAb0M,SACpC,EAAkCvM,IAAMC,UAAS,GAAjD,mBAAOuM,EAAP,KAAkBC,EAAlB,KACA,EAA0BzM,IAAMC,SAAS,MAAzC,mBAAOyM,EAAP,KAAcC,EAAd,KACA,EAAoC3M,IAAMC,SAAS,MAAnD,mBAAO2M,EAAP,KAAmBC,EAAnB,KAIA,OAAO,gBAACC,GAAA,EAAD,CAAQlG,WAAS,EAACiF,KAAMA,EAAMS,QAASA,EAAvC,UACL,eAACS,GAAA,EAAD,UAActM,IACd,gBAACuM,GAAA,EAAD,WACE,eAACpF,EAAA,EAAD,CAAM7G,MAAO,CAAEgK,MAAO,QAAtB,SACGzE,OAAOC,KAAKzL,GAAMgI,KAAI,SAACC,EAAGxH,GACzB,IAAM0R,EAAWV,GAAYA,EAASxJ,IAAYA,EAClD,GAAKjI,EAAKiI,GAAV,CACA,GAAyB,kBAAbjI,EAAKiI,GACf,OAAO,eAAC+E,GAAA,EAAD,CAAkBC,QAAM,EAACrH,QAAS,WACvCiM,EAAS7R,EAAKiI,IACd8J,EAAcI,GACdR,GAAa,IAHR,SAIHQ,GAJkB1R,GAMtB,IAAMG,EAAC,UAAMZ,EAAKiI,IAClB,OAAO,gBAAC+E,GAAA,EAAD,WACL,eAACE,GAAA,EAAD,UAAeiF,IACf,eAACC,GAAA,EAAD,UACE,eAACjM,EAAA,EAAD,CAAYC,QAAQ,QAApB,SAA6BxF,EAAEwJ,MAAM,EAAG,KAAOxJ,EAAE0C,OAAS,GAAK,MAAQ,UAHrD7C,SAU1BmR,GAASE,EAAc,eAACP,GAAD,CAAUvR,KAAM4R,EAAOb,KAAMW,EAAWF,QAAS,WAAQG,GAAa,IAAWhM,MAAOmM,SAA0B1I,QC+ElIiJ,OA3Gf,SAAkBtN,GAChB,MAAkCG,IAAMC,SAAS5D,GAAMiI,WAAWhL,OAAOwB,KAAKJ,YAA9E,mBAAO0S,EAAP,KAAkBC,EAAlB,KAEA,GAD2BrN,IAAMgK,SACiBhK,IAAMC,UAAS,IAAjE,mBAAOqN,EAAP,KAA0BC,EAA1B,KACA,EAA4CvN,IAAMC,UAAS,GAA3D,mBAAOuN,EAAP,KAAuBC,EAAvB,KACA,EAAoCzN,IAAMC,UAAS,GAAnD,mBACA,GADA,UACgCD,IAAMC,UAAS,IAA/C,mBAAOyN,EAAP,KAAiBC,EAAjB,KAEMC,EAAgB,WACpB,IAAIC,EAAIxR,GAAMiI,WAAWhL,OACzBuU,EAAE/S,KAAO+S,EAAEtT,aACXsT,EAAElU,OACFkU,EAAEpU,OACF4C,GAAMM,SAASD,GAAUmR,KAGrBjT,EAAOyB,GAAMiI,WAAW1J,KAE9B,OAAQ,gBAACkH,GAAA,EAAD,CAAW9C,SAAS,KAApB,UACN,gBAAC4I,EAAA,EAAD,WACE,eAACC,GAAA,EAAD,uCACA,gBAACC,GAAA,EAAD,WACE,eAACE,GAAA,EAAD,CAAcjO,QAAQ,uBACtB,eAACmT,GAAA,EAAD,UACGtS,EAAK8O,cAGV,eAAC5B,GAAA,EAAD,CAAUC,QAAM,EAACrH,QAAS,WAAQiN,GAAY,IAA9C,SACE,eAAC3F,GAAA,EAAD,CAAcjO,QAAQ,+BAExB,eAAC+N,GAAA,EAAD,CAAUC,QAAM,EAAhB,SACE,eAACC,GAAA,EAAD,CAAcjO,QAAQ,+BAExB,eAAC8N,GAAA,EAAD,2BACA,gBAACC,GAAA,EAAD,WACE,eAACE,GAAA,EAAD,CAAcjO,QAAQ,6BACtB,eAACmT,GAAA,EAAD,UACE,eAACvG,GAAA,EAAD,UAEE,eAACG,GAAA,EAAD,CAAQC,MAAOqG,EAAWpG,SAAU,SAAAxL,GAClC6R,EAAa7R,EAAEyL,OAAOF,OACtB,IAAI8G,EAAIxR,GAAMiI,WAAWhL,OACzBuU,EAAE/S,KAAKJ,WAAac,EAAEyL,OAAOF,MAC7B8G,EAAE9S,MAAQ8S,EAAEjU,gBAAgBiU,EAAE/S,KAAKJ,YACnCmT,EAAElU,OACF0C,GAAMM,SAASD,GAAUmR,IACzBhQ,YAAW,WAAQ0F,OAAOC,SAASsK,WAAa,MAPlD,SASGzR,GAAMiI,WAAWhL,OAAOwB,KAAKlB,gBAAgBkJ,KAAI,SAACC,EAAGxH,GAAJ,OAAU,eAAC2L,GAAA,EAAD,CAAkBH,MAAOhE,EAAzB,SAA6BA,GAAdxH,eAKnF,gBAACuM,GAAA,EAAD,WACE,eAACE,GAAA,EAAD,CAAcjO,QAAQ,yCACtB,eAACmT,GAAA,EAAD,UACE,eAACa,GAAA,EAAD,CAAQC,eAAgB3R,GAAMiI,WAAWhL,OAAOwB,KAAKD,eAAgBmM,SAAU,SAAAxL,GAC7E,IAAIqS,EAAIxR,GAAMiI,WAAWhL,OACzBuU,EAAE/S,KAAKD,eAAiBW,EAAEyL,OAAOgH,QACjCJ,EAAElU,OACF0C,GAAMM,SAASD,GAAUmR,YAI/B,eAAC/F,GAAA,EAAD,CAAUC,QAAM,EAACrH,QAAS,kBAAM6M,GAAqB,IAArD,SACE,eAACvF,GAAA,EAAD,CAAcjO,QAAQ,2CAExB,eAAC+N,GAAA,EAAD,CAAUC,QAAM,EAACrH,QAAS,kBAAM+M,GAAkB,IAAlD,SACE,eAACzF,GAAA,EAAD,CAAcjO,QAAQ,8CAG1B,eAACsS,GAAD,CAAUvR,KAAMuB,GAAMiI,WAAW1J,KAAMiR,KAAM6B,EAAUnB,SAAU,CAC/D7C,SAAU,qBAAO2B,KAAM,eAAM6C,MAAO,iCAAS5C,QAAS,2BAAQnP,MAAO,2BAAQgS,WAAY,qBAAOC,WAAY,sBAC3G3N,MAAM,2BAAO6L,QAAS,WAAQqB,GAAY,MAC7C,gBAACb,GAAA,EAAD,CAAQjB,KAAMyB,EAAmBhB,QAAS,kBAAMiB,GAAqB,IAArE,UACE,eAACR,GAAA,EAAD,mDAGA,eAACC,GAAA,EAAD,UACE,eAAC/L,EAAA,EAAD,CAAYC,QAAQ,QAApB,kIAEF,gBAACmN,GAAA,EAAD,WACE,eAAC/G,GAAA,EAAD,CAAQ5G,QAAS,kBAAM6M,GAAqB,IAA5C,0BACA,eAACjG,GAAA,EAAD,CAAQ5G,QAAS,WACfkN,IACArK,OAAOC,SAASsK,UAFlB,gCAMJ,gBAAChB,GAAA,EAAD,CAAQjB,KAAM2B,EAAgBlB,QAAS,kBAAMmB,GAAkB,IAA/D,UACE,eAACV,GAAA,EAAD,mDAGA,eAACC,GAAA,EAAD,UACE,eAAC/L,EAAA,EAAD,CAAYC,QAAQ,QAApB,sHAEF,gBAACmN,GAAA,EAAD,WACE,eAAC/G,GAAA,EAAD,CAAQ5G,QAAS,kBAAM+M,GAAkB,IAAzC,0BACA,eAACnG,GAAA,EAAD,CAAQ5G,QAAS,WACfkN,IACArK,OAAOC,SAASsK,UAFlB,oC,UC7EOQ,OAxBf,SAAsBzO,GACpB,IAAQ0O,EAAsB1O,EAAtB0O,KAAMxU,EAAgB8F,EAAhB9F,QAASyU,EAAO3O,EAAP2O,GAEjBC,EAAazO,IAAM0O,SACvB,kBAAM1O,IAAM2O,YAAW,SAACC,EAAWxE,GAAZ,OAAoB,eAAC,IAAD,aAAYoE,GAAIA,EAAIpE,IAAKA,GAASwE,SAC7E,CAACJ,IAGH,OACE,8BACE,gBAAC1G,GAAA,EAAD,CAAUC,QAAM,EAAC3G,UAAWqN,EAA5B,UACGF,EAAO,eAACM,GAAA,EAAD,UAAeN,IAAuB,KAC9C,eAACvG,GAAA,EAAD,CAAcjO,QAASA,UCb/B,SAAS+U,GAAkBjP,GACzB,IAAQkP,EAAUlP,EAAVkP,MAER,OAAO,eAACpM,GAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAzB,SACJkM,EAAMjM,KAAI,SAAC/C,EAAMxE,GAAP,OAAa,eAACoH,GAAA,EAAD,CAAcK,MAAI,EAACC,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAArC,SAAwC,eAACvD,GAAD,CAAUG,KAAM,CAC9EU,MAAOV,EAAKU,MACZY,OAAQtB,EAAKiP,SACbjN,KAAM,KACNvB,MAAOT,EAAKkP,cAJqB1T,QAqBxB,SAAS2T,GAAarP,GACnC,IAAQsP,EAAWtP,EAAXsP,OACR,OAAO,gBAACvH,EAAA,EAAD,WACJuH,EAAOC,aAAe,eAACtH,GAAA,EAAD,UACrB,gBAAChH,GAAA,EAAD,WACE,eAACG,EAAA,EAAD,CAAYC,QAAQ,KAApB,sCACA,eAAC4N,GAAD,CAAmBC,MAAOI,EAAOC,aAAaL,aAEpC,KACbI,EAAOE,OAAS,eAACvH,GAAA,EAAD,UACf,gBAAChH,GAAA,EAAD,WACE,eAACG,EAAA,EAAD,CAAYC,QAAQ,KAApB,sCACA,eAAC4N,GAAD,CAAmBC,MAAOI,EAAOE,cAEvB,QCjCH,SAASC,GAAOzP,GAC7B,MAA4BG,IAAMC,SAAS,MAA3C,mBAAOkP,EAAP,KAAeI,EAAf,KACA,EAAgDvP,IAAMC,UAAS,GAA/D,mBAAOuP,EAAP,KAAyBC,EAAzB,KACA,EAAwCzP,IAAMC,SAAS,MAAvD,mBAAOiG,EAAP,KAAqBwJ,EAArB,KACMC,EpB0BC,aAAI,IAAIC,IAAI,mBAAqBrM,OAAOC,SAASqM,KAAK3K,MAAM,IAAI4K,coBzBvE9U,QAAQC,IAAI,QAAS0U,GACrB,IAAMjJ,EAAY,uCAAG,WAAOxJ,EAAKmJ,EAAK0J,GAAjB,eAAAnL,EAAA,6DACnB5J,QAAQC,IAAIiC,EAAKmJ,EAAK0J,GADH,SAEA1M,GAAIgB,QAAQ,SAAU,MAAO,CAAEnH,MAAKmJ,QAFpC,OAEbjB,EAFa,OAGnBpK,QAAQC,IAAImK,GACZmK,EAAUnK,EAAKtK,MAJI,2CAAH,0DAWlB,OALqB,IAAjB6U,EAAMvR,QAAiBoR,IACzB9I,EAAaiJ,EAAM,GAAG,GAAIA,EAAM,GAAG,IACnCF,GAAoB,GACpBC,EAAgB,CAAExS,IAAKyS,EAAM,GAAG,GAAItJ,IAAKsJ,EAAM,GAAG,MAE7C,gBAAC7N,GAAA,EAAD,WACL,eAACkE,GAAD,CAAWE,aAAcA,EAAcD,SAAUS,IAChDyI,EAAS,eAACD,GAAD,CAAcC,OAAQA,EAAO7F,SAA0B,QC6BrE,IAAM0G,GAAc,IACdnR,GAAYC,aAAW,SAAC/D,GAAD,MAAY,CACvCgE,KAAM,CACJiD,QAAS,OACT+I,MAAO,QAGTkF,OAAQ,CACNC,OAAQnV,EAAMmV,OAAOC,OAAS,EAC9B7Q,WAAYvE,EAAMwE,YAAYC,OAAO,CAAC,QAAS,UAAW,CACxD4Q,OAAQrV,EAAMwE,YAAY6Q,OAAOC,MACjC5Q,SAAU1E,EAAMwE,YAAYE,SAAS6Q,iBAGzC7P,MAAO,CACL8P,SAAU,GAEZC,YAAa,CACXnR,WAAY2Q,GACZjF,MAAM,eAAD,OAAiBiF,GAAjB,OACL1Q,WAAYvE,EAAMwE,YAAYC,OAAO,CAAC,QAAS,UAAW,CACxD4Q,OAAQrV,EAAMwE,YAAY6Q,OAAOC,MACjC5Q,SAAU1E,EAAMwE,YAAYE,SAASgR,kBAGzCC,WAAY,CACVC,YAAa,IAEfC,KAAM,CACJ5O,QAAS,QAEXmO,OAAQ,CACNpF,MAAOiF,GACPa,WAAY,EACZC,WAAY,UAEdC,WAAY,CACVhG,MAAOiF,GACP1Q,WAAYvE,EAAMwE,YAAYC,OAAO,QAAS,CAC5C4Q,OAAQrV,EAAMwE,YAAY6Q,OAAOC,MACjC5Q,SAAU1E,EAAMwE,YAAYE,SAASgR,kBAGzCO,YAAY,aACV1R,WAAYvE,EAAMwE,YAAYC,OAAO,QAAS,CAC5C4Q,OAAQrV,EAAMwE,YAAY6Q,OAAOC,MACjC5Q,SAAU1E,EAAMwE,YAAYE,SAAS6Q,gBAEvCW,UAAW,SACXlG,MAAOhQ,EAAM8H,QAAQ,GAAK,GACzB9H,EAAMmW,YAAYC,GAAG,MAAQ,CAC5BpG,MAAOhQ,EAAM8H,QAAQ,KAGzBuO,QAAQ,aACNpP,QAAS,OACTqP,WAAY,SACZnP,eAAgB,WAChBsH,QAASzO,EAAM8H,QAAQ,EAAG,IAEvB9H,EAAMuW,OAAOF,SAElBG,QAAS,CACPhB,SAAU,EACV/G,QAASzO,EAAM8H,QAAQ,GACvBkI,MAAO,OACPkG,UAAW,YAIXO,GAAc,GAEdC,GAAY,CACdnY,OAAQ,KACRsB,KAAM,KACNkB,OAAQ,MAGVO,GAAMqV,UAAN,sBAAgB,8BAAA9M,EAAA,2DACVzI,EAAQE,GAAMiI,YAGRhL,OAAOwB,KAJH,oBAKRI,KAAKS,UAAUQ,EAAM7C,OAAOwB,OAASI,KAAKS,UAAU8V,GAAUnY,QALtD,mBAOV6C,EAAM7C,OAAOK,QACT0C,GAAMiI,WAAW1J,OAAQyB,GAAMiI,WAAWhL,OAAOwB,KAAKD,eARhD,gCASFwI,GAAIgB,QAAQ,OAAQ,OAAQ,CAAE/K,OAAQ6C,EAAM7C,OAAOwB,OATjD,6BAcZ2W,GAAUnY,OAAS6C,EAAM7C,OAAOwB,KAdpB,QAgBd,IAAS6W,KAAWH,GAClBA,GAAYG,GAASxV,GAjBT,6CA2ODyV,OAtNf,WAAgB,IAAD,IACP9R,EAAUjB,KACV9D,EAAQ8W,cACd,EAAwB7R,IAAMC,UAAS,GAAvC,mBAAO4L,EAAP,KAAaiG,EAAb,KAEA,EAA8C9R,IAAMC,UAAS,GAA7D,mBAAO8R,EAAP,KAAwBC,EAAxB,KACA,EAAkChS,IAAMC,SAAS,MAAjD,mBAAOgS,EAAP,KAAkBC,EAAlB,KACA,EAA0BlS,IAAMC,SAHX,uCAGrB,mBAAOQ,EAAP,KACA,GADA,KAC+BT,IAAMmS,YAAW,SAAAC,GAAC,OAAIA,EAAI,IAAG,IAA5D,mBAAgBC,GAAhB,WAKArS,IAAMsS,WAAU,WACd,IAAMC,EAAiB,WACrB,IAAIxH,EAAQxH,OAAOiP,YAEd3G,GAAQd,GAPQ,KAOmB+G,GAAQ,GAC5CjG,GAAQd,GAPU,KAOkB+G,GAAQ,IAKlD,OAHAvO,OAAOkP,iBAAiB,OAAQF,GAChChP,OAAOkP,iBAAiB,SAAUF,GAE3B,WACLhP,OAAOmP,oBAAoB,OAAQH,GACnChP,OAAOmP,oBAAoB,SAAUH,OAKzCf,GAAW,MAAY,SAAUrV,GAC3BA,EAAMJ,YACRf,QAAQC,IAAI,eAAgBkB,EAAMJ,WAClCiW,EAAmB7V,EAAMJ,WAEzBM,GAAMM,SAASE,GAAa,SAIhC2U,GAAW,QAAc,SAAUrV,GAC7BA,EAAMH,UACRhB,QAAQC,IAAI,YAAakB,EAAMH,SAC/BkW,EAAa/V,EAAMH,SACnBK,GAAMM,SAASG,GAAW,SAG9B0U,GAAW,KAAW,SAAUrV,GAC1BA,EAAMvB,OACJM,KAAKS,UAAUQ,EAAMvB,OAASM,KAAKS,UAAU8V,GAAU7W,OACzDyX,IAEFZ,GAAU7W,KAAOuB,EAAMvB,OAG3B4W,GAAW,OAAa,SAAUrV,GAC5BA,EAAML,SACJZ,KAAKS,UAAUQ,EAAML,SAAWZ,KAAKS,UAAU8V,GAAU3V,SAC3DuW,IAEFZ,GAAU3V,OAASK,EAAML,SAI7B,IAAI6W,EAAgB,gBAAC,IAAD,WAClB,eAACC,EAAA,EAAD,IACA,eAACC,EAAA,EAAD,CACEC,SAAS,QACTzS,UAAWkB,YAAKzB,EAAQmQ,OAAT,eACZnQ,EAAQ0Q,YAAc3E,IAH3B,SAME,gBAACkH,EAAA,EAAD,WACE,eAACzR,EAAA,EAAD,CACEH,MAAM,UACNM,aAAW,cACXf,QAAS,WAAQoR,GAAQ,IACzBkB,KAAK,QACL3S,UAAWkB,YAAKzB,EAAQ4Q,WAAT,eACZ5Q,EAAQ8Q,KAAO/E,IANpB,SASE,eAAC,IAAD,MAEF,eAAC5K,EAAA,EAAD,CAAYC,QAAQ,KAAK+R,QAAM,EAAC5S,UAAWP,EAAQW,MAAnD,SACGA,IAEH,eAACa,EAAA,EAAD,CACEH,MAAM,UACNM,aAAW,QACXf,QAAS,aAHX,SAKE,eAAC,IAAD,WAIN,gBAACwS,EAAA,EAAD,CACEhS,QAAQ,YACRb,UAAWkB,YAAKzB,EAAQqQ,QAAT,mBACZrQ,EAAQiR,WAAalF,GADT,cAEZ/L,EAAQkR,aAAenF,GAFX,IAIf/L,QAAS,CACPwC,MAAOf,aAAI,mBACRzB,EAAQiR,WAAalF,GADb,cAER/L,EAAQkR,aAAenF,GAFf,KAPf,UAaE,sBAAKxL,UAAWP,EAAQsR,QAAxB,SACE,eAAC9P,EAAA,EAAD,CAAYZ,QAAS,WAAQoR,GAAQ,IAArC,UACG/W,EAAMoY,UAAsB,eAAC,IAAD,SAGjC,eAAC5J,EAAA,EAAD,IACA,gBAAC3B,EAAA,EAAD,CAAMlH,QAAS,WACT6C,OAAOiP,WAAa,KACtBV,GAAQ,IAFZ,UAKE,eAAC,GAAD,CAActD,GAAG,IAAIzU,QAAQ,qBAAMwU,KAAM,eAAC,IAAD,MACzC,eAAC,GAAD,CAAcC,GAAG,UAAUzU,QAAQ,eAAKwU,KAAM,eAAC,IAAD,MAC9C,eAAC,GAAD,CAAcC,GAAG,WAAWzU,QAAQ,eAAKwU,KAAM,eAAC,IAAD,MAC/C,eAAC,GAAD,CAAcC,GAAG,YAAYzU,QAAQ,eAAKwU,KAAM,eAAC,IAAD,MAChD,eAAC,GAAD,CAAcC,GAAG,YAAYzU,QAAQ,eAAKwU,KAAM,eAAC,IAAD,MAChD,eAAC,GAAD,CAAcC,GAAG,QAAQzU,QAAQ,eAAKwU,KAAM,eAAC,IAAD,MAC5C,eAAC,GAAD,CAAcC,GAAG,SAASzU,QAAQ,eAAKwU,KAAM,eAAC,IAAD,YAGjD,wBAAMlO,UAAWP,EAAQyR,QAAzB,UACE,sBAAKlR,UAAWP,EAAQsR,UACxB,gBAAC,IAAD,WACE,eAAC,IAAD,CAAOgC,KAAM,IAAKC,OAAO,EAAzB,SACE,eAAC,GAAD,MAEF,eAAC,IAAD,CAAOD,KAAM,WAAYC,OAAO,EAAhC,SACE,eAAC,GAAD,MAEF,eAAC,IAAD,CAAOD,KAAM,UAAWC,OAAO,EAA/B,SACE,eAAC,GAAD,MAEF,eAAC,IAAD,CAAOD,KAAM,YAAaC,OAAO,EAAjC,SACE,eAAC,GAAD,MAEF,eAAC,IAAD,CAAOD,KAAM,YAAaC,OAAO,EAAjC,SACE,eAACxI,GAAD,MAEF,eAAC,IAAD,CAAOuI,KAAM,QAASC,OAAO,EAA7B,SACE,eAACjH,GAAD,MAEF,eAAC,IAAD,CAAOgH,KAAM,SAAUC,OAAO,EAA9B,SACE,eAAClH,GAAD,eAcR,OARK9P,GAAMiI,WAAW1J,OAElB+X,EADEtW,GAAMiI,WAAWhL,OAAOwB,KAAKH,UAAUqJ,aACzB,eAAC/C,EAAA,EAAD,CAAYC,QAAQ,QAApB,yCAEA,eAAC0J,GAAD,KAKlB,sBAAKvK,UAAWP,EAAQf,KAAxB,SACE,gBAACuU,EAAA,EAAD,CAAevY,MAAOsB,GAAMiI,WAAWhL,OAAOyB,MAA9C,UACG4X,EACD,gBAAC7F,GAAA,EAAD,CAAQjB,OAAMkG,EAAgCzF,QAAS,WAAQ0F,EAAmB,OAAlF,UACE,eAACjF,GAAA,EAAD,uCACA,gBAACC,GAAA,EAAD,WACE,eAAC/L,EAAA,EAAD,CAAYC,QAAQ,QAApB,sCACA,eAACJ,GAAA,EAAD,CAAKM,UAAU,MAAf,SACE,eAACN,GAAA,EAAD,CAAKM,UAAU,MAAf,SACG,WACC,OAAItD,GAAWiU,IAAiD,kBAArBA,EAClC,eAACnK,EAAA,EAAD,UACJmK,EAAgBjP,KAAI,SAAC3E,EAAGZ,GAAJ,OAAU,eAACuK,GAAA,EAAD,UAC7B,gCAA6B,OAAtB5M,KAAKS,UAAUwC,GAAcA,EAAEoV,WAAarY,KAAKS,UAAUwC,MADtBZ,QAKzC,gCAA2C,OAApCrC,KAAKS,UAAUoW,GAA4BA,EAAgBwB,WAAarY,KAAKS,UAAUoW,aAM/G,gBAAC1D,GAAA,EAAD,WACE,eAAC/G,GAAA,EAAD,CAAQnG,MAAM,UAAUT,QAAS,WAAQ6C,OAAOC,SAASsK,UAAzD,0BACA,eAACxG,GAAA,EAAD,CAAQnG,MAAM,UAAUT,QAAS,WAAQsR,EAAmB,OAA5D,gCAGJ,eAACwB,GAAA,EAAD,CACEC,aAAc,CACZC,SAAU,SACVC,WAAY,SAEd9H,KAAoB,OAAdoG,EACN2B,iBAAkB,IAElB5X,QAASiW,EACT7V,OACE,eAAC,IAAMyX,SAAP,UACE,eAACvS,EAAA,EAAD,CAAYwS,KAAK,QAAQrS,aAAW,QAAQN,MAAM,UAAUT,QAAS,kBAAMwR,EAAa,OAAxF,SACE,eAAC,IAAD,CAAW6B,SAAS,sBC9VrBC,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,O,8CCId,wCAAArP,EAAA,sDAAyB6P,EAAzB,+BAAiC,IAAjC,uBAMUhX,GAAMgX,GANhB,kE,oEAWA,sBAAA7P,EAAA,sDACE/G,WAAU,sBAAC,8BAAA+G,EAAA,yDACHhK,EAAOyB,GAAMiI,WAAW1J,QACPA,GAAQyB,GAAMiI,WAAWhL,OAAOwB,KAAKH,UAAUqJ,cAF7D,uBAIPX,GAAIqR,mBAJG,SAKWrR,GAAIgB,QAAQ,OAAQ,OAL/B,OAOU,OAFXyB,EALC,QAOCN,MAENnJ,GAAMM,SAASC,GAAQkJ,EAAIhL,KAAKF,OAT3B,2CAYR,GAbL,4C,sBAgBA+Z,IAASC,OAEP,eAAC,IAAD,CAAUvY,MAAOA,GAAjB,SACE,eAAC,GAAD,MAGFwY,SAASC,eAAe,S,2CAG1BC,GAAYZ,MAAK,Y,oCACfa,MAMFhB,O","file":"static/js/main.1a2f9ed2.chunk.js","sourcesContent":["import { combineReducers } from 'redux'\r\nimport Config from \"../config\"\r\n\r\nconst defaultState = {\r\n  config: new Config(),\r\n  tasks: [],\r\n  user: null,\r\n  daemon: null,\r\n  errorInfo: null,\r\n  message: null,\r\n  searchInfo: null\r\n}\r\n\r\nfunction config(state = defaultState.config, action) {\r\n  switch (action.type) {\r\n    case \"SET_CONFIG\":\r\n      return action.data;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nfunction user(state = defaultState.user, action) {\r\n  switch (action.type) {\r\n    case \"SET_USER\":\r\n      return action.data;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nfunction tasks(state = defaultState.tasks, action) {\r\n  switch (action.type) {\r\n    case \"SET_TASKS\":\r\n      return action.data;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nfunction daemon(state = defaultState.daemon, action) {\r\n  switch (action.type) {\r\n    case \"SET_DAEMON\":\r\n      return action.data;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nfunction errorInfo(state = defaultState.errorInfo, action) {\r\n  switch (action.type) {\r\n    case \"SET_ERROR_INFO\":\r\n      // console.log('SET_ERROR_INFO', action.data);\r\n      return action.data;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nfunction message(state = defaultState.message, action) {\r\n  switch (action.type) {\r\n    case \"SET_MESSAGE\":\r\n      return action.data;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nfunction searchInfo(state = defaultState.searchInfo, action) {\r\n  switch (action.type) {\r\n    case \"SET_SEARCH_INFO\":\r\n      return action.data;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default combineReducers({ config, errorInfo, message, daemon, user, tasks, searchInfo });\r\n","import { createMuiTheme, makeStyles, ThemeProvider } from '@material-ui/core/styles';\r\nimport { orange, grey, blueGrey, deepOrange, brown } from '@material-ui/core/colors';\r\n\r\nclass Config {\r\n  ITEM_NAME = \"mayne_config\";\r\n  constructor() {\r\n    this.load = this.load.bind(this);\r\n    this.save = this.save.bind(this);\r\n    this.theme_avaliable = {\r\n      \"默认主题\": createMuiTheme({\r\n        palette: {\r\n          primary: {\r\n            main: brown[500],\r\n          },\r\n          secondary: {\r\n            main: deepOrange[500],\r\n          },\r\n        },\r\n      }),\r\n      '黑暗模式': createMuiTheme({\r\n        palette: {\r\n          type: \"dark\",\r\n          primary: {\r\n            main: blueGrey[500],\r\n          },\r\n          secondary: {\r\n            main: grey[500],\r\n          },\r\n        },\r\n      }),\r\n    }\r\n    // 在构造函数执行的时候加载保存的数据\r\n    this.data_default = {\r\n      debug: false,\r\n      version_frontend: 0.1,\r\n      // 显示主题\r\n      // theme_name: \"黑暗模式\",\r\n      theme_name: \"默认主题\",\r\n      theme_avaliable: [\r\n        '默认主题',\r\n        '黑暗模式'\r\n      ],\r\n      api_token: {},\r\n      // 用户信息\r\n      user: null,\r\n      // 设置同步\r\n      settings_async: true,\r\n    };\r\n    this.data = this.data_default;\r\n    this.theme = this.theme_avaliable[\"默认主题\"];\r\n    this.load();\r\n  }\r\n\r\n  load() {\r\n    console.log(\"Config: loading config...\");\r\n    if (this.data.debug) {\r\n      console.log(\"Config: load default config.\");\r\n      this.save();\r\n    }\r\n    try {\r\n      this.data = JSON.parse(localStorage.getItem(this.ITEM_NAME));\r\n      if (!this.data) throw new Error(\"Null data\");\r\n      console.log(\"Got data:\", this.data);\r\n      if (!this.data.version_frontend || this.data.version_frontend < this.data_default.version_frontend) {\r\n        // 版本升级，增量更新\r\n        console.log(`Config: update ${this.data.version_frontend} -> ${this.data_default.version_frontend}`);\r\n        this.data.version_frontend = this.data_default.version_frontend;\r\n        for (let k in this.data_default) {\r\n          if (!this.data[k]) {\r\n            console.log(`    Config: add value ${k}`);\r\n            this.data[k] = this.data_default[k];\r\n          }\r\n        }\r\n        this.save();\r\n      }\r\n    } catch (e) {\r\n      console.warn(`Can not find ${this.ITEM_NAME} in localStorage, use default config.`);\r\n      this.data = this.data_default;\r\n      this.save();\r\n    }\r\n    this.theme = this.theme_avaliable[this.data.theme_name];\r\n    if (!this.theme) this.theme = this.theme_avaliable[\"default\"];\r\n  }\r\n\r\n  save() {\r\n    console.log(\"Config: saving config...\");\r\n    const s = JSON.stringify(this.data);\r\n    localStorage.setItem(this.ITEM_NAME, s);\r\n    return s;\r\n  }\r\n};\r\n\r\nexport default Config;","// applyMiddleware: redux通过该函数来使用中间件\r\n// createStore: 用于创建store实例\r\nimport { applyMiddleware, createStore } from 'redux'\r\n\r\n// 中间件，作用：如果不使用该中间件，当我们dispatch一个action时，需要给dispatch函数传入action        \r\n// 对象；但如果我们使用了这个中间件，那么就可以传入一个函数，这个函数接收两个参数:dispatch和    \r\n// getState。这个dispatch可以在将来的异步请求完成后使用，对于异步action很有用\r\nimport thunk from 'redux-thunk'\r\n\r\n// 引入reducer\r\nimport reducers from './reducers.js'\r\n\r\n// 创建store实例\r\nlet store = createStore(\r\n    reducers,\r\n    applyMiddleware(thunk)\r\n)\r\nexport default store","export function setConfig(data) {\r\n  return dispatch => {\r\n    dispatch({ type: \"SET_CONFIG\", data: data });\r\n  };\r\n}\r\n\r\nexport function setTasks(data) {\r\n  return dispatch => {\r\n    dispatch({ type: \"SET_TASKS\", data: data });\r\n  };\r\n}\r\n\r\nexport function setUser(data) {\r\n  return dispatch => {\r\n    dispatch({ type: \"SET_USER\", data: data });\r\n  };\r\n}\r\n\r\nexport function setDaemon(data) {\r\n  return dispatch => {\r\n    dispatch({ type: \"SET_DAEMON\", data: data });\r\n  };\r\n}\r\n\r\nexport function setErrorInfo(data) {\r\n  return dispatch => {\r\n    dispatch({ type: \"SET_ERROR_INFO\", data: data });\r\n  };\r\n}\r\n\r\nexport function setMessage(data) {\r\n  return dispatch => {\r\n    dispatch({ type: \"SET_MESSAGE\", data: data });\r\n  };\r\n}\r\n\r\nexport function setSearchInfo(data) {\r\n  return dispatch => {\r\n    dispatch({ type: \"SET_SEARCH_INFO\", data: data });\r\n  };\r\n}\r\n\r\n","import moment from 'moment';\r\nimport 'moment/locale/zh-cn'\r\n\r\nexport function isMobileDevice() {\r\n  const sUserAgent = navigator.userAgent;\r\n  return (sUserAgent.indexOf('Android') > -1 || sUserAgent.indexOf('iPhone') > -1 || sUserAgent.indexOf('iPad') > -1 || sUserAgent.indexOf('iPod') > -1 || sUserAgent.indexOf('Symbian') > -1);\r\n}\r\n\r\n/** \r\n* param 将要转为URL参数字符串的对象 \r\n* key URL参数字符串的前缀 \r\n* encode true/false 是否进行URL编码,默认为true \r\n*  \r\n* return URL参数字符串 \r\n*/\r\nexport function urlEncode(param, key, encode) {\r\n  if (param == null) return '';\r\n  var paramStr = '';\r\n  var t = typeof (param);\r\n  if (t === 'string' || t === 'number' || t === 'boolean') {\r\n    paramStr += '&' + key + '=' + ((encode == null || encode) ? encodeURIComponent(param) : param);\r\n  } else {\r\n    for (var i in param) {\r\n      var k = key == null ? i : key + (param instanceof Array ? '[' + i + ']' : '.' + i);\r\n      paramStr += urlEncode(param[i], k, encode);\r\n    }\r\n  }\r\n  return paramStr;\r\n};\r\n\r\nexport function urlEncode2(obj) {\r\n  try {\r\n    return JSON.stringify(obj).replace(/:/g, \"=\").replace(/\"/g, '').replace(/,/g, '&').match(/\\{([^)]*)\\}/)[1];\r\n  } catch (e) {\r\n    console.error(e);\r\n    return \"\";\r\n  }\r\n}\r\n\r\nexport function getHashedQuery() {\r\n  return [...new URL('http://localhost' + window.location.hash.slice(1)).searchParams];\r\n}\r\n\r\nexport function parseTimePoint(time) {\r\n  return moment(time).format('LLLL');\r\n}\r\n\r\nexport function parseTimePeriod(time) {\r\n  return moment.duration(time).humanize();\r\n}\r\n\r\nexport function getTextFieldValue(el) {\r\n  return el.current.childNodes[el.current.childElementCount - 1].childNodes[0].value;\r\n}\r\n\r\nexport function sleep(time_ms) {\r\n  return new Promise(accept => {\r\n    setTimeout(accept, time_ms);\r\n  });\r\n}\r\n\r\n// // 设置到本周的星期几\r\n// Date.prototype.setDay = function (day) {\r\n//   let day_ = this.getDay();\r\n//   if (day_ === day) return this;\r\n//   this.setTime(this.getTime() + 1000 * 60 * 60 * 24 * (day - day_));\r\n//   return this;\r\n// };\r\n\r\n// // 获取 YYYY-MM-DD 格式\r\n// Date.prototype.toDateString = function () {\r\n//   return this.toISOString().slice(0, 10);\r\n// };\r\n\r\n// export function cutString(str, length=10)\r\n\r\nexport function isIterator(obj) {\r\n  return obj != null && typeof obj[Symbol.iterator] === 'function';\r\n}\r\n\r\n// 下载文件方法\r\nexport function funDownload(content, filename) {\r\n  var eleLink = document.createElement('a');\r\n  eleLink.download = filename;\r\n  eleLink.style.display = 'none';\r\n  // 字符内容转变成blob地址\r\n  var blob = new Blob([content]);\r\n  eleLink.href = URL.createObjectURL(blob);\r\n  // 触发点击\r\n  document.body.appendChild(eleLink);\r\n  eleLink.click();\r\n  // 然后移除\r\n  document.body.removeChild(eleLink);\r\n};\r\n\r\n\r\nexport function deepCopy(data) {\r\n  if (isIterator(data) && typeof (data) !== \"string\") {\r\n    let d = [];\r\n    for (let i = 0; i < data.length; i++) {\r\n      d.push(data[i]);\r\n    }\r\n    return d;\r\n  } else if (typeof (data) === \"object\") {\r\n    let d = {};\r\n    for (const k in data) {\r\n      d[k] = deepCopy(data[k]);\r\n    }\r\n    return d;\r\n  } else {\r\n    return data;\r\n  }\r\n}\r\n\r\nexport function objectUpdate(origin, update) {\r\n  let now = deepCopy(origin);\r\n  for (const k in update) {\r\n    now[k] = update[k];\r\n  }\r\n  return now;\r\n}\r\n\r\nexport function isChinese(temp) {\r\n  var re = /[^\\u4E00-\\u9FA5]/;\r\n  if (re.test(temp)) return false;\r\n  return true;\r\n}","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport { Box, Card, CardActions, CardContent, CardHeader, CardMedia, Collapse, Container, IconButton, makeStyles, Menu, MenuItem, Typography } from \"@material-ui/core\";\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport ShareIcon from '@material-ui/icons/Share';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    maxWidth: 345,\r\n  },\r\n  media: {\r\n    // height: 0,\r\n    // paddingTop: '56.25%', // 16:9\r\n    paddingTop: '100%'\r\n  },\r\n  expand: {\r\n    transform: 'rotate(0deg)',\r\n    marginLeft: 'auto',\r\n    transition: theme.transitions.create('transform', {\r\n      duration: theme.transitions.duration.shortest,\r\n    }),\r\n  },\r\n  expandOpen: {\r\n    transform: 'rotate(180deg)',\r\n  },\r\n}));\r\n\r\n\r\nexport default function BookItem(props) {\r\n  const classes = useStyles();\r\n  const { book } = props;\r\n  const [expanded, setExpanded] = React.useState(false);\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  return (<Card className={classes.root}>\r\n    {/* <CardHeader\r\n      action={\r\n        <Box>\r\n          <IconButton onClick={(e) => setAnchorEl(e.currentTarget)}>\r\n            <MoreVertIcon />\r\n          </IconButton>\r\n          <Menu\r\n            open={Boolean(anchorEl)}\r\n            onClose={() => setAnchorEl(null)}\r\n            anchorEl={anchorEl}>\r\n            <MenuItem>删除</MenuItem>\r\n          </Menu>\r\n        </Box>\r\n      }\r\n      title={book.title}\r\n      subheader={book.author}\r\n    /> */}\r\n    <CardMedia\r\n      className={classes.media}\r\n      image={book.cover}\r\n      title={book.title}\r\n      onClick={(e) => {\r\n        e.stopPropagation();\r\n        console.log('to visit title:', book.title);\r\n      }}\r\n    >\r\n    </CardMedia>\r\n    {/* <CardContent>\r\n      \r\n    </CardContent> */}\r\n    <CardActions disableSpacing onClick={() => { setExpanded(!expanded); }}>\r\n      <Box style={{ float: \"left\" }}>\r\n        <Typography variant=\"h6\" color=\"textPrimary\" component=\"p\" onClick={(e) => {\r\n          e.stopPropagation();\r\n          console.log('to visit title:', book.title);\r\n        }}>\r\n          {book.title}\r\n        </Typography>\r\n        <Typography variant=\"h6\" color=\"textSecondary\" component=\"p\" onClick={(e) => {\r\n          e.stopPropagation();\r\n          console.log('to visit author:', book.author);\r\n        }}>\r\n          {book.author}\r\n        </Typography>\r\n      </Box>\r\n      <IconButton\r\n        className={clsx(classes.expand, {\r\n          [classes.expandOpen]: expanded,\r\n        })}\r\n        onClick={() => { setExpanded(!expanded); }}\r\n        aria-expanded={expanded}\r\n        aria-label=\"show more\"\r\n      >\r\n        <ExpandMoreIcon />\r\n      </IconButton>\r\n    </CardActions>\r\n    <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\r\n      <Container>\r\n        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n          {book.desc}\r\n        </Typography>\r\n        <IconButton>\r\n          <FavoriteIcon />\r\n        </IconButton>\r\n        <IconButton>\r\n          <ShareIcon />\r\n        </IconButton>\r\n      </Container>\r\n    </Collapse>\r\n  </Card>);\r\n};","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport GridList from '@material-ui/core/GridList';\r\nimport GridListTile from '@material-ui/core/GridListTile';\r\nimport GridListTileBar from '@material-ui/core/GridListTileBar';\r\nimport ListSubheader from '@material-ui/core/ListSubheader';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport BookItem from \"../components/BookItem\";\r\nimport { Box, Button, Grid, LinearProgress, Typography, useScrollTrigger } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'space-around',\r\n    overflow: 'hidden',\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n  gridList: {\r\n    // width: 500,\r\n    // height: 450,\r\n  },\r\n}));\r\n\r\n\r\nexport default function Recomends() {\r\n  const classes = useStyles();\r\n  const books = [\r\n    {\r\n      title: \"fangguojieryuan\",\r\n      author: \"haha\",\r\n      desc: \"a small book\",\r\n      cover: \"https://material-ui.com/static/images/grid-list/star.jpg\"\r\n    },\r\n    {\r\n      title: \"fangguojieryuan2\",\r\n      author: \"ha\",\r\n      desc: \"a small book\",\r\n      cover: \"https://material-ui.com/static/images/grid-list/star.jpg\"\r\n    },\r\n    {\r\n      title: \"fangguojieryuan\",\r\n      author: \"ha\",\r\n      desc: \"a small book\",\r\n      cover: \"https://material-ui.com/static/images/grid-list/star.jpg\"\r\n    },\r\n    {\r\n      title: \"fangguojieryuan2\",\r\n      author: \"ha\",\r\n      desc: \"a small book\",\r\n      cover: \"https://material-ui.com/static/images/grid-list/star.jpg\"\r\n    },\r\n    {\r\n      title: \"fangguojieryuan\",\r\n      author: \"ha\",\r\n      desc: \"a small book\",\r\n      cover: \"https://material-ui.com/static/images/grid-list/star.jpg\"\r\n    },\r\n    {\r\n      title: \"fangguojieryuan2\",\r\n      author: \"ha\",\r\n      desc: \"a small book\",\r\n      cover: \"https://material-ui.com/static/images/grid-list/star.jpg\"\r\n    },\r\n  ];\r\n  const trigger = useScrollTrigger();\r\n  if (trigger) { console.log(\"Slide to bottom\"); }\r\n  return (<Box>\r\n    <br />\r\n    <Typography variant=\"h4\">好书推荐</Typography>\r\n    <br />\r\n    <Grid container spacing={3}>\r\n      {books.map((v, k) => {\r\n        return <Grid key={k} item xs={6} sm={4} lg={3}><BookItem book={v}></BookItem></Grid>;\r\n      })}\r\n    </Grid>\r\n    <br></br>\r\n    <LinearProgress color=\"secondary\" style={{ display: (trigger ? \"block\" : \"none\") }}></LinearProgress>\r\n  </Box>);\r\n};","import { setConfig, setErrorInfo, setUser } from \"../data/action\";\r\nimport store from \"../data/store\";\r\nimport { isIterator, urlEncode } from \"../utils/utils\"\r\n\r\n\r\n\r\nclass API {\r\n  constructor() {\r\n    // this.host = '127.0.0.1';\r\n    // this.host = null;\r\n    this.host = window.location.href.includes(\"localhost\") ? \"localhost\" : null;\r\n    this.port = 8080;\r\n    this.api_version = \"v1\";\r\n    this.api_prefix = `/api/${this.api_version}`;\r\n    this.protocol = 'http'\r\n    this.url = this.host ? `${this.protocol}://${this.host}:${this.port}${this.api_prefix}` : `${this.api_prefix}`;\r\n    this.access_token = '';\r\n    this.refresh_token = '';\r\n  }\r\n  set_token(access_token, refresh_token) {\r\n    // this.access_token = access_token || this.access_token;\r\n    // this.refresh_token = refresh_token || this.refresh_token;\r\n    if (access_token !== undefined)\r\n      this.access_token = access_token;\r\n    if (refresh_token !== undefined)\r\n      this.refresh_token = refresh_token;\r\n  }\r\n  get_token() {\r\n    return {\r\n      access_token: this.access_token === '' ? undefined : this.access_token, refresh_token: this.refresh_token === '' ? undefined : this.refresh_token\r\n    }\r\n  }\r\n  request_key(router, key, method = \"GET\", data) {\r\n    return this.request(`${router}/${key}`, method, data);\r\n  }\r\n  update_config() {\r\n    let config = store.getState().config;\r\n    config.data.api_token = this.get_token();\r\n    console.log('config.data.api_token', config.data.api_token)\r\n    // config.save();\r\n    store.dispatch(setConfig(config));\r\n  }\r\n  load_from_config() {\r\n    const config = store.getState().config;\r\n    this.set_token(config.data.api_token.access_token, config.data.api_token.refresh_token);\r\n  }\r\n  get_headers(refresh = false, access = true) {\r\n    let headers = {\r\n      'Content-Type': 'application/json',\r\n    };\r\n    if (refresh) {\r\n      headers['Refresh'] = this.refresh_token;\r\n    }\r\n    if (access) {\r\n      if (this.access_token !== '') headers['Authorization'] = this.access_token;\r\n    }\r\n    return headers;\r\n  }\r\n  async request(router, method = \"GET\", data) {\r\n    const payload = {\r\n      method: method,\r\n      mode: 'cors',\r\n      // GET Body 不带数据\r\n      body: method === 'GET' ? undefined : (data ? JSON.stringify(data) : undefined),\r\n      // 注销的时候自带 refresh_token\r\n      headers: this.get_headers(Boolean(router === 'session' && method === 'DELETE')),\r\n    };\r\n    // console.log('request', router, method, data, payload);\r\n    const url = (method !== 'GET' || !data) ? `${this.url}/${router}` : `${this.url}/${router}?${urlEncode(data).slice(1)}`;\r\n    // console.log('url', url);\r\n    const resp = await fetch(url, payload);\r\n    let js = null;\r\n    try { js = await resp.json(); } catch (e) {\r\n      console.error(e);\r\n      store.dispatch(setErrorInfo(e));\r\n      return { code: resp.status, error: resp.statusText };\r\n    }\r\n    console.log('raw js:', js);\r\n    if (!js) {\r\n      // console.log(await resp.json());\r\n      js = {};\r\n      js.message = resp.statusText;\r\n    }\r\n    if (js.code === undefined) js.code = resp.status;\r\n    if (js.code === 422) {\r\n      if (this.refresh_token === '') {\r\n        // 过期勒\r\n        return null;\r\n      }\r\n      // ac_token到期，准备更新\r\n      // console.log(this.get_headers(true));\r\n      const resp2 = await fetch(`${this.url}/session`, {\r\n        method: 'GET',\r\n        mode: 'cors',\r\n        headers: this.get_headers(true),\r\n        // body: JSON.stringify({ refresh_token: this.refresh_token })\r\n      });\r\n      try {\r\n        const js2 = await resp2.json();\r\n        // console.log('updating ac_token', js2);\r\n        if (js2.code === 200) {\r\n          this.set_token(js2.data.access_token, js2.data.refresh_token);\r\n          this.update_config();\r\n          // 更新user\r\n          const res = this.request('user', 'GET');\r\n          if (res.code === 200) {\r\n            store.dispatch(setUser(res.data.user));\r\n          }\r\n        }\r\n        else {\r\n          // 判定为 update_token 也过期，要求重新登录\r\n          store.dispatch(setErrorInfo(\"登录过期，请重新登录\"));\r\n          return null;\r\n        }\r\n      } catch (e) {\r\n        // console.error(e);\r\n        return { code: resp2.status, error: resp2.statusText };\r\n      }\r\n      return this.request(router, method, data);\r\n    }\r\n    if (js.code === 200) {\r\n      // 登录自动储存 JWT 数据\r\n      if (router === 'session' && method === 'POST') {\r\n        const { access_token, refresh_token } = js.data;\r\n        // console.log('jwt', access_token, refresh_token);\r\n        this.set_token(access_token, refresh_token);\r\n        this.update_config();\r\n      } else if (router === 'session' && method === 'DELETE') {\r\n        // 注销\r\n        // console.warn('注销');\r\n        this.set_token('', '');\r\n        this.update_config();\r\n      }\r\n    } else {\r\n      store.dispatch(setErrorInfo(js));\r\n    }\r\n    return js;\r\n  }\r\n}\r\n\r\nconst api = new API();\r\n\r\nexport { API, api };","import React from 'react';\r\nimport { Button, Container, Divider, FormControl, Grid, InputLabel, MenuItem, Select, TextField, Typography } from \"@material-ui/core\";\r\nimport Recomends from \"./Recommends\";\r\nimport { api } from \"../api/api\";\r\nimport store from '../data/store';\r\nimport { setSearchInfo } from '../data/action';\r\n\r\nlet requestingSearchInfo = false;\r\nif (!store.getState().searchInfo && !requestingSearchInfo) {\r\n  (async () => {\r\n    requestingSearchInfo = true;\r\n    const resp = await api.request('search', 'PATCH');\r\n    store.dispatch(setSearchInfo(resp.data.search_info));\r\n    requestingSearchInfo = false;\r\n  })();\r\n}\r\n\r\n\r\nexport default function SearchBox(props) {\r\n  const { onSearch, defaultValue } = props;\r\n  const searchInfo = store.getState().searchInfo;\r\n  const [searchValue, setSearchValue] = React.useState(defaultValue ? (defaultValue.key ? defaultValue.key : '') : '');\r\n  const [searchType, setSearchType] = React.useState(searchInfo ? (defaultValue ? defaultValue.src : Object.keys(searchInfo)[0]) : null);\r\n  const handleSearch = () => {\r\n    if (!onSearch) return;\r\n    onSearch(searchValue, searchType, searchInfo);\r\n  };\r\n  return (\r\n    <Grid container spacing={3}>\r\n      {/* <Grid item xs={2}></Grid> */}\r\n      {/* <Grid item xs={2}> */}\r\n      <Grid item xs={4}>\r\n        <FormControl fullWidth>\r\n          <InputLabel>搜索类型</InputLabel>\r\n          <Select\r\n            value={searchType}\r\n            onChange={(e) => {\r\n              setSearchType(e.target.value);\r\n            }}\r\n          >\r\n            {searchInfo ? Object.keys(searchInfo).map((k, v) => {\r\n              return <MenuItem key={v} value={k}>{searchInfo[k].name}</MenuItem>\r\n            }) : <MenuItem>正在加载</MenuItem>}\r\n          </Select>\r\n        </FormControl>\r\n      </Grid>\r\n      {/* <Grid item xs={5}> */}\r\n      <Grid item xs={6}>\r\n        <TextField fullWidth\r\n          onChange={e => setSearchValue(e.target.value)}\r\n          onKeyDown={e => {\r\n            if (e.key === 'Enter') handleSearch();\r\n          }}\r\n          value={searchValue}></TextField>\r\n      </Grid>\r\n      {/* <Grid item xs={1}> */}\r\n      <Grid item xs={2}>\r\n        <Button variant=\"contained\" color=\"primary\" onClick={handleSearch}>搜索</Button>\r\n      </Grid>\r\n      {/* <Grid item xs={2}></Grid>\r\n      <Grid item xs={6}></Grid> */}\r\n    </Grid>);\r\n};","import { Box, List, ListItem, ListItemText, ListSubheader, Typography } from '@material-ui/core';\r\nimport React from 'react';\r\n\r\nexport default function ShowList(props) {\r\n  const { list, subHeader } = props;\r\n  const maxHeight = props.maxHeight || 320;\r\n  return <Box>\r\n    <List style={{ maxHeight: maxHeight, overflow: 'auto', }}\r\n    // subheader={<Typography variant=\"body1\">LIst</Typography>}\r\n    >\r\n      {subHeader && <ListSubheader>{subHeader}</ListSubheader>}\r\n      {list.map((item, key) => <ListItem button key={key}>\r\n        <ListItemText>\r\n          {item.text}\r\n        </ListItemText>\r\n      </ListItem>)}\r\n    </List>\r\n  </Box>\r\n};","import ShowList from \"./ShowList\";\r\n\r\nexport default function PopularAuthors(props) {\r\n  const tags = [\"小说\", \"历史\", \"日本\", \"外国文学\", \"文学\", \"中国\", \"心理学\", \"哲学\", \"经典\", \"中国文学\", \"漫画\", \"随笔\", \"爱情\", \"美国\", \"推理\", \"社会学\", \"日本文学\", \"绘本\", \"传记\", \"文化\", \"成长\", \"科普\", \"散文\", \"英国\", \"东野圭吾\", \"悬疑\", \"青春\", \"生活\", \"艺术\", \"科幻\", \"社会\", \"思维\", \"心理\", \"旅行\", \"女性\", \"言情\", \"经济学\", \"人生\", \"法国\", \"政治\", \"管理\", \"励志\", \"人性\", \"村上春树\", \"好书，值得一读\", \"经济\", \"设计\", \"台湾\", \"推理小说\", \"商业\", \"诗歌\", \"奇幻\", \"英国文学\", \"童话\", \"美国文学\", \"金融\", \"名著\", \"武侠\", \"教育\", \"日本漫画\", \"儿童文学\", \"摄影\", \"政治学\", \"耽美\", \"投资\", \"宗教\", \"个人管理\", \"古典文学\", \"建筑\", \"治愈\", \"电影\", \"人类学\", \"余华\", \"计算机\", \"数学\", \"中国历史\", \"互联网\", \"纪实\", \"王小波\", \"科幻小说\", \"我想读这本书\", \"网络小说\", \"東野圭吾\", \"职场\", \"韩寒\", \"三毛\", \"日系推理\", \"回忆录\", \"杂文\", \"当代文学\", \"工具书\", \"亦舒\", \"温暖\", \"自我管理\", \"美食\", \"德国\", \"法国文学\", \"思想\", \"张爱玲\", \"阿加莎·克里斯蒂\", \"散文随笔\", \"香港\", \"科学\", \"政治哲学\", \"人物传记\", \"营销\", \"方法论\", \"英文原版\", \"刘慈欣\", \"编程\", \"国学\", \"金庸\", \"游记\", \"文化研究\", \"思想史\", \"毛姆\", \"艺术史\", \"教材\", \"育儿\", \"英语\"];\r\n  const list = tags.map(k => {\r\n    return { text: k }\r\n  });\r\n  return <ShowList subHeader=\"热门作家\" list={list}></ShowList>\r\n}","import ShowList from \"./ShowList\";\r\n\r\nexport default function PopularTags(props) {\r\n  const tags = [\"小说\", \"历史\", \"日本\", \"外国文学\", \"文学\", \"中国\", \"心理学\", \"哲学\", \"经典\", \"中国文学\", \"漫画\", \"随笔\", \"爱情\", \"美国\", \"推理\", \"社会学\", \"日本文学\", \"绘本\", \"传记\", \"文化\", \"成长\", \"科普\", \"散文\", \"英国\", \"东野圭吾\", \"悬疑\", \"青春\", \"生活\", \"艺术\", \"科幻\", \"社会\", \"思维\", \"心理\", \"旅行\", \"女性\", \"言情\", \"经济学\", \"人生\", \"法国\", \"政治\", \"管理\", \"励志\", \"人性\", \"村上春树\", \"好书，值得一读\", \"经济\", \"设计\", \"台湾\", \"推理小说\", \"商业\", \"诗歌\", \"奇幻\", \"英国文学\", \"童话\", \"美国文学\", \"金融\", \"名著\", \"武侠\", \"教育\", \"日本漫画\", \"儿童文学\", \"摄影\", \"政治学\", \"耽美\", \"投资\", \"宗教\", \"个人管理\", \"古典文学\", \"建筑\", \"治愈\", \"电影\", \"人类学\", \"余华\", \"计算机\", \"数学\", \"中国历史\", \"互联网\", \"纪实\", \"王小波\", \"科幻小说\", \"我想读这本书\", \"网络小说\", \"東野圭吾\", \"职场\", \"韩寒\", \"三毛\", \"日系推理\", \"回忆录\", \"杂文\", \"当代文学\", \"工具书\", \"亦舒\", \"温暖\", \"自我管理\", \"美食\", \"德国\", \"法国文学\", \"思想\", \"张爱玲\", \"阿加莎·克里斯蒂\", \"散文随笔\", \"香港\", \"科学\", \"政治哲学\", \"人物传记\", \"营销\", \"方法论\", \"英文原版\", \"刘慈欣\", \"编程\", \"国学\", \"金庸\", \"游记\", \"文化研究\", \"思想史\", \"毛姆\", \"艺术史\", \"教材\", \"育儿\", \"英语\"];\r\n  const list = tags.map(k => {\r\n    return { text: k }\r\n  });\r\n  return <ShowList subHeader=\"热门标签\" list={list}></ShowList>\r\n}","\r\nimport React, { useEffect, moment } from \"react\";\r\nimport { Box, Button, makeStyles, Paper, Slide } from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    borderStyle: 'dotted',\r\n  }\r\n}))\r\nvar i = -1;\r\n// export default function Slides(props) {\r\n//   const images = [\r\n//     'https://img3.doubanio.com/lpic/s24223015.jpg', 'https://material-ui.com/static/images/grid-list/vegetables.jpg', 'https://material-ui.com/static/images/grid-list/star.jpg'\r\n//   ]\r\n//   const [imageIndex, setImage] = React.useState(images[0]);\r\n//   setTimeout(() => {\r\n//     i++;\r\n//     setImage(images[i]);\r\n//     if (i == images.length - 1) {\r\n//       i = -1;\r\n//     }\r\n//   }, 10000);\r\n//   /*setInterval(function() { \r\n//     for(var i=0;i<images.length;i++)\r\n//     {setImage(images[i])\r\n//     if(i===images.length-1)\r\n//     i=0;\r\n//   }\r\n//  },4000);*/\r\n//   return (<Paper>\r\n//     <img src={imageIndex}></img>\r\n//     <Box style={{ display: \"flex\" }}>\r\n//       {images.map((v, k) => <Button key={k} onClick={() => { setImage(images[k]) }}>{k}</Button>)}\r\n//     </Box>\r\n//   </Paper>);\r\n// }\r\n\r\n\r\nexport default class Slides extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.refresh = this.refresh.bind(this);\r\n    this.images = [\r\n      'https://material-ui.com/static/images/grid-list/breakfast.jpg',\r\n      'https://material-ui.com/static/images/grid-list/vegetables.jpg',\r\n      'https://material-ui.com/static/images/grid-list/star.jpg'\r\n    ]\r\n    this.state = {\r\n      imageIndex: 0,\r\n      imageLastIndex: this.images.length - 1,\r\n      sliding: false,\r\n      clickOnSliding: false\r\n    };\r\n    this.slidesRunning = null;\r\n    this.refreshTime = 1000;\r\n  }\r\n  refresh() {\r\n    if (!this.slidesRunning) return;\r\n    // console.log('refresh');\r\n    const k = (this.state.imageIndex === this.images.length - 1) ? 0 : (this.state.imageIndex + 1);\r\n    this.setState({ imageIndex: k, imageLastIndex: this.state.imageIndex, sliding: true });\r\n    setTimeout(() => {\r\n      if (this.state.clickOnSliding) return;\r\n      this.setState({ sliding: false });\r\n    }, 12000);\r\n    setTimeout(this.refresh, this.refreshTime);\r\n  }\r\n  componentDidMount() {\r\n    // console.log('componentDidMount');\r\n    this.slidesRunning = true;\r\n    setTimeout(this.refresh, this.refreshTime);\r\n  }\r\n  componentWillUnmount() {\r\n    // console.log('componentWillUnmount');\r\n    this.slidesRunning = false;\r\n  }\r\n  render() {\r\n    return <Paper>\r\n      <Box>\r\n        <img src={this.images[this.state.imageIndex]}></img>\r\n      </Box>\r\n      {/* <Slide direction={!this.state.sliding ? \"left\" : \"right\"} in={!this.state.sliding} timeout={{ enter: 500, exit: 500 }} mountOnEnter unmountOnExit>\r\n        <img style={{ height: 300, width: \"100%\" }} src={this.images[this.state.sliding ? this.state.imageLastIndex : this.state.imageIndex]}></img>\r\n      </Slide> */}\r\n      {/* <Slide direction={this.state.sliding ? \"left\" : \"right\"} in={this.state.sliding} timeout={{ enter: 500, exit: 500 }} mountOnEnter unmountOnExit>\r\n        <img src={this.images[this.state.imageLastIndex]}></img>\r\n      </Slide> */}\r\n      <Box style={{ display: \"flex\", justifyContent: \"center\" }}>\r\n        {this.images.map((v, k) => <Button key={k} onClick={() => { this.setState({ imageIndex: k }) }}>{k}</Button>)}\r\n      </Box>\r\n    </Paper >\r\n  }\r\n}","import { createHashHistory } from 'history';\r\n// import createHistory from 'history/lib/createHashHistory';\r\n\r\nexport default createHashHistory();","import React from 'react';\r\nimport { Box, Button, Container, Divider, FormControl, Grid, InputLabel, MenuItem, Select, TextField, Typography } from \"@material-ui/core\";\r\nimport Recomends from \"../components/Recommends\";\r\nimport { api } from \"../api/api\";\r\nimport SearchBox from '../components/SearchBox';\r\nimport PopularAuthors from '../components/PopularAuthors';\r\nimport PopularTags from '../components/PopularTags';\r\nimport Slides from '../components/Slides';\r\nimport history from \"../utils/history\";\r\nimport { urlEncode } from '../utils/utils';\r\nexport default function Dashboard(props) {\r\n  return (<Container>\r\n    <Box>\r\n      <Box style={{ paddingLeft: 40, paddingRight: 40 }}>\r\n        <SearchBox onSearch={(key, src) => {\r\n          history.push({ pathname: \"/search\", search: urlEncode({ key, src }).slice(1) });\r\n          // history.push({ pathname: \"/search\", params: { key, src } });\r\n        }}></SearchBox>\r\n      </Box>\r\n    </Box>\r\n    <br />\r\n    <Divider></Divider>\r\n    <Slides></Slides>\r\n    <br />\r\n    <Divider></Divider>\r\n    <br />\r\n    <Grid container spacing={10}>\r\n      <Grid item lg={6} sm={12} style={{ padding: 20 }}>\r\n        <PopularAuthors></PopularAuthors>\r\n      </Grid>\r\n      <Grid item lg={6} sm={12} style={{ padding: 20 }}>\r\n        <PopularTags></PopularTags>\r\n      </Grid>\r\n    </Grid>\r\n    <br />\r\n    <Divider></Divider>\r\n    <br />\r\n    <Recomends></Recomends>\r\n  </Container>);\r\n};","import { Box, Button, Container, Divider, TextField, Typography, Zoom, Fade } from '@material-ui/core';\r\nimport React from 'react';\r\nimport { api } from '../api/api';\r\nimport { setMessage, setUser } from '../data/action';\r\nimport store from '../data/store';\r\nimport { objectUpdate } from '../utils/utils';\r\n\r\n\r\nfunction LoginFrame(props) {\r\n  const [state, setInnerState] = React.useState({\r\n    username: \"\",\r\n    password: \"\",\r\n    captcha: \"\",\r\n    actionType: 'login'\r\n  });\r\n  const refUsername = React.useRef();\r\n  const refPassword = React.useRef();\r\n  const setState = (update) => setInnerState(objectUpdate(state, update));\r\n  // style={{ display: \"flex\", justifyContent: 'center', alignItems: \"center\", flexDirection: \"column\", }}\r\n  const actionLogin = state.actionType === 'login' ? true : false;\r\n  const handleAction = async () => {\r\n    // console.log('handle', actionLogin);\r\n    if (actionLogin) {\r\n      const res = await api.request('session', 'POST', {\r\n        username: state.username, password: state.password\r\n      });\r\n      console.log(res);\r\n      if (res.code !== 200) return;\r\n      // 获取user\r\n      const user = await api.request('user', 'GET');\r\n      if (user.code !== 200) return;\r\n      console.log('user', user.data.user);\r\n      store.dispatch(setUser(user.data.user));\r\n    } else {\r\n      // 注册，注册成功则跳转登录\r\n      const res = await api.request('user', 'POST', {\r\n        username: state.username, password: state.password\r\n      });\r\n      console.log(res);\r\n      if (res.code === 200) {\r\n        // 弹窗\r\n        store.dispatch(setMessage(\"注册成功\"));\r\n        setState({actionType: 'login'});\r\n      }\r\n    }\r\n  }\r\n\r\n  return (<Box>\r\n    <Typography variant=\"h4\">{actionLogin ? \"登录\" : \"注册\"}</Typography>\r\n    <br />\r\n    <Divider></Divider>\r\n    <br />\r\n    <TextField fullWidth ref={refUsername} label=\"用户名\" variant=\"outlined\" value={state.username} onChange={e => {\r\n      setState({ username: e.target.value });\r\n    }} onKeyDown={e => {\r\n      if (e.code === \"Enter\") {\r\n        refPassword.current.querySelector(\"input\").focus();\r\n      }\r\n    }} />\r\n    <br /><br />\r\n    <TextField fullWidth ref={refPassword} label=\"密码\" variant=\"outlined\" value={state.password} type=\"password\" onChange={e => {\r\n      setState({ password: e.target.value });\r\n    }} onKeyDown={e => {\r\n      if (e.code === \"Enter\") {\r\n        handleAction();\r\n      }\r\n    }} />\r\n    <Fade in={actionLogin} style={{ display: actionLogin ? \"block\" : \"none\" }} timeout={{ exit: 0, enter: 200 }}>\r\n      <Box>\r\n        <Box>\r\n          <br></br>\r\n          <Button fullWidth variant=\"contained\" color=\"primary\" onClick={handleAction}>登录</Button>\r\n        </Box>\r\n        <Box>\r\n          <br></br>\r\n          <Button fullWidth variant=\"contained\" color=\"secondary\" onClick={() => setState({ actionType: \"sign_in\" })}>注册</Button>\r\n        </Box>\r\n      </Box>\r\n    </Fade>\r\n    <Fade in={!actionLogin} style={{ display: !actionLogin ? \"block\" : \"none\" }} timeout={{ exit: 0, enter: 200 }}>\r\n      <Box>\r\n        <Box>\r\n          <br></br>\r\n          <Button fullWidth variant=\"contained\" color=\"primary\" onClick={handleAction}>注册</Button>\r\n        </Box>\r\n        <Box>\r\n          <br></br>\r\n          <Button fullWidth variant=\"contained\" onClick={() => setState({ actionType: 'login' })}>返回登录</Button>\r\n        </Box>\r\n      </Box>\r\n    </Fade>\r\n  </Box >);\r\n}\r\n\r\nexport default function Login(props) {\r\n  return <Container maxWidth=\"sm\">\r\n    <LoginFrame></LoginFrame>\r\n  </Container>\r\n}","import React from 'react';\r\nimport { Container, Typography } from \"@material-ui/core\";\r\n\r\nexport default function Dashboard() {\r\n  return (<Container>\r\n    <Typography>\r\n      Library here.\r\n    </Typography>\r\n  </Container>);\r\n};","import React from 'react';\r\nimport { Container, Typography } from \"@material-ui/core\";\r\n\r\nexport default function Services() {\r\n  return (<Container>\r\n    <Typography>\r\n      Services here.\r\n    </Typography>\r\n  </Container>);\r\n};","import { Box, Container, Grid, List, ListItem, Paper, Typography } from \"@material-ui/core\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport React from \"react\";\r\nimport { isChinese } from \"../utils/utils\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  small: {\r\n    width: theme.spacing(3),\r\n    height: theme.spacing(3),\r\n  },\r\n  large: {\r\n    width: theme.spacing(7),\r\n    height: theme.spacing(7),\r\n  },\r\n}));\r\n\r\nfunction People(props) {\r\n  const classes = useStyles();\r\n  const { username, nick, profile, head, link, readmeState } = props.people ? props.people : props;\r\n  let nickHead;\r\n  if (((!isChinese(nick[0])) && ((nick[1] && (!isChinese(nick[1]))) || (!nick[1]))) && !head) nickHead = nick.slice(0, 2);\r\n  const leftContent = <Box style={{ display: 'flex', flexDirection: \"column\", minWidth: 90 }} onClick={() => { link && window.open(link, '_blank'); }}>\r\n    <Box>\r\n      {head ? <Avatar alt={nick} src={head} className={classes.large}></Avatar> : <Avatar alt={nick} className={classes.large}>{nickHead ? nickHead : nick[0]}</Avatar>}\r\n    </Box>\r\n    <Box>\r\n      <Typography variant=\"h4\">{nick}</Typography>\r\n      {username ? <Typography variant=\"body1\">@{username}</Typography> : null}\r\n    </Box>\r\n  </Box>;\r\n  return <Box style={{ padding: 20, width: \"100%\" }}>\r\n    <Grid container spacing={3}>\r\n      <Grid item xs={9} lg={5}>\r\n        <Grid container spacing={3}>\r\n          <Grid item xs={4} lg={3}>\r\n            {leftContent}\r\n          </Grid>\r\n          <Grid item xs={5} lg={4} onClick={() => { window.open(link, '_blank'); }}>\r\n            {readmeState ? <Box>\r\n              <img src={readmeState}></img>\r\n            </Box> : null}\r\n          </Grid>\r\n        </Grid>\r\n      </Grid>\r\n      {profile ? <Grid item xs={12} lg={7}>\r\n        <Paper style={{ width: \"100%\" }}>\r\n          <Box style={{ backgroundColor: \"#00000020\", padding: 30, borderLeftStyle: \"solid\", borderLeftWidth: 10, borderLeftColor: \"#00000040\" }}>\r\n            <Typography variant=\"body1\">{profile}</Typography>\r\n          </Box>\r\n        </Paper>\r\n      </Grid> : null}\r\n    </Grid>\r\n  </Box >\r\n}\r\n\r\nexport default function About(props) {\r\n  const people = [\r\n    {\r\n      username: 'chiro2001',\r\n      nick: 'Chiro',\r\n      profile: \"I like it.\",\r\n      head: 'https://avatars.githubusercontent.com/u/41908064?v=4',\r\n      link: 'https://github.com/chiro2001',\r\n      readmeState: 'https://github-readme-stats.vercel.app/api?show_icons=false&username=chiro2001&count_private=true&include_all_commits=true&hide_border=true&hide_title=true&hide_rank=true&locale=cn'\r\n    },\r\n    {\r\n      username: 'criwits',\r\n      nick: 'Hans Wan',\r\n      profile: \"¯\\\\_(ツ)_/¯\",\r\n      head: 'https://avatars.githubusercontent.com/u/59825102?v=4',\r\n      link: 'https://github.com/criwits/',\r\n      readmeState: 'https://github-readme-stats.vercel.app/api?show_icons=false&username=criwits&count_private=true&include_all_commits=true&hide_border=true&hide_title=true&hide_rank=true&locale=cn'\r\n    },\r\n    {\r\n      username: 'lin-zhifan',\r\n      nick: 'Kiryu Sento',\r\n      head: 'https://portrait.gitee.com/uploads/avatars/user/2761/8283353_lin-zhifan_1620866347.png!avatar200',\r\n      link: 'https://gitee.com/lin-zhifan'\r\n    },\r\n    {\r\n      username: 'sealls',\r\n      nick: '海豹',\r\n      link: 'https://gitee.com/sealls',\r\n      head: \"http://bed-1254016670.cos.ap-guangzhou.myqcloud.com/my_imgs/kyMwmz_QQ%E5%9B%BE%E7%89%8720210519090319.jpg\"\r\n    },\r\n    {\r\n      nick: '魂莫千羽',\r\n      head: \"http://bed-1254016670.cos.ap-guangzhou.myqcloud.com/my_imgs/Rserrx_QQ%E5%9B%BE%E7%89%8720210519090319.jpg\"\r\n    },\r\n  ];\r\n  const ladderClimbers = {\r\n    username: 'Ladder-Climbers',\r\n    nick: 'Ladder Climbers',\r\n    profile: \"来自哈工深的项目开发小组~\",\r\n    head: 'https://avatars.githubusercontent.com/u/74187667?s=200&v=4',\r\n    link: 'https://gitee.com/ladder-climbers'\r\n  };\r\n  return <Container maxWidth=\"lg\">\r\n    <Typography variant=\"h4\">关于我们</Typography>\r\n    <People people={ladderClimbers}></People>\r\n    <Grid container>\r\n      {people.map((v, k) =>\r\n        <Grid key={k} item xs={v.readmeState ? 12 : 4}>\r\n          <People people={v}></People>\r\n        </Grid>\r\n      )}\r\n    </Grid>\r\n  </Container>\r\n}","import { Container } from \"@material-ui/core\";\r\nimport React from \"react\";\r\n\r\nexport default function Help(props) {\r\n  return <Container>\r\n    Help\r\n  </Container>\r\n}","import { Container, Dialog, DialogContent, DialogTitle, List, ListItem, ListItemSecondaryAction, ListItemText, Typography } from \"@material-ui/core\";\r\nimport React from \"react\";\r\n\r\nexport default function ListInfo(props) {\r\n  const { data, open, onClose, title, keyNames } = props;\r\n  const [openChild, setOpenChild] = React.useState(false);\r\n  const [child, setChild] = React.useState(null);\r\n  const [childTitle, setChildTitle] = React.useState(null);\r\n  // console.log(data);\r\n  // Object.keys(data).map((v, k) => { console.log(`v: ${v}, k: ${k}`) })\r\n\r\n  return <Dialog fullWidth open={open} onClose={onClose}>\r\n    <DialogTitle>{title}</DialogTitle>\r\n    <DialogContent>\r\n      <List style={{ width: \"100%\" }}>\r\n        {Object.keys(data).map((v, k) => {\r\n          const showName = keyNames ? (keyNames[v] || v) : (v);\r\n          if (!data[v]) return undefined;\r\n          if (typeof (data[v]) === 'object') {\r\n            return <ListItem key={k} button onClick={() => {\r\n              setChild(data[v]);\r\n              setChildTitle(showName);\r\n              setOpenChild(true);\r\n            }}>{showName}</ListItem>\r\n          } else {\r\n            const s = `${data[v]}`;\r\n            return <ListItem key={k}>\r\n              <ListItemText>{showName}</ListItemText>\r\n              <ListItemSecondaryAction>\r\n                <Typography variant=\"body1\">{s.slice(0, 20) + (s.length > 20 ? \"...\" : \"\")}</Typography>\r\n              </ListItemSecondaryAction>\r\n            </ListItem>\r\n          }\r\n        }\r\n        )}\r\n      </List>\r\n      {(child && childTitle) ? <ListInfo data={child} open={openChild} onClose={() => { setOpenChild(false); }} title={childTitle}></ListInfo> : undefined}\r\n    </DialogContent>\r\n  </Dialog>\r\n}","import React from \"react\"\r\nimport Container from '@material-ui/core/Container';\r\nimport { Button, MenuItem, FormControl, InputLabel, List, ListItem, ListItemSecondaryAction, ListItemText, Select, ListSubheader, Switch, Dialog, DialogTitle, DialogContent, Typography, DialogActions } from \"@material-ui/core\";\r\nimport store from \"../data/store\";\r\nimport { setConfig, setErrorInfo, setMessage } from \"../data/action\";\r\nimport { funDownload } from \"../utils/utils\";\r\nimport ListInfo from \"../components/ListInfo\";\r\n\r\nfunction Settings(props) {\r\n  const [themeName, setThemeName] = React.useState(store.getState().config.data.theme_name);\r\n  const refConfigFileInput = React.useRef();\r\n  const [resetSettingsOpen, setResetSettingsOpen] = React.useState(false);\r\n  const [deleteDataOpen, setDeleteDataOpen] = React.useState(false);\r\n  const [openDaemon, setOpenDaemon] = React.useState(false);\r\n  const [openUser, setOpenUser] = React.useState(false);\r\n\r\n  const resetSettings = function () {\r\n    let c = store.getState().config;\r\n    c.data = c.data_default;\r\n    c.save();\r\n    c.load();\r\n    store.dispatch(setConfig(c));\r\n  }\r\n\r\n  const user = store.getState().user;\r\n\r\n  return (<Container maxWidth=\"md\">\r\n    <List>\r\n      <ListSubheader>用户账号</ListSubheader>\r\n      <ListItem>\r\n        <ListItemText primary=\"用户名\"></ListItemText>\r\n        <ListItemSecondaryAction>\r\n          {user.username}\r\n        </ListItemSecondaryAction>\r\n      </ListItem>\r\n      <ListItem button onClick={() => { setOpenUser(true); }}>\r\n        <ListItemText primary=\"详细信息\"></ListItemText>\r\n      </ListItem>\r\n      <ListItem button>\r\n        <ListItemText primary=\"修改信息\"></ListItemText>\r\n      </ListItem>\r\n      <ListSubheader>外观</ListSubheader>\r\n      <ListItem>\r\n        <ListItemText primary=\"主题设置\"></ListItemText>\r\n        <ListItemSecondaryAction>\r\n          <FormControl>\r\n            {/* <InputLabel></InputLabel> */}\r\n            <Select value={themeName} onChange={e => {\r\n              setThemeName(e.target.value);\r\n              let c = store.getState().config;\r\n              c.data.theme_name = e.target.value;\r\n              c.theme = c.theme_avaliable[c.data.theme_name];\r\n              c.save();\r\n              store.dispatch(setConfig(c));\r\n              setTimeout(() => { window.location.reload(); }, 200);\r\n            }}>\r\n              {store.getState().config.data.theme_avaliable.map((v, k) => <MenuItem key={k} value={v}>{v}</MenuItem>)}\r\n            </Select>\r\n          </FormControl>\r\n        </ListItemSecondaryAction>\r\n      </ListItem>\r\n      <ListItem>\r\n        <ListItemText primary=\"设置数据同步\"></ListItemText>\r\n        <ListItemSecondaryAction>\r\n          <Switch defaultChecked={store.getState().config.data.settings_async} onChange={e => {\r\n            let c = store.getState().config;\r\n            c.data.settings_async = e.target.checked;\r\n            c.save();\r\n            store.dispatch(setConfig(c));\r\n          }}></Switch>\r\n        </ListItemSecondaryAction>\r\n      </ListItem>\r\n      <ListItem button onClick={() => setResetSettingsOpen(true)}>\r\n        <ListItemText primary=\"回到默认设置\"></ListItemText>\r\n      </ListItem>\r\n      <ListItem button onClick={() => setDeleteDataOpen(true)}>\r\n        <ListItemText primary=\"删除所有数据\"></ListItemText>\r\n      </ListItem>\r\n    </List>\r\n    <ListInfo data={store.getState().user} open={openUser} keyNames={{\r\n      username: '用户名', nick: '昵称', phone: '用户手机号', profile: '详细信息', state: '用户状态', created_at: '创建于', updated_at: '更新于'\r\n    }} title=\"用户信息\" onClose={() => { setOpenUser(false); }}></ListInfo>\r\n    <Dialog open={resetSettingsOpen} onClose={() => setResetSettingsOpen(false)}>\r\n      <DialogTitle>\r\n        回到默认设置\r\n      </DialogTitle>\r\n      <DialogContent>\r\n        <Typography variant=\"body1\">此操作将会清除所有设置数据，确认操作？</Typography>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={() => setResetSettingsOpen(false)}>取消</Button>\r\n        <Button onClick={() => {\r\n          resetSettings();\r\n          window.location.reload();\r\n        }}>确定</Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n    <Dialog open={deleteDataOpen} onClose={() => setDeleteDataOpen(false)}>\r\n      <DialogTitle>\r\n        删除所有数据\r\n      </DialogTitle>\r\n      <DialogContent>\r\n        <Typography variant=\"body1\">此操作将会清除软件数据，确认操作？</Typography>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={() => setDeleteDataOpen(false)}>取消</Button>\r\n        <Button onClick={() => {\r\n          resetSettings();\r\n          window.location.reload();\r\n        }}>确定</Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  </Container>)\r\n}\r\n\r\nexport default Settings;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { ListItem, ListItemText, ListItemIcon } from '@material-ui/core';\r\nimport { Link as RouterLink } from \"react-router-dom\";\r\n\r\nfunction ListItemLink(props) {\r\n  const { icon, primary, to } = props;\r\n\r\n  const renderLink = React.useMemo(\r\n    () => React.forwardRef((itemProps, ref) => <RouterLink to={to} ref={ref} {...itemProps} />),\r\n    [to],\r\n  );\r\n\r\n  return (\r\n    <li>\r\n      <ListItem button component={renderLink}>\r\n        {icon ? <ListItemIcon>{icon}</ListItemIcon> : null}\r\n        <ListItemText primary={primary} />\r\n      </ListItem>\r\n    </li>\r\n  );\r\n}\r\n\r\nListItemLink.propTypes = {\r\n  icon: PropTypes.element,\r\n  primary: PropTypes.string.isRequired,\r\n  to: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default ListItemLink;\r\n\r\n","import { Box, Grid, List, ListItem, Typography } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport BookItem from \"./BookItem\";\r\n\r\nfunction SmartSearchResult(props) {\r\n  const { books } = props;\r\n  // console.log('books', books);\r\n  return <Grid container spacing={3}>\r\n    {books.map((book, k) => <Grid key={k} item xs={6} sm={4} lg={3}><BookItem book={{\r\n      title: book.title,\r\n      author: book.abstract,\r\n      desc: null,\r\n      cover: book.cover_url\r\n    }}></BookItem></Grid>)}\r\n  </Grid>;\r\n}\r\n\r\nfunction DoubanResult(props) {\r\n  const { books } = props;\r\n  return <Grid container spacing={3}>\r\n    {books.map((book, k) => <Grid key={k} item xs={6} sm={4} lg={3}><BookItem book={{\r\n      title: book.title,\r\n      author: book.abstract,\r\n      desc: null,\r\n      cover: book.cover_url\r\n    }}></BookItem></Grid>)}\r\n  </Grid>;\r\n}\r\n\r\nexport default function SearchResult(props) {\r\n  const { result } = props;\r\n  return <List>\r\n    {result.smart_search ? <ListItem>\r\n      <Box>\r\n        <Typography variant=\"h4\">智能搜索</Typography>\r\n        <SmartSearchResult books={result.smart_search.books}></SmartSearchResult>\r\n      </Box>\r\n    </ListItem> : null}\r\n    {result.douban ? <ListItem>\r\n      <Box>\r\n        <Typography variant=\"h4\">豆瓣搜索</Typography>\r\n        <SmartSearchResult books={result.douban}></SmartSearchResult>\r\n      </Box>\r\n    </ListItem> : null}\r\n  </List>\r\n}","import { Container } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport { api } from \"../api/api\";\r\nimport SearchBox from \"../components/SearchBox\";\r\nimport SearchResult from \"../components/SearchResult\";\r\nimport { setSearchInfo } from \"../data/action\";\r\nimport store from \"../data/store\";\r\nimport history from \"../utils/history\";\r\nimport { getHashedQuery } from \"../utils/utils\";\r\n\r\nexport default function Search(props) {\r\n  const [result, setResult] = React.useState(null);\r\n  const [startedSearching, setStartedSearching] = React.useState(false);\r\n  const [defaultValue, setDefaultValue] = React.useState(null);\r\n  const query = getHashedQuery();\r\n  console.log('query', query);\r\n  const handleSearch = async (key, src, info) => {\r\n    console.log(key, src, info);\r\n    const resp = await api.request('search', 'GET', { key, src });\r\n    console.log(resp);\r\n    setResult(resp.data);\r\n  };\r\n  if (query.length === 2 && !startedSearching) {\r\n    handleSearch(query[0][1], query[1][1]);\r\n    setStartedSearching(true);\r\n    setDefaultValue({ key: query[0][1], src: query[1][1] });\r\n  }\r\n  return <Container>\r\n    <SearchBox defaultValue={defaultValue} onSearch={handleSearch}></SearchBox>\r\n    {result ? <SearchResult result={result.search}></SearchResult> : null}\r\n  </Container>\r\n}","import React from 'react';\nimport \"@fontsource/roboto\";\nimport clsx from 'clsx';\nimport Container from '@material-ui/core/Container';\nimport { makeStyles, useTheme, ThemeProvider } from '@material-ui/core/styles';\nimport Drawer from '@material-ui/core/Drawer';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport List from '@material-ui/core/List';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport SearchIcon from '@material-ui/icons/Search';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport LibraryBooksIcon from '@material-ui/icons/LibraryBooks';\nimport LiveHelpIcon from '@material-ui/icons/LiveHelp';\nimport GroupIcon from '@material-ui/icons/Group';\nimport WebIcon from '@material-ui/icons/Web';\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport DashboardIcon from '@material-ui/icons/Dashboard';\nimport AlarmIcon from '@material-ui/icons/Alarm';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport CloseIcon from '@material-ui/icons/Close';\nimport StorageIcon from '@material-ui/icons/Storage';\nimport VerifiedUserIcon from '@material-ui/icons/VerifiedUser';\nimport PhonelinkIcon from '@material-ui/icons/Phonelink';\nimport {\n  HashRouter as Router,\n  // BrowserRouter as Router,\n  Switch,\n  Route\n} from \"react-router-dom\";\nimport { TransitionGroup, CSSTransition } from \"react-transition-group\";\nimport { Provider } from 'react-redux'\nimport { MuiPickersUtilsProvider } from '@material-ui/pickers';\nimport MomentUtils from '@date-io/moment';\nimport moment from 'moment';\nimport 'moment/locale/zh-cn';\nimport store from './data/store';\nimport { Box, Button, Dialog, DialogActions, DialogContent, DialogTitle, ListItem, Snackbar } from '@material-ui/core';\nimport { setConfig, setErrorInfo, setMessage, setReserveTableData, setRoomStockData, setShopInfo } from \"./data/action\";\n\nimport { isIterator, isMobileDevice, sleep } from \"./utils/utils\";\n\nimport Dashboard from './pages/Dashboard';\nimport Login from './pages/Login';\nimport Library from \"./pages/Library\";\nimport Services from \"./pages/Services\";\nimport About from './pages/About';\nimport Help from './pages/Help';\nimport Settings from \"./pages/Settings\";\nimport { api } from './api/api';\nimport ListItemLink from './components/ListItemLink';\nimport Search from './pages/Search';\n\nconst drawerWidth = 240;\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    width: '100%',\n    // overflowX: 'auto',\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n    transition: theme.transitions.create(['width', 'margin'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  title: {\n    flexGrow: 1\n  },\n  appBarShift: {\n    marginLeft: drawerWidth,\n    width: `calc(100% - ${drawerWidth}px)`,\n    transition: theme.transitions.create(['width', 'margin'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  menuButton: {\n    marginRight: 36,\n  },\n  hide: {\n    display: 'none',\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0,\n    whiteSpace: 'nowrap',\n  },\n  drawerOpen: {\n    width: drawerWidth,\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  drawerClose: {\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    overflowX: 'hidden',\n    width: theme.spacing(7) + 1,\n    [theme.breakpoints.up('sm')]: {\n      width: theme.spacing(9),\n    },\n  },\n  toolbar: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-end',\n    padding: theme.spacing(0, 1),\n    // necessary for content to be below app bar\n    ...theme.mixins.toolbar,\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3),\n    width: '100%',\n    overflowX: 'auto',\n  },\n}));\n\nlet subscribers = {};\n\nlet last_data = {\n  config: null,\n  user: null,\n  daemon: null\n};\n\nstore.subscribe(async () => {\n  let state = store.getState();\n  // console.log('redux update to', state);\n  // 保存 config\n  if (state.config.data) {\n    if (JSON.stringify(state.config.data) != JSON.stringify(last_data.config)) {\n      // console.log('Config will change:', state.config.data);\n      state.config.save();\n      if (store.getState().user && store.getState().config.data.settings_async) {\n        await api.request('sync', 'POST', { config: state.config.data });\n      }\n    } else {\n      // console.log('Not change:', state.config.data);\n    }\n    last_data.config = state.config.data;\n  }\n  for (let subFunc in subscribers) {\n    subscribers[subFunc](state);\n  }\n});\n\nfunction App() {\n  const classes = useStyles();\n  const theme = useTheme();\n  const [open, setOpen] = React.useState(false);\n  const titleDefault = \"Mayne的大图书馆\";\n  const [errorDialogInfo, setErrorDialogInfo] = React.useState(false);\n  const [myMessage, setMyMessage] = React.useState(null);\n  const [title, setTitle] = React.useState(titleDefault);\n  const [ignored, forceUpdate] = React.useReducer(x => x + 1, 0);\n  // 拉大到800会打开，拉小到600关闭\n  const triggerWidthOpen = 800;\n  const triggerWidthClose = 600;\n  // onMount & onUpdate\n  React.useEffect(() => {\n    const onWindowResize = () => {\n      let width = window.innerWidth;\n      // console.log(width);\n      if (!open && width >= triggerWidthOpen) setOpen(true);\n      if (open && width <= triggerWidthClose) setOpen(false);\n    };\n    window.addEventListener(\"load\", onWindowResize);\n    window.addEventListener('resize', onWindowResize);\n\n    return () => {\n      window.removeEventListener(\"load\", onWindowResize);\n      window.removeEventListener(\"resize\", onWindowResize);\n    };\n  });\n\n  // 注册一个当遇到错误的时候调用的钩子吧，用来显示错误信息\n  subscribers['Error'] = function (state) {\n    if (state.errorInfo) {\n      console.log('Error Hook: ', state.errorInfo);\n      setErrorDialogInfo(state.errorInfo);\n      // 清空错误信息\n      store.dispatch(setErrorInfo(null));\n    }\n  };\n  // 注册一个消息钩子\n  subscribers['Message'] = function (state) {\n    if (state.message) {\n      console.log('message: ', state.message);\n      setMyMessage(state.message);\n      store.dispatch(setMessage(null));\n    }\n  };\n  subscribers['User'] = function (state) {\n    if (state.user) {\n      if (JSON.stringify(state.user) != JSON.stringify(last_data.user)) {\n        forceUpdate();\n      }\n      last_data.user = state.user;\n    }\n  };\n  subscribers['Daemon'] = function (state) {\n    if (state.daemon) {\n      if (JSON.stringify(state.daemon) != JSON.stringify(last_data.daemon)) {\n        forceUpdate();\n      }\n      last_data.daemon = state.daemon;\n    }\n  };\n\n  let routerContent = <Router>\n    <CssBaseline />\n    <AppBar\n      position=\"fixed\"\n      className={clsx(classes.appBar, {\n        [classes.appBarShift]: open,\n      })}\n    >\n      <Toolbar>\n        <IconButton\n          color=\"inherit\"\n          aria-label=\"open drawer\"\n          onClick={() => { setOpen(true); }}\n          edge=\"start\"\n          className={clsx(classes.menuButton, {\n            [classes.hide]: open,\n          })}\n        >\n          <MenuIcon />\n        </IconButton>\n        <Typography variant=\"h6\" noWrap className={classes.title}>\n          {title}\n        </Typography>\n        <IconButton\n          color=\"inherit\"\n          aria-label=\"login\"\n          onClick={() => { }}\n        >\n          <AccountCircleIcon />\n        </IconButton>\n      </Toolbar>\n    </AppBar>\n    <Drawer\n      variant=\"permanent\"\n      className={clsx(classes.drawer, {\n        [classes.drawerOpen]: open,\n        [classes.drawerClose]: !open,\n      })}\n      classes={{\n        paper: clsx({\n          [classes.drawerOpen]: open,\n          [classes.drawerClose]: !open,\n        }),\n      }}\n    >\n      <div className={classes.toolbar}>\n        <IconButton onClick={() => { setOpen(false); }}>\n          {theme.direction === 'rtl' ? <ChevronLeftIcon /> : <ChevronLeftIcon />}\n        </IconButton>\n      </div>\n      <Divider />\n      <List onClick={() => {\n        if (window.innerWidth < 600) {\n          setOpen(false);\n        }\n      }}>\n        <ListItemLink to=\"/\" primary=\"启动页\" icon={<DashboardIcon />} />\n        <ListItemLink to=\"/search\" primary=\"找书\" icon={<SearchIcon />} />\n        <ListItemLink to=\"/library\" primary=\"馆藏\" icon={<LibraryBooksIcon />} />\n        <ListItemLink to=\"/services\" primary=\"服务\" icon={<WebIcon />} />\n        <ListItemLink to=\"/settings\" primary=\"设置\" icon={<SettingsIcon />} />\n        <ListItemLink to=\"/help\" primary=\"帮助\" icon={<LiveHelpIcon />} />\n        <ListItemLink to=\"/about\" primary=\"关于\" icon={<GroupIcon />} />\n      </List>\n    </Drawer>\n    <main className={classes.content}>\n      <div className={classes.toolbar} />\n      <Switch>\n        <Route path={\"/\"} exact={true}>\n          <Dashboard></Dashboard>\n        </Route>\n        <Route path={\"/library\"} exact={true}>\n          <Library></Library>\n        </Route>\n        <Route path={\"/search\"} exact={true}>\n          <Search></Search>\n        </Route>\n        <Route path={\"/settings\"} exact={false}>\n          <Settings />\n        </Route>\n        <Route path={\"/services\"} exact={true}>\n          <Services></Services>\n        </Route>\n        <Route path={\"/help\"} exact={true}>\n          <Help></Help>\n        </Route>\n        <Route path={\"/about\"} exact={true}>\n          <About></About>\n        </Route>\n      </Switch>\n    </main>\n  </Router>;\n\n  if (!store.getState().user) {\n    if (store.getState().config.data.api_token.access_token) {\n      routerContent = <Typography variant=\"body1\">正在登录...</Typography>\n    } else {\n      routerContent = <Login></Login>\n    }\n  }\n\n  return (\n    <div className={classes.root}>\n      <ThemeProvider theme={store.getState().config.theme}>\n        {routerContent}\n        <Dialog open={errorDialogInfo ? true : false} onClose={() => { setErrorDialogInfo(null); }}>\n          <DialogTitle>遇到错误</DialogTitle>\n          <DialogContent>\n            <Typography variant=\"body1\">错误信息</Typography>\n            <Box component=\"div\">\n              <Box component=\"div\">\n                {() => {\n                  if (isIterator(errorDialogInfo) && typeof (errorDialogInfo) !== 'string') {\n                    return <List>\n                      {errorDialogInfo.map((d, i) => <ListItem key={i}>\n                        <code>{JSON.stringify(d) === '{}' ? d.toString() : JSON.stringify(d)}</code>\n                      </ListItem>)}\n                    </List>;\n                  } else {\n                    return <code>{JSON.stringify(errorDialogInfo) === '{}' ? errorDialogInfo.toString() : JSON.stringify(errorDialogInfo)}</code>;\n                  }\n                }}\n              </Box>\n            </Box>\n          </DialogContent>\n          <DialogActions>\n            <Button color=\"primary\" onClick={() => { window.location.reload() }}>刷新</Button>\n            <Button color=\"primary\" onClick={() => { setErrorDialogInfo(null); }}>取消</Button>\n          </DialogActions>\n        </Dialog>\n        <Snackbar\n          anchorOrigin={{\n            vertical: 'bottom',\n            horizontal: 'right',\n          }}\n          open={myMessage !== null}\n          autoHideDuration={6000}\n          // onClose={(e) => { console.log(e); }}\n          message={myMessage}\n          action={\n            <React.Fragment>\n              <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={() => setMyMessage(null)}>\n                <CloseIcon fontSize=\"small\" />\n              </IconButton>\n            </React.Fragment>\n          }\n        />\n      </ThemeProvider>\n    </div>);\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport store from './data/store';\nimport { Provider } from 'react-redux';\nimport { api } from './api/api';\nimport { sleep } from './utils/utils';\nimport reportWebVitals from './reportWebVitals';\nimport { setConfig, setErrorInfo, setUser } from './data/action';\n\n// 循环执行函数\nasync function cycleFunc(cycle = 1000) {\n  while (true) {\n    try {\n    } catch (e) {\n      console.error(e);\n    }\n    await sleep(cycle);\n  }\n}\n\n// 开始执行的函数\nasync function startFunc() {\n  setTimeout(async () => {\n    const user = store.getState().user;\n    const isNowLogining = !user && store.getState().config.data.api_token.access_token;\n    if (isNowLogining) {\n      api.load_from_config();\n      const res = await api.request('user', 'GET');\n      // console.log('index res', res)\n      if (res.code === 200) {\n        // console.log('saving user', res.data.user)\n        store.dispatch(setUser(res.data.user));\n      }\n    }\n  }, 0);\n}\n\nReactDOM.render(\n  // <React.StrictMode>\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  // </React.StrictMode>,\n  document.getElementById('root')\n);\n\nstartFunc().then(() => {\n  cycleFunc();\n});\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}