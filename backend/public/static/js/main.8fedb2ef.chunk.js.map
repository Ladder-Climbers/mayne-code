{"version":3,"sources":["data/reducers.js","config.js","data/store.js","data/action.js","utils/utils.js","components/BookItem.js","api/api.js","components/Recommends.js","components/SearchBox.js","components/ShowList.js","components/PopularAuthors.js","components/PopularTags.js","components/Slides.js","utils/history.js","pages/Dashboard.js","pages/Login.js","pages/Library.js","pages/Services.js","pages/About.js","pages/Help.js","components/ListInfo.js","pages/Settings.js","components/ListItemLink.js","components/SearchResult.js","pages/Search.js","App.js","reportWebVitals.js","index.js"],"names":["defaultState","config","ITEM_NAME","this","load","bind","save","theme_avaliable","createMuiTheme","palette","primary","main","brown","secondary","deepOrange","type","blueGrey","grey","data_default","debug","version_frontend","theme_name","api_token","user","settings_async","data","theme","console","log","JSON","parse","localStorage","getItem","Error","k","e","warn","s","stringify","setItem","tasks","daemon","errorInfo","message","searchInfo","combineReducers","state","action","store","createStore","reducers","applyMiddleware","thunk","setConfig","dispatch","setUser","setErrorInfo","setMessage","setSearchInfo","urlEncode","param","key","encode","paramStr","t","encodeURIComponent","i","Array","sleep","time_ms","Promise","accept","setTimeout","isIterator","obj","Symbol","iterator","deepCopy","d","length","push","objectUpdate","origin","update","now","isChinese","temp","test","shuffle","arr","start","stop","_arr","slice","j","Math","floor","random","useStyles","makeStyles","root","maxWidth","media","paddingTop","expand","transform","marginLeft","transition","transitions","create","duration","shortest","expandOpen","BookItem","props","classes","book","React","useState","expanded","setExpanded","Card","className","CardMedia","image","cover","title","onClick","stopPropagation","CardActions","disableSpacing","Box","style","float","Typography","variant","color","component","author","IconButton","clsx","aria-expanded","aria-label","Collapse","in","timeout","unmountOnExit","Container","desc","api","host","window","location","href","includes","port","api_version","api_prefix","protocol","url","access_token","refresh_token","undefined","router","method","request","getState","get_token","set_token","refresh","access","headers","a","payload","mode","body","get_headers","Boolean","fetch","resp","js","json","error","code","status","statusText","resp2","js2","update_config","res","display","flexWrap","justifyContent","overflow","backgroundColor","background","paper","gridList","Recomends","books","setBooks","requesting","setRequesting","then","douban_top","trigger","useScrollTrigger","Grid","container","spacing","map","v","item","xs","sm","lg","LinearProgress","requestingSearchInfo","SearchBox","onSearch","defaultValue","searchValue","setSearchValue","src","Object","keys","searchType","setSearchType","handleSearch","FormControl","fullWidth","InputLabel","Select","value","onChange","target","MenuItem","name","TextField","onKeyDown","Button","search_info","ShowList","list","subHeader","maxHeight","List","ListSubheader","ListItem","button","ListItemText","text","PopularAuthors","PopularTags","tags","startIndex","Slides","borderStyle","images","imageIndex","imageLastIndex","sliding","clickOnSliding","slidesRunning","refreshTime","setState","Paper","Component","createHashHistory","Dashboard","paddingLeft","paddingRight","history","pathname","search","Divider","padding","LoginFrame","username","password","captcha","actionType","setInnerState","refUsername","useRef","refPassword","actionLogin","handleAction","ref","label","current","querySelector","focus","Fade","exit","enter","Login","Services","small","width","height","large","People","nickHead","people","nick","profile","head","link","readmeState","leftContent","flexDirection","minWidth","open","Avatar","alt","borderLeftStyle","borderLeftWidth","borderLeftColor","About","Help","ListInfo","onClose","keyNames","openChild","setOpenChild","child","setChild","childTitle","setChildTitle","Dialog","DialogTitle","DialogContent","showName","ListItemSecondaryAction","Settings","themeName","setThemeName","resetSettingsOpen","setResetSettingsOpen","deleteDataOpen","setDeleteDataOpen","openUser","setOpenUser","resetSettings","c","reload","Switch","defaultChecked","checked","phone","created_at","updated_at","DialogActions","ListItemLink","icon","to","renderLink","useMemo","forwardRef","itemProps","ListItemIcon","SmartSearchResult","abstract","cover_url","SearchResult","result","smart_search","douban","Search","setResult","startedSearching","setStartedSearching","setDefaultValue","query","URL","hash","searchParams","info","drawerWidth","appBar","zIndex","drawer","easing","sharp","leavingScreen","flexGrow","appBarShift","enteringScreen","menuButton","marginRight","hide","flexShrink","whiteSpace","drawerOpen","drawerClose","overflowX","breakpoints","up","toolbar","alignItems","mixins","content","subscribers","last_data","subscribe","subFunc","App","useTheme","setOpen","errorDialogInfo","setErrorDialogInfo","myMessage","setMyMessage","useReducer","x","forceUpdate","useEffect","onWindowResize","innerWidth","addEventListener","removeEventListener","routerContent","CssBaseline","AppBar","position","Toolbar","edge","noWrap","Drawer","direction","path","exact","ThemeProvider","toString","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","Fragment","size","fontSize","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","cycle","load_from_config","ReactDOM","render","document","getElementById","startFunc","cycleFunc"],"mappings":"yoBAGMA,GAAe,CACnBC,OAAQ,I,WCCR,aAAe,yBADfC,UAAY,eAEVC,KAAKC,KAAOD,KAAKC,KAAKC,KAAKF,MAC3BA,KAAKG,KAAOH,KAAKG,KAAKD,KAAKF,MAC3BA,KAAKI,gBAAkB,CACrB,2BAAQC,aAAe,CACrBC,QAAS,CACPC,QAAS,CACPC,KAAMC,KAAM,MAEdC,UAAW,CACTF,KAAMG,KAAW,SAIvB,2BAAQN,aAAe,CACrBC,QAAS,CACPM,KAAM,OACNL,QAAS,CACPC,KAAMK,KAAS,MAEjBH,UAAW,CACTF,KAAMM,KAAK,UAMnBd,KAAKe,aAAe,CAClBC,OAAO,EACPC,iBAAkB,GAGlBC,WAAY,2BACZd,gBAAiB,CACf,2BACA,4BAEFe,UAAW,GAEXC,KAAM,KAENC,gBAAgB,GAElBrB,KAAKsB,KAAOtB,KAAKe,aACjBf,KAAKuB,MAAQvB,KAAKI,gBAAgB,4BAClCJ,KAAKC,O,wCAGP,WACEuB,QAAQC,IAAI,6BACRzB,KAAKsB,KAAKN,QACZQ,QAAQC,IAAI,gCACZzB,KAAKG,QAEP,IAEE,GADAH,KAAKsB,KAAOI,KAAKC,MAAMC,aAAaC,QAAQ7B,KAAKD,aAC5CC,KAAKsB,KAAM,MAAM,IAAIQ,MAAM,aAEhC,GADAN,QAAQC,IAAI,YAAazB,KAAKsB,OACzBtB,KAAKsB,KAAKL,kBAAoBjB,KAAKsB,KAAKL,iBAAmBjB,KAAKe,aAAaE,iBAAkB,CAIlG,IAAK,IAAIc,KAFTP,QAAQC,IAAR,yBAA8BzB,KAAKsB,KAAKL,iBAAxC,eAA+DjB,KAAKe,aAAaE,mBACjFjB,KAAKsB,KAAKL,iBAAmBjB,KAAKe,aAAaE,iBACjCjB,KAAKe,aACZf,KAAKsB,KAAKS,KACbP,QAAQC,IAAR,gCAAqCM,IACrC/B,KAAKsB,KAAKS,GAAK/B,KAAKe,aAAagB,IAGrC/B,KAAKG,QAEP,MAAO6B,GACPR,QAAQS,KAAR,uBAA6BjC,KAAKD,UAAlC,0CACAC,KAAKsB,KAAOtB,KAAKe,aACjBf,KAAKG,OAEPH,KAAKuB,MAAQvB,KAAKI,gBAAgBJ,KAAKsB,KAAKJ,YACvClB,KAAKuB,QAAOvB,KAAKuB,MAAQvB,KAAKI,gBAAL,W,kBAGhC,WACEoB,QAAQC,IAAI,4BACZ,IAAMS,EAAIR,KAAKS,UAAUnC,KAAKsB,MAE9B,OADAM,aAAaQ,QAAQpC,KAAKD,UAAWmC,GAC9BA,M,MDnFTG,MAAO,GACPjB,KAAM,KACNkB,OAAQ,KACRC,UAAW,KACXC,QAAS,KACTC,WAAY,MAmECC,mBAAgB,CAAE5C,OAhEjC,WAAsD,IAAtC6C,EAAqC,uDAA7B9C,GAAaC,OAAQ8C,EAAQ,uCACnD,OAAQA,EAAOhC,MACb,IAAK,aACH,OAAOgC,EAAOtB,KAChB,QACE,OAAOqB,IA2D4BJ,UA5BzC,WAA4D,IAAzCI,EAAwC,uDAAhC9C,GAAa0C,UAAWK,EAAQ,uCACzD,OAAQA,EAAOhC,MACb,IAAK,iBAEH,OAAOgC,EAAOtB,KAChB,QACE,OAAOqB,IAsBuCH,QAlBpD,WAAwD,IAAvCG,EAAsC,uDAA9B9C,GAAa2C,QAASI,EAAQ,uCACrD,OAAQA,EAAOhC,MACb,IAAK,cACH,OAAOgC,EAAOtB,KAChB,QACE,OAAOqB,IAagDL,OArC7D,WAAsD,IAAtCK,EAAqC,uDAA7B9C,GAAayC,OAAQM,EAAQ,uCACnD,OAAQA,EAAOhC,MACb,IAAK,aACH,OAAOgC,EAAOtB,KAChB,QACE,OAAOqB,IAgCwDvB,KAvDrE,WAAkD,IAApCuB,EAAmC,uDAA3B9C,GAAauB,KAAMwB,EAAQ,uCAC/C,OAAQA,EAAOhC,MACb,IAAK,WACH,OAAOgC,EAAOtB,KAChB,QACE,OAAOqB,IAkD8DN,MA9C3E,WAAoD,IAArCM,EAAoC,uDAA5B9C,GAAawC,MAAOO,EAAQ,uCACjD,OAAQA,EAAOhC,MACb,IAAK,YACH,OAAOgC,EAAOtB,KAChB,QACE,OAAOqB,IAyCqEF,WATlF,WAA8D,IAA1CE,EAAyC,uDAAjC9C,GAAa4C,WAAYG,EAAQ,uCAC3D,OAAQA,EAAOhC,MACb,IAAK,kBACH,OAAOgC,EAAOtB,KAChB,QACE,OAAOqB,MExDEE,GAJHC,YACRC,GACAC,YAAgBC,M,gFCfb,SAASC,GAAU5B,GACxB,OAAO,SAAA6B,GACLA,EAAS,CAAEvC,KAAM,aAAcU,KAAMA,KAUlC,SAAS8B,GAAQ9B,GACtB,OAAO,SAAA6B,GACLA,EAAS,CAAEvC,KAAM,WAAYU,KAAMA,KAUhC,SAAS+B,GAAa/B,GAC3B,OAAO,SAAA6B,GACLA,EAAS,CAAEvC,KAAM,iBAAkBU,KAAMA,KAItC,SAASgC,GAAWhC,GACzB,OAAO,SAAA6B,GACLA,EAAS,CAAEvC,KAAM,cAAeU,KAAMA,KAInC,SAASiC,GAAcjC,GAC5B,OAAO,SAAA6B,GACLA,EAAS,CAAEvC,KAAM,kBAAmBU,KAAMA,K,cCvBvC,SAASkC,GAAUC,EAAOC,EAAKC,GACpC,GAAa,MAATF,EAAe,MAAO,GAC1B,IAAIG,EAAW,GACXC,SAAYJ,EAChB,GAAU,WAANI,GAAwB,WAANA,GAAwB,YAANA,EACtCD,GAAY,IAAMF,EAAM,KAAkB,MAAVC,GAAkBA,EAAUG,mBAAmBL,GAASA,QAExF,IAAK,IAAIM,KAAKN,EAAO,CACnB,IAAI1B,EAAW,MAAP2B,EAAcK,EAAIL,GAAOD,aAAiBO,MAAQ,IAAMD,EAAI,IAAM,IAAMA,GAChFH,GAAYJ,GAAUC,EAAMM,GAAIhC,EAAG4B,GAGvC,OAAOC,EA4BF,SAASK,GAAMC,GACpB,OAAO,IAAIC,SAAQ,SAAAC,GACjBC,WAAWD,EAAQF,MAmBhB,SAASI,GAAWC,GACzB,OAAc,MAAPA,GAA+C,oBAAzBA,EAAIC,OAAOC,UAmBnC,SAASC,GAASpD,GACvB,GAAIgD,GAAWhD,IAA2B,kBAAVA,EAAoB,CAElD,IADA,IAAIqD,EAAI,GACCZ,EAAI,EAAGA,EAAIzC,EAAKsD,OAAQb,IAC/BY,EAAEE,KAAKvD,EAAKyC,IAEd,OAAOY,EACF,GAAsB,kBAAVrD,EAAoB,CACrC,IAAIqD,EAAI,GACR,IAAK,IAAM5C,KAAKT,EACdqD,EAAE5C,GAAK2C,GAASpD,EAAKS,IAEvB,OAAO4C,EAEP,OAAOrD,EAIJ,SAASwD,GAAaC,EAAQC,GACnC,IAAIC,EAAMP,GAASK,GACnB,IAAK,IAAMhD,KAAKiD,EACdC,EAAIlD,GAAKiD,EAAOjD,GAElB,OAAOkD,EAGF,SAASC,GAAUC,GAExB,OADS,mBACFC,KAAKD,GAQP,SAASE,GAAQC,GAGtB,IAFA,IAL2BC,EAAOC,EAK9BC,EAAOH,EAAII,QAEN3B,EAAI,EAAGA,EAAI0B,EAAKb,OAAQb,IAAK,CACpC,IAAI4B,GARqBJ,EAQJ,EARWC,EAQRzB,EAPnB6B,KAAKC,MAAMD,KAAKE,UAAYN,EAAOD,IAAUA,GAQ9C1B,EAAI4B,EAAK1B,GACb0B,EAAK1B,GAAK0B,EAAKE,GACfF,EAAKE,GAAK9B,EAEZ,OAAO4B,E,uICrIHM,GAAYC,aAAW,SAACzE,GAAD,MAAY,CACvC0E,KAAM,CACJC,SAAU,KAEZC,MAAO,CAGLC,WAAY,QAEdC,OAAQ,CACNC,UAAW,eACXC,WAAY,OACZC,WAAYjF,EAAMkF,YAAYC,OAAO,YAAa,CAChDC,SAAUpF,EAAMkF,YAAYE,SAASC,YAGzCC,WAAY,CACVP,UAAW,sBAKA,SAASQ,GAASC,GAC/B,IAAMC,EAAUjB,KACRkB,EAASF,EAATE,KACR,EAAgCC,IAAMC,UAAS,GAA/C,mBAAOC,EAAP,KAAiBC,EAAjB,KACA,EAAgCH,IAAMC,SAAS,MAA/C,6BACA,OAAQ,gBAACG,GAAA,EAAD,CAAMC,UAAWP,EAAQf,KAAzB,UAkBN,eAACuB,GAAA,EAAD,CACED,UAAWP,EAAQb,MACnBsB,MAAOR,EAAKS,MAAQT,EAAKS,MAAQ,gEACjCC,MAAOV,EAAKU,MACZC,QAAS,SAAC5F,GACRA,EAAE6F,kBACFrG,QAAQC,IAAI,kBAAmBwF,EAAKU,UAOxC,gBAACG,GAAA,EAAD,CAAaC,gBAAc,EAACH,QAAS,WAAQP,GAAaD,IAA1D,UACE,gBAACY,GAAA,EAAD,CAAKC,MAAO,CAAEC,MAAO,QAArB,UACE,eAACC,EAAA,EAAD,CAAYC,QAAQ,KAAKC,MAAM,cAAcC,UAAU,IAAIV,QAAS,SAAC5F,GACnEA,EAAE6F,kBACFrG,QAAQC,IAAI,kBAAmBwF,EAAKU,QAFtC,SAIGV,EAAKU,QAER,eAACQ,EAAA,EAAD,CAAYC,QAAQ,KAAKC,MAAM,gBAAgBC,UAAU,IAAIV,QAAS,SAAC5F,GACrEA,EAAE6F,kBACFrG,QAAQC,IAAI,mBAAoBwF,EAAKsB,SAFvC,SAIGtB,EAAKsB,YAGV,eAACC,EAAA,EAAD,CACEjB,UAAWkB,YAAKzB,EAAQX,OAAT,eACZW,EAAQH,WAAaO,IAExBQ,QAAS,WAAQP,GAAaD,IAC9BsB,gBAAetB,EACfuB,aAAW,YANb,SAQE,eAAC,KAAD,SAGJ,eAACC,GAAA,EAAD,CAAUC,GAAIzB,EAAU0B,QAAQ,OAAOC,eAAa,EAApD,SACE,gBAACC,GAAA,EAAD,WACE,eAACb,EAAA,EAAD,CAAYC,QAAQ,QAAQC,MAAM,gBAAgBC,UAAU,IAA5D,SACGrB,EAAKgC,OAER,eAACT,EAAA,EAAD,UACE,eAAC,KAAD,MAEF,eAACA,EAAA,EAAD,UACE,eAAC,KAAD,c,wBCuCJU,GAAM,I,WArIV,aAAe,oBAGblJ,KAAKmJ,KAAOC,OAAOC,SAASC,KAAKC,SAAS,aAAe,YAAc,KACvEvJ,KAAKwJ,KAAO,KACZxJ,KAAKyJ,YAAc,KACnBzJ,KAAK0J,WAAL,eAA0B1J,KAAKyJ,aAC/BzJ,KAAK2J,SAAW,OAChB3J,KAAK4J,IAAM5J,KAAKmJ,KAAL,UAAenJ,KAAK2J,SAApB,cAAkC3J,KAAKmJ,KAAvC,YAA+CnJ,KAAKwJ,MAApD,OAA2DxJ,KAAK0J,YAAhE,UAAkF1J,KAAK0J,YAClG1J,KAAK6J,aAAe,GACpB7J,KAAK8J,cAAgB,G,6CAEvB,SAAUD,EAAcC,QAGDC,IAAjBF,IACF7J,KAAK6J,aAAeA,QACAE,IAAlBD,IACF9J,KAAK8J,cAAgBA,K,uBAEzB,WACE,MAAO,CACLD,aAAoC,KAAtB7J,KAAK6J,kBAAsBE,EAAY/J,KAAK6J,aAAcC,cAAsC,KAAvB9J,KAAK8J,mBAAuBC,EAAY/J,KAAK8J,iB,yBAGxI,SAAYE,EAAQtG,GAA4B,IAAvBuG,EAAsB,uDAAb,MAAO3I,EAAM,uCAC7C,OAAOtB,KAAKkK,QAAL,UAAgBF,EAAhB,YAA0BtG,GAAOuG,EAAQ3I,K,2BAElD,WACE,IAAIxB,EAAS+C,GAAMsH,WAAWrK,OAC9BA,EAAOwB,KAAKH,UAAYnB,KAAKoK,YAC7B5I,QAAQC,IAAI,wBAAyB3B,EAAOwB,KAAKH,WAEjD0B,GAAMM,SAASD,GAAUpD,M,8BAE3B,WACE,IAAMA,EAAS+C,GAAMsH,WAAWrK,OAChCE,KAAKqK,UAAUvK,EAAOwB,KAAKH,UAAU0I,aAAc/J,EAAOwB,KAAKH,UAAU2I,iB,yBAE3E,WAA6C,IAAjCQ,EAAgC,wDAAfC,IAAe,yDACtCC,EAAU,CACZ,eAAgB,oBAQlB,OANIF,IACFE,EAAO,QAAcxK,KAAK8J,eAExBS,GACwB,KAAtBvK,KAAK6J,eAAqBW,EAAO,cAAoBxK,KAAK6J,cAEzDW,I,4DAET,WAAcR,GAAd,iDAAAS,EAAA,6DAAsBR,EAAtB,+BAA+B,MAAO3I,EAAtC,uBACQoJ,EAAU,CACdT,OAAQA,EACRU,KAAM,OAENC,KAAiB,QAAXX,OAAmBF,EAAazI,EAAOI,KAAKS,UAAUb,QAAQyI,EAEpES,QAASxK,KAAK6K,YAAYC,QAAmB,YAAXd,GAAmC,WAAXC,KAGtDL,EAAkB,QAAXK,GAAqB3I,EAAtB,UAA2DtB,KAAK4J,IAAhE,YAAuEI,EAAvE,YAAiFxG,GAAUlC,GAAMoE,MAAM,IAAvG,UAAiC1F,KAAK4J,IAAtC,YAA6CI,GAV3D,SAYqBe,MAAMnB,EAAKc,GAZhC,cAYQM,EAZR,OAaMC,EAAK,KAbX,mBAcmBD,EAAKE,OAdxB,QAcQD,EAdR,gEAeIzJ,QAAQ2J,MAAR,MACAtI,GAAMM,SAASE,GAAa,EAAD,KAhB/B,kBAiBW,CAAE+H,KAAMJ,EAAKK,OAAQF,MAAOH,EAAKM,aAjB5C,WAmBE9J,QAAQC,IAAI,UAAWwJ,GAClBA,KAEHA,EAAK,IACFzI,QAAUwI,EAAKM,iBAEJvB,IAAZkB,EAAGG,OAAoBH,EAAGG,KAAOJ,EAAKK,QAC1B,MAAZJ,EAAGG,KA1BT,oBA2B+B,KAAvBpL,KAAK8J,cA3Bb,0CA6Ba,MA7Bb,yBAiCwBiB,MAAM,GAAD,OAAI/K,KAAK4J,IAAT,YAAwB,CAC/CK,OAAQ,MACRU,KAAM,OACNH,QAASxK,KAAK6K,aAAY,KApChC,eAiCUU,EAjCV,2BAwCwBA,EAAML,OAxC9B,WA0CuB,OAFXM,EAxCZ,QA0CcJ,KA1Cd,iBA2CQpL,KAAKqK,UAAUmB,EAAIlK,KAAKuI,aAAc2B,EAAIlK,KAAKwI,eAC/C9J,KAAKyL,gBAGY,OADXC,EAAM1L,KAAKkK,QAAQ,OAAQ,QACzBkB,MACNvI,GAAMM,SAASC,GAAQsI,EAAIpK,KAAKF,OAhD1C,+BAqDQyB,GAAMM,SAASE,GAAa,iEArDpC,kBAsDe,MAtDf,oFA0Da,CAAE+H,KAAMG,EAAMF,OAAQF,MAAOI,EAAMD,aA1DhD,iCA4DWtL,KAAKkK,QAAQF,EAAQC,EAAQ3I,IA5DxC,eA8DkB,MAAZ2J,EAAGG,KAEU,YAAXpB,GAAmC,SAAXC,GAAoB,EACNgB,EAAG3J,KAAnCuI,EADqC,EACrCA,aAAcC,EADuB,EACvBA,cAEtB9J,KAAKqK,UAAUR,EAAcC,GAC7B9J,KAAKyL,iBACe,YAAXzB,GAAmC,WAAXC,IAGjCjK,KAAKqK,UAAU,GAAI,IACnBrK,KAAKyL,iBAGP5I,GAAMM,SAASE,GAAa4H,IA5EhC,kBA8ESA,GA9ET,kE,+DC7CIlF,GAAYC,aAAW,SAACzE,GAAD,MAAY,CACvC0E,KAAM,CACJ0F,QAAS,OACTC,SAAU,OACVC,eAAgB,eAChBC,SAAU,SACVC,gBAAiBxK,EAAMjB,QAAQ0L,WAAWC,OAE5CC,SAAU,OAOG,SAASC,KACNpG,KAAhB,IAuCA,EAA0BmB,IAAMC,SAAS,IAAzC,mBAAOiF,EAAP,KAAcC,EAAd,KACA,EAAoCnF,IAAMC,UAAS,GAAnD,mBAAOmF,EAAP,KAAmBC,EAAnB,KACKD,IACHC,GAAc,GACdrD,GAAIgB,QAAQ,cAAcsC,MAAK,SAAAxB,GACX,MAAdA,EAAKI,KACP/H,GAAa2H,IAEbuB,GAAc,GACdF,EAASrB,EAAK1J,KAAKmL,iBAIzB,IAAMC,EAAUC,eAEhB,OADID,GAAWlL,QAAQC,IAAI,mBACnB,gBAACuG,GAAA,EAAD,WACN,wBACA,eAACG,EAAA,EAAD,CAAYC,QAAQ,KAApB,sCACA,wBACA,eAACwE,GAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAzB,SACGV,EAAMW,KAAI,SAACC,EAAGjL,GACb,OAAO,eAAC6K,GAAA,EAAD,CAAcK,MAAI,EAACC,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAArC,SAAwC,eAACtG,GAAD,CAAUG,KAAM+F,KAA7CjL,QAGtB,wBACA,eAACsL,GAAA,EAAD,CAAgBhF,MAAM,YAAYJ,MAAO,CAAE0D,QAAUe,EAAU,QAAU,a,sDCtFzEY,IAAuB,EAWZ,SAASC,GAAUxG,GAChC,IAAQyG,EAA2BzG,EAA3ByG,SAAUC,EAAiB1G,EAAjB0G,aACZhL,EAAaI,GAAMsH,WAAW1H,WACpC,EAAsCyE,IAAMC,SAASsG,GAAgBA,EAAa/J,IAAM+J,EAAa/J,IAAY,IAAjH,mBAAOgK,EAAP,KAAoBC,EAApB,KACA,EAAoCzG,IAAMC,SAAS1E,EAAcgL,EAAeA,EAAaG,IAAMC,OAAOC,KAAKrL,GAAY,GAAM,MAAjI,mBAAOsL,EAAP,KAAmBC,EAAnB,KACMC,EAAe,WACdT,GACLA,EAASE,EAAaK,EAAYtL,IAEpC,OACE,gBAACmK,GAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAzB,UAGE,eAACF,GAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,EAAf,SACE,gBAACgB,GAAA,EAAD,CAAaC,WAAS,EAAtB,UACE,eAACC,GAAA,EAAD,uCACA,eAACC,GAAA,EAAD,CACEC,MAAOP,EACPQ,SAAU,SAACvM,GACTgM,EAAchM,EAAEwM,OAAOF,QAH3B,SAMG7L,EAAaoL,OAAOC,KAAKrL,GAAYsK,KAAI,SAAChL,EAAGiL,GAC5C,OAAO,eAACyB,GAAA,EAAD,CAAkBH,MAAOvM,EAAzB,SAA6BU,EAAWV,GAAG2M,MAA5B1B,MACnB,eAACyB,GAAA,EAAD,8CAKX,eAAC7B,GAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,EAAf,SACE,eAACyB,GAAA,EAAD,CAAWR,WAAS,EAClBI,SAAU,SAAAvM,GAAC,OAAI2L,EAAe3L,EAAEwM,OAAOF,QACvCM,UAAW,SAAA5M,GACK,UAAVA,EAAE0B,KAAiBuK,KAEzBK,MAAOZ,MAGX,eAACd,GAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,EAAf,SACE,eAAC2B,GAAA,EAAD,CAAQzG,QAAQ,YAAYC,MAAM,UAAUT,QAASqG,EAArD,+BAjDHpL,GAAMsH,WAAW1H,YAAe6K,IACnC,sBAAC,4BAAA7C,EAAA,6DACC6C,IAAuB,EADxB,SAEoBpE,GAAIgB,QAAQ,SAAU,SAF1C,OAEOc,EAFP,OAGCnI,GAAMM,SAASI,GAAcyH,EAAK1J,KAAKwN,cACvCxB,IAAuB,EAJxB,0CAAD,G,wBCNa,SAASyB,GAAShI,GAC/B,IAAQiI,EAAoBjI,EAApBiI,KAAMC,EAAclI,EAAdkI,UACRC,EAAYnI,EAAMmI,WAAa,IACrC,OAAO,eAAClH,GAAA,EAAD,UACL,gBAACmH,EAAA,EAAD,CAAMlH,MAAO,CAAEiH,UAAWA,EAAWpD,SAAU,QAA/C,UAGGmD,GAAa,eAACG,GAAA,EAAD,UAAgBH,IAC7BD,EAAKjC,KAAI,SAACE,EAAMvJ,GAAP,OAAe,eAAC2L,GAAA,EAAD,CAAUC,QAAM,EAAhB,SACvB,eAACC,GAAA,EAAD,UACGtC,EAAKuC,QAFqC9L,WCRtC,SAAS+L,GAAe1I,GACrC,IACMiI,EAAQ3J,GADE,CAAC,+BAAY,eAAM,4EAAmB,8CAAc,gEAAiB,qBAAO,8BAAW,qBAAO,8CAAc,oCAAY,8CAAc,gDAAc,eAAM,eAAM,6CAAW,8CAAmB,qBAAO,kCAAY,eAAM,8CAAc,2BAAQ,qBAAO,iCAAwB,4EAAmB,kEAC/Q0H,KAAI,SAAAhL,GAClC,MAAO,CAAEyN,KAAMzN,MAEjB,OAAO,eAACgN,GAAD,CAAUE,UAAU,2BAAOD,KAAMA,ICJ3B,SAASU,GAAY3I,GAClC,IAAM4I,EAAO,CAAC,eAAM,eAAM,eAAM,2BAAQ,eAAM,eAAM,qBAAO,eAAM,eAAM,2BAAQ,eAAM,eAAM,eAAM,eAAM,eAAM,qBAAO,2BAAQ,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,2BAAQ,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,qBAAO,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,2BAAQ,6CAAW,eAAM,eAAM,eAAM,2BAAQ,eAAM,eAAM,eAAM,2BAAQ,eAAM,2BAAQ,eAAM,eAAM,eAAM,eAAM,2BAAQ,2BAAQ,eAAM,qBAAO,eAAM,eAAM,eAAM,2BAAQ,2BAAQ,eAAM,eAAM,eAAM,qBAAO,eAAM,qBAAO,eAAM,2BAAQ,qBAAO,eAAM,qBAAO,2BAAQ,uCAAU,2BAAQ,2BAAQ,eAAM,eAAM,eAAM,2BAAQ,qBAAO,eAAM,2BAAQ,qBAAO,eAAM,eAAM,2BAAQ,eAAM,eAAM,2BAAQ,eAAM,qBAAO,iDAAY,2BAAQ,eAAM,eAAM,2BAAQ,2BAAQ,eAAM,qBAAO,2BAAQ,qBAAO,eAAM,eAAM,eAAM,eAAM,2BAAQ,qBAAO,eAAM,qBAAO,eAAM,eAAM,gBAExyB,EAAoCzI,IAAMC,SAASvB,KAAKC,MAAMD,KAAKE,UAAY6J,EAAK/K,OADrE,MACf,mBAAOgL,EAAP,KACMZ,GADN,KACa3J,GAAQsK,EAAKjK,MAAMkK,EAAYA,EAF7B,KAEmD7C,KAAI,SAAAhL,GACpE,MAAO,CAAEyN,KAAMzN,OAEjB,OAAO,eAACgN,GAAD,CAAUE,UAAU,2BAAOD,KAAMA,I,0CC2BrBa,IAlCH7J,aAAW,SAACzE,GAAD,MAAY,CACvC0E,KAAM,CACJ6J,YAAa,c,oDAiCf,WAAY/I,GAAQ,IAAD,8BACjB,cAAMA,IACDuD,QAAU,EAAKA,QAAQpK,KAAb,iBACf,EAAK6P,OAAS,CACZ,gEACA,iEACA,4DAEF,EAAKpN,MAAQ,CACXqN,WAAY,EACZC,eAAgB,EAAKF,OAAOnL,OAAS,EACrCsL,SAAS,EACTC,gBAAgB,GAElB,EAAKC,cAAgB,KACrB,EAAKC,YAAc,IAfF,E,2CAiBnB,WAAW,IAAD,OACR,GAAKrQ,KAAKoQ,cAAV,CAEA,IAAMrO,EAAK/B,KAAK2C,MAAMqN,aAAehQ,KAAK+P,OAAOnL,OAAS,EAAK,EAAK5E,KAAK2C,MAAMqN,WAAa,EAC5FhQ,KAAKsQ,SAAS,CAAEN,WAAYjO,EAAGkO,eAAgBjQ,KAAK2C,MAAMqN,WAAYE,SAAS,IAC/E7L,YAAW,WACL,EAAK1B,MAAMwN,gBACf,EAAKG,SAAS,CAAEJ,SAAS,MACxB,MACH7L,WAAWrE,KAAKsK,QAAStK,KAAKqQ,gB,+BAEhC,WAEErQ,KAAKoQ,eAAgB,EACrB/L,WAAWrE,KAAKsK,QAAStK,KAAKqQ,e,kCAEhC,WAEErQ,KAAKoQ,eAAgB,I,oBAEvB,WAAU,IAAD,OACP,OAAO,gBAACG,GAAA,EAAD,WACL,eAACvI,GAAA,EAAD,UACE,sBAAK4F,IAAK5N,KAAK+P,OAAO/P,KAAK2C,MAAMqN,gBAQnC,eAAChI,GAAA,EAAD,CAAKC,MAAO,CAAE0D,QAAS,OAAQE,eAAgB,UAA/C,SACG7L,KAAK+P,OAAOhD,KAAI,SAACC,EAAGjL,GAAJ,OAAU,eAAC8M,GAAA,EAAD,CAAgBjH,QAAS,WAAQ,EAAK0I,SAAS,CAAEN,WAAYjO,KAA7D,SAAsEA,GAAzDA,e,GAlDZmF,IAAMsJ,Y,UCnC3BC,kBCOA,SAASC,GAAU3J,GAChC,OAAQ,gBAACiC,GAAA,EAAD,WACN,eAAChB,GAAA,EAAD,UACE,eAACA,GAAA,EAAD,CAAKC,MAAO,CAAE0I,YAAa,GAAIC,aAAc,IAA7C,SACE,eAACrD,GAAD,CAAWC,SAAU,SAAC9J,EAAKkK,GACzBiD,GAAQhM,KAAK,CAAEiM,SAAU,UAAWC,OAAQ,IAAMvN,GAAU,CAAEE,MAAKkK,QAAOlI,MAAM,YAKtF,wBACA,eAACsL,EAAA,EAAD,IACA,eAAC,GAAD,IACA,wBACA,eAACA,EAAA,EAAD,IACA,wBACA,gBAACpE,GAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,GAAzB,UACE,eAACF,GAAA,EAAD,CAAMK,MAAI,EAACG,GAAI,EAAGD,GAAI,GAAIlF,MAAO,CAAEgJ,QAAS,IAA5C,SACE,eAACxB,GAAD,MAEF,eAAC7C,GAAA,EAAD,CAAMK,MAAI,EAACG,GAAI,EAAGD,GAAI,GAAIlF,MAAO,CAAEgJ,QAAS,IAA5C,SACE,eAACvB,GAAD,SAGJ,wBACA,eAACsB,EAAA,EAAD,IACA,wBACA,eAAC7E,GAAD,O,cC7BJ,SAAS+E,GAAWnK,GAClB,MAA+BG,IAAMC,SAAS,CAC5CgK,SAAU,GACVC,SAAU,GACVC,QAAS,GACTC,WAAY,UAJd,mBAAO3O,EAAP,KAAc4O,EAAd,KAMMC,EAActK,IAAMuK,SACpBC,EAAcxK,IAAMuK,SACpBnB,EAAW,SAACtL,GAAD,OAAYuM,EAAczM,GAAanC,EAAOqC,KAEzD2M,EAAmC,UAArBhP,EAAM2O,WACpBM,EAAY,uCAAG,gCAAAnH,EAAA,0DAEfkH,EAFe,iCAGCzI,GAAIgB,QAAQ,UAAW,OAAQ,CAC/CiH,SAAUxO,EAAMwO,SAAUC,SAAUzO,EAAMyO,WAJ3B,UAGX1F,EAHW,OAMjBlK,QAAQC,IAAIiK,GACK,MAAbA,EAAIN,KAPS,iEASElC,GAAIgB,QAAQ,OAAQ,OATtB,UAUC,OADZ9I,EATW,QAURgK,KAVQ,mDAWjB5J,QAAQC,IAAI,OAAQL,EAAKE,KAAKF,MAC9ByB,GAAMM,SAASC,GAAQhC,EAAKE,KAAKF,OAZhB,yCAeC8H,GAAIgB,QAAQ,OAAQ,OAAQ,CAC5CiH,SAAUxO,EAAMwO,SAAUC,SAAUzO,EAAMyO,WAhB3B,QAeX1F,EAfW,OAkBjBlK,QAAQC,IAAIiK,GACK,MAAbA,EAAIN,OAENvI,GAAMM,SAASG,GAAW,6BAC1BgN,EAAS,CAACgB,WAAY,WAtBP,4CAAH,qDA2BlB,OAAQ,gBAACtJ,GAAA,EAAD,WACN,eAACG,EAAA,EAAD,CAAYC,QAAQ,KAApB,SAA0BuJ,EAAc,eAAO,iBAC/C,wBACA,eAACX,EAAA,EAAD,IACA,wBACA,eAACrC,GAAA,EAAD,CAAWR,WAAS,EAAC0D,IAAKL,EAAaM,MAAM,qBAAM1J,QAAQ,WAAWkG,MAAO3L,EAAMwO,SAAU5C,SAAU,SAAAvM,GACrGsO,EAAS,CAAEa,SAAUnP,EAAEwM,OAAOF,SAC7BM,UAAW,SAAA5M,GACG,UAAXA,EAAEoJ,MACJsG,EAAYK,QAAQC,cAAc,SAASC,WAG/C,wBAAM,wBACN,eAACtD,GAAA,EAAD,CAAWR,WAAS,EAAC0D,IAAKH,EAAaI,MAAM,eAAK1J,QAAQ,WAAWkG,MAAO3L,EAAMyO,SAAUxQ,KAAK,WAAW2N,SAAU,SAAAvM,GACpHsO,EAAS,CAAEc,SAAUpP,EAAEwM,OAAOF,SAC7BM,UAAW,SAAA5M,GACG,UAAXA,EAAEoJ,MACJwG,OAGJ,eAACM,GAAA,EAAD,CAAMrJ,GAAI8I,EAAa1J,MAAO,CAAE0D,QAASgG,EAAc,QAAU,QAAU7I,QAAS,CAAEqJ,KAAM,EAAGC,MAAO,KAAtG,SACE,gBAACpK,GAAA,EAAD,WACE,gBAACA,GAAA,EAAD,WACE,wBACA,eAAC6G,GAAA,EAAD,CAAQV,WAAS,EAAC/F,QAAQ,YAAYC,MAAM,UAAUT,QAASgK,EAA/D,6BAEF,gBAAC5J,GAAA,EAAD,WACE,wBACA,eAAC6G,GAAA,EAAD,CAAQV,WAAS,EAAC/F,QAAQ,YAAYC,MAAM,YAAYT,QAAS,kBAAM0I,EAAS,CAAEgB,WAAY,aAA9F,kCAIN,eAACY,GAAA,EAAD,CAAMrJ,IAAK8I,EAAa1J,MAAO,CAAE0D,QAAUgG,EAAwB,OAAV,SAAoB7I,QAAS,CAAEqJ,KAAM,EAAGC,MAAO,KAAxG,SACE,gBAACpK,GAAA,EAAD,WACE,gBAACA,GAAA,EAAD,WACE,wBACA,eAAC6G,GAAA,EAAD,CAAQV,WAAS,EAAC/F,QAAQ,YAAYC,MAAM,UAAUT,QAASgK,EAA/D,6BAEF,gBAAC5J,GAAA,EAAD,WACE,wBACA,eAAC6G,GAAA,EAAD,CAAQV,WAAS,EAAC/F,QAAQ,YAAYR,QAAS,kBAAM0I,EAAS,CAAEgB,WAAY,WAA5E,iDAOK,SAASe,GAAMtL,GAC5B,OAAO,eAACiC,GAAA,EAAD,CAAW9C,SAAS,KAApB,SACL,eAACgL,GAAD,MC7FW,SAASR,KACtB,OAAQ,eAAC1H,GAAA,EAAD,UACN,eAACb,EAAA,EAAD,8BCFW,SAASmK,KACtB,OAAQ,eAACtJ,GAAA,EAAD,UACN,eAACb,EAAA,EAAD,+B,cCCEpC,GAAYC,aAAW,SAACzE,GAAD,MAAY,CACvCgR,MAAO,CACLC,MAAOjR,EAAMuL,QAAQ,GACrB2F,OAAQlR,EAAMuL,QAAQ,IAExB4F,MAAO,CACLF,MAAOjR,EAAMuL,QAAQ,GACrB2F,OAAQlR,EAAMuL,QAAQ,QAI1B,SAAS6F,GAAO5L,GACd,IAEI6L,EAFE5L,EAAUjB,KAChB,EAA6DgB,EAAM8L,OAAS9L,EAAM8L,OAAS9L,EAAnFoK,EAAR,EAAQA,SAAU2B,EAAlB,EAAkBA,KAAMC,EAAxB,EAAwBA,QAASC,EAAjC,EAAiCA,KAAMC,EAAvC,EAAuCA,KAAMC,EAA7C,EAA6CA,YAEtChO,GAAU4N,EAAK,OAAUA,EAAK,IAAQ5N,GAAU4N,EAAK,MAAWA,EAAK,IAAUE,IAAMJ,EAAWE,EAAKpN,MAAM,EAAG,IACrH,IAAMyN,EAAc,gBAACnL,GAAA,EAAD,CAAKC,MAAO,CAAE0D,QAAS,OAAQyH,cAAe,SAAUC,SAAU,IAAMzL,QAAS,WAAQqL,GAAQ7J,OAAOkK,KAAKL,EAAM,WAAnH,UAClB,eAACjL,GAAA,EAAD,UACGgL,EAAO,eAACO,GAAA,EAAD,CAAQC,IAAKV,EAAMlF,IAAKoF,EAAMzL,UAAWP,EAAQ0L,QAAmB,eAACa,GAAA,EAAD,CAAQC,IAAKV,EAAMvL,UAAWP,EAAQ0L,MAAtC,SAA8CE,GAAsBE,EAAK,OAEvJ,gBAAC9K,GAAA,EAAD,WACE,eAACG,EAAA,EAAD,CAAYC,QAAQ,KAApB,SAA0B0K,IACzB3B,EAAW,gBAAChJ,EAAA,EAAD,CAAYC,QAAQ,QAApB,cAA8B+I,KAAyB,WAGvE,OAAO,eAACnJ,GAAA,EAAD,CAAKC,MAAO,CAAEgJ,QAAS,GAAIuB,MAAO,QAAlC,SACL,gBAAC5F,GAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAzB,UACE,eAACF,GAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,EAAGE,GAAI,EAAtB,SACE,gBAACR,GAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAzB,UACE,eAACF,GAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,EAAGE,GAAI,EAAtB,SACG+F,IAEH,eAACvG,GAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,EAAGE,GAAI,EAAGxF,QAAS,WAAQwB,OAAOkK,KAAKL,EAAM,WAA5D,SACGC,EAAc,eAAClL,GAAA,EAAD,UACb,sBAAK4F,IAAKsF,MACH,YAIdH,EAAU,eAACnG,GAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,GAAIE,GAAI,EAAvB,SACT,eAACmD,GAAA,EAAD,CAAOtI,MAAO,CAAEuK,MAAO,QAAvB,SACE,eAACxK,GAAA,EAAD,CAAKC,MAAO,CAAE8D,gBAAiB,YAAakF,QAAS,GAAIwC,gBAAiB,QAASC,gBAAiB,GAAIC,gBAAiB,aAAzH,SACE,eAACxL,EAAA,EAAD,CAAYC,QAAQ,QAApB,SAA6B2K,UAGzB,UAKD,SAASa,GAAM7M,GA0C5B,OAAO,gBAACiC,GAAA,EAAD,CAAW9C,SAAS,KAApB,UACL,eAACiC,EAAA,EAAD,CAAYC,QAAQ,KAApB,sCACA,eAACuK,GAAD,CAAQE,OATa,CACrB1B,SAAU,kBACV2B,KAAM,kBACNC,QAAS,4EACTC,KAAM,6DACNC,KAAM,uCAKN,eAACrG,GAAA,EAAD,CAAMC,WAAS,EAAf,SA5Ca,CACb,CACEsE,SAAU,YACV2B,KAAM,QACNC,QAAS,aACTC,KAAM,uDACNC,KAAM,+BACNC,YAAa,wLAEf,CACE/B,SAAU,UACV2B,KAAM,WACNC,QAAS,wBACTC,KAAM,uDACNC,KAAM,8BACNC,YAAa,sLAEf,CACE/B,SAAU,aACV2B,KAAM,cACNE,KAAM,mGACNC,KAAM,gCAER,CACE9B,SAAU,SACV2B,KAAM,eACNG,KAAM,2BACND,KAAM,6GAER,CACEF,KAAM,2BACNE,KAAM,8GAcEjG,KAAI,SAACC,EAAGjL,GAAJ,OACV,eAAC6K,GAAA,EAAD,CAAcK,MAAI,EAACC,GAAIF,EAAEkG,YAAc,GAAK,EAA5C,SACE,eAACP,GAAD,CAAQE,OAAQ7F,KADPjL,WCpGJ,SAAS8R,GAAK9M,GAC3B,OAAO,eAACiC,GAAA,EAAD,mB,wBCDM,SAAS8K,GAAS/M,GAC/B,IAAQzF,EAAyCyF,EAAzCzF,KAAMgS,EAAmCvM,EAAnCuM,KAAMS,EAA6BhN,EAA7BgN,QAASpM,EAAoBZ,EAApBY,MAAOqM,EAAajN,EAAbiN,SACpC,EAAkC9M,IAAMC,UAAS,GAAjD,mBAAO8M,EAAP,KAAkBC,EAAlB,KACA,EAA0BhN,IAAMC,SAAS,MAAzC,mBAAOgN,EAAP,KAAcC,EAAd,KACA,EAAoClN,IAAMC,SAAS,MAAnD,mBAAOkN,EAAP,KAAmBC,EAAnB,KAIA,OAAO,gBAACC,GAAA,EAAD,CAAQpG,WAAS,EAACmF,KAAMA,EAAMS,QAASA,EAAvC,UACL,eAACS,GAAA,EAAD,UAAc7M,IACd,gBAAC8M,GAAA,EAAD,WACE,eAACtF,EAAA,EAAD,CAAMlH,MAAO,CAAEuK,MAAO,QAAtB,SACG3E,OAAOC,KAAKxM,GAAMyL,KAAI,SAACC,EAAGjL,GACzB,IAAM2S,EAAWV,GAAYA,EAAShH,IAAYA,EAClD,GAAK1L,EAAK0L,GAAV,CACA,GAAyB,kBAAb1L,EAAK0L,GACf,OAAO,eAACqC,GAAA,EAAD,CAAkBC,QAAM,EAAC1H,QAAS,WACvCwM,EAAS9S,EAAK0L,IACdsH,EAAcI,GACdR,GAAa,IAHR,SAIHQ,GAJkB3S,GAMtB,IAAMG,EAAC,UAAMZ,EAAK0L,IAClB,OAAO,gBAACqC,GAAA,EAAD,WACL,eAACE,GAAA,EAAD,UAAemF,IACf,eAACC,GAAA,EAAD,UACE,eAACxM,EAAA,EAAD,CAAYC,QAAQ,QAApB,SAA6BlG,EAAEwD,MAAM,EAAG,KAAOxD,EAAE0C,OAAS,GAAK,MAAQ,UAHrD7C,SAU1BoS,GAASE,EAAc,eAACP,GAAD,CAAUxS,KAAM6S,EAAOb,KAAMW,EAAWF,QAAS,WAAQG,GAAa,IAAWvM,MAAO0M,SAA0BtK,QC+ElI6K,OA3Gf,SAAkB7N,GAChB,MAAkCG,IAAMC,SAAStE,GAAMsH,WAAWrK,OAAOwB,KAAKJ,YAA9E,mBAAO2T,EAAP,KAAkBC,EAAlB,KAEA,GAD2B5N,IAAMuK,SACiBvK,IAAMC,UAAS,IAAjE,mBAAO4N,EAAP,KAA0BC,EAA1B,KACA,EAA4C9N,IAAMC,UAAS,GAA3D,mBAAO8N,EAAP,KAAuBC,EAAvB,KACA,EAAoChO,IAAMC,UAAS,GAAnD,mBACA,GADA,UACgCD,IAAMC,UAAS,IAA/C,mBAAOgO,EAAP,KAAiBC,EAAjB,KAEMC,EAAgB,WACpB,IAAIC,EAAIzS,GAAMsH,WAAWrK,OACzBwV,EAAEhU,KAAOgU,EAAEvU,aACXuU,EAAEnV,OACFmV,EAAErV,OACF4C,GAAMM,SAASD,GAAUoS,KAGrBlU,EAAOyB,GAAMsH,WAAW/I,KAE9B,OAAQ,gBAAC4H,GAAA,EAAD,CAAW9C,SAAS,KAApB,UACN,gBAACiJ,EAAA,EAAD,WACE,eAACC,GAAA,EAAD,uCACA,gBAACC,GAAA,EAAD,WACE,eAACE,GAAA,EAAD,CAAchP,QAAQ,uBACtB,eAACoU,GAAA,EAAD,UACGvT,EAAK+P,cAGV,eAAC9B,GAAA,EAAD,CAAUC,QAAM,EAAC1H,QAAS,WAAQwN,GAAY,IAA9C,SACE,eAAC7F,GAAA,EAAD,CAAchP,QAAQ,+BAExB,eAAC8O,GAAA,EAAD,CAAUC,QAAM,EAAhB,SACE,eAACC,GAAA,EAAD,CAAchP,QAAQ,+BAExB,eAAC6O,GAAA,EAAD,2BACA,gBAACC,GAAA,EAAD,WACE,eAACE,GAAA,EAAD,CAAchP,QAAQ,6BACtB,eAACoU,GAAA,EAAD,UACE,eAACzG,GAAA,EAAD,UAEE,eAACG,GAAA,EAAD,CAAQC,MAAOuG,EAAWtG,SAAU,SAAAvM,GAClC8S,EAAa9S,EAAEwM,OAAOF,OACtB,IAAIgH,EAAIzS,GAAMsH,WAAWrK,OACzBwV,EAAEhU,KAAKJ,WAAac,EAAEwM,OAAOF,MAC7BgH,EAAE/T,MAAQ+T,EAAElV,gBAAgBkV,EAAEhU,KAAKJ,YACnCoU,EAAEnV,OACF0C,GAAMM,SAASD,GAAUoS,IACzBjR,YAAW,WAAQ+E,OAAOC,SAASkM,WAAa,MAPlD,SASG1S,GAAMsH,WAAWrK,OAAOwB,KAAKlB,gBAAgB2M,KAAI,SAACC,EAAGjL,GAAJ,OAAU,eAAC0M,GAAA,EAAD,CAAkBH,MAAOtB,EAAzB,SAA6BA,GAAdjL,eAKnF,gBAACsN,GAAA,EAAD,WACE,eAACE,GAAA,EAAD,CAAchP,QAAQ,yCACtB,eAACoU,GAAA,EAAD,UACE,eAACa,GAAA,EAAD,CAAQC,eAAgB5S,GAAMsH,WAAWrK,OAAOwB,KAAKD,eAAgBkN,SAAU,SAAAvM,GAC7E,IAAIsT,EAAIzS,GAAMsH,WAAWrK,OACzBwV,EAAEhU,KAAKD,eAAiBW,EAAEwM,OAAOkH,QACjCJ,EAAEnV,OACF0C,GAAMM,SAASD,GAAUoS,YAI/B,eAACjG,GAAA,EAAD,CAAUC,QAAM,EAAC1H,QAAS,kBAAMoN,GAAqB,IAArD,SACE,eAACzF,GAAA,EAAD,CAAchP,QAAQ,2CAExB,eAAC8O,GAAA,EAAD,CAAUC,QAAM,EAAC1H,QAAS,kBAAMsN,GAAkB,IAAlD,SACE,eAAC3F,GAAA,EAAD,CAAchP,QAAQ,8CAG1B,eAACuT,GAAD,CAAUxS,KAAMuB,GAAMsH,WAAW/I,KAAMkS,KAAM6B,EAAUnB,SAAU,CAC/D7C,SAAU,qBAAO2B,KAAM,eAAM6C,MAAO,iCAAS5C,QAAS,2BAAQpQ,MAAO,2BAAQiT,WAAY,qBAAOC,WAAY,sBAC3GlO,MAAM,2BAAOoM,QAAS,WAAQqB,GAAY,MAC7C,gBAACb,GAAA,EAAD,CAAQjB,KAAMyB,EAAmBhB,QAAS,kBAAMiB,GAAqB,IAArE,UACE,eAACR,GAAA,EAAD,mDAGA,eAACC,GAAA,EAAD,UACE,eAACtM,EAAA,EAAD,CAAYC,QAAQ,QAApB,kIAEF,gBAAC0N,GAAA,EAAD,WACE,eAACjH,GAAA,EAAD,CAAQjH,QAAS,kBAAMoN,GAAqB,IAA5C,0BACA,eAACnG,GAAA,EAAD,CAAQjH,QAAS,WACfyN,IACAjM,OAAOC,SAASkM,UAFlB,gCAMJ,gBAAChB,GAAA,EAAD,CAAQjB,KAAM2B,EAAgBlB,QAAS,kBAAMmB,GAAkB,IAA/D,UACE,eAACV,GAAA,EAAD,mDAGA,eAACC,GAAA,EAAD,UACE,eAACtM,EAAA,EAAD,CAAYC,QAAQ,QAApB,sHAEF,gBAAC0N,GAAA,EAAD,WACE,eAACjH,GAAA,EAAD,CAAQjH,QAAS,kBAAMsN,GAAkB,IAAzC,0BACA,eAACrG,GAAA,EAAD,CAAQjH,QAAS,WACfyN,IACAjM,OAAOC,SAASkM,UAFlB,oC,UC7EOQ,OAxBf,SAAsBhP,GACpB,IAAQiP,EAAsBjP,EAAtBiP,KAAMzV,EAAgBwG,EAAhBxG,QAAS0V,EAAOlP,EAAPkP,GAEjBC,EAAahP,IAAMiP,SACvB,kBAAMjP,IAAMkP,YAAW,SAACC,EAAWxE,GAAZ,OAAoB,eAAC,IAAD,aAAYoE,GAAIA,EAAIpE,IAAKA,GAASwE,SAC7E,CAACJ,IAGH,OACE,8BACE,gBAAC5G,GAAA,EAAD,CAAUC,QAAM,EAAChH,UAAW4N,EAA5B,UACGF,EAAO,eAACM,GAAA,EAAD,UAAeN,IAAuB,KAC9C,eAACzG,GAAA,EAAD,CAAchP,QAASA,UCb/B,SAASgW,GAAkBxP,GACzB,IAAQqF,EAAUrF,EAAVqF,MAER,OAAO,eAACQ,GAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAzB,SACJV,EAAMW,KAAI,SAAC9F,EAAMlF,GAAP,OAAa,eAAC6K,GAAA,EAAD,CAAcK,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAGC,GAAI,EAAtC,SAAyC,eAACtG,GAAD,CAAUG,KAAM,CAC/EU,MAAOV,EAAKU,MACZY,OAAQtB,EAAKuP,SACbvN,KAAM,KACNvB,MAAOT,EAAKwP,cAJqB1U,QAqBxB,SAAS2U,GAAa3P,GACnC,IAAQ4P,EAAW5P,EAAX4P,OACR,OAAO,gBAACxH,EAAA,EAAD,WACJwH,EAAOC,aAAe,eAACvH,GAAA,EAAD,UACrB,gBAACrH,GAAA,EAAD,WACE,eAACG,EAAA,EAAD,CAAYC,QAAQ,KAApB,sCACA,eAACmO,GAAD,CAAmBnK,MAAOuK,EAAOC,aAAaxK,aAEpC,KACbuK,EAAOE,OAAS,eAACxH,GAAA,EAAD,UACf,gBAACrH,GAAA,EAAD,WACE,eAACG,EAAA,EAAD,CAAYC,QAAQ,KAApB,sCACA,eAACmO,GAAD,CAAmBnK,MAAOuK,EAAOE,cAEvB,QCjCH,SAASC,GAAO/P,GAC7B,MAA4BG,IAAMC,SAAS,MAA3C,mBAAOwP,EAAP,KAAeI,EAAf,KACA,EAAgD7P,IAAMC,UAAS,GAA/D,mBAAO6P,EAAP,KAAyBC,EAAzB,KACA,EAAwC/P,IAAMC,SAAS,MAAvD,mBAAOsG,EAAP,KAAqByJ,EAArB,KACMC,EpB0BC,aAAI,IAAIC,IAAI,mBAAqBhO,OAAOC,SAASgO,KAAK3R,MAAM,IAAI4R,coBzBvE9V,QAAQC,IAAI,QAAS0V,GACrB,IAAMlJ,EAAY,uCAAG,WAAOvK,EAAKkK,EAAK2J,GAAjB,eAAA9M,EAAA,6DACnBjJ,QAAQC,IAAIiC,EAAKkK,EAAK2J,GADH,SAEArO,GAAIgB,QAAQ,SAAU,MAAO,CAAExG,MAAKkK,QAFpC,OAEb5C,EAFa,OAGnBxJ,QAAQC,IAAIuJ,GACZ+L,EAAU/L,EAAK1J,MAJI,2CAAH,0DAWlB,OALqB,IAAjB6V,EAAMvS,QAAiBoS,IACzB/I,EAAakJ,EAAM,GAAG,GAAIA,EAAM,GAAG,IACnCF,GAAoB,GACpBC,EAAgB,CAAExT,IAAKyT,EAAM,GAAG,GAAIvJ,IAAKuJ,EAAM,GAAG,MAE7C,gBAACnO,GAAA,EAAD,WACL,eAACuE,GAAD,CAAWE,aAAcA,EAAcD,SAAUS,IAChD0I,EAAS,eAACD,GAAD,CAAcC,OAAQA,EAAO5F,SAA0B,QC6BrE,IAAMyG,GAAc,IACdzR,GAAYC,aAAW,SAACzE,GAAD,MAAY,CACvC0E,KAAM,CACJ0F,QAAS,OACT6G,MAAO,QAGTiF,OAAQ,CACNC,OAAQnW,EAAMmW,OAAOC,OAAS,EAC9BnR,WAAYjF,EAAMkF,YAAYC,OAAO,CAAC,QAAS,UAAW,CACxDkR,OAAQrW,EAAMkF,YAAYmR,OAAOC,MACjClR,SAAUpF,EAAMkF,YAAYE,SAASmR,iBAGzCnQ,MAAO,CACLoQ,SAAU,GAEZC,YAAa,CACXzR,WAAYiR,GACZhF,MAAM,eAAD,OAAiBgF,GAAjB,OACLhR,WAAYjF,EAAMkF,YAAYC,OAAO,CAAC,QAAS,UAAW,CACxDkR,OAAQrW,EAAMkF,YAAYmR,OAAOC,MACjClR,SAAUpF,EAAMkF,YAAYE,SAASsR,kBAGzCC,WAAY,CACVC,YAAa,IAEfC,KAAM,CACJzM,QAAS,QAEXgM,OAAQ,CACNnF,MAAOgF,GACPa,WAAY,EACZC,WAAY,UAEdC,WAAY,CACV/F,MAAOgF,GACPhR,WAAYjF,EAAMkF,YAAYC,OAAO,QAAS,CAC5CkR,OAAQrW,EAAMkF,YAAYmR,OAAOC,MACjClR,SAAUpF,EAAMkF,YAAYE,SAASsR,kBAGzCO,YAAY,aACVhS,WAAYjF,EAAMkF,YAAYC,OAAO,QAAS,CAC5CkR,OAAQrW,EAAMkF,YAAYmR,OAAOC,MACjClR,SAAUpF,EAAMkF,YAAYE,SAASmR,gBAEvCW,UAAW,SACXjG,MAAOjR,EAAMuL,QAAQ,GAAK,GACzBvL,EAAMmX,YAAYC,GAAG,MAAQ,CAC5BnG,MAAOjR,EAAMuL,QAAQ,KAGzB8L,QAAQ,aACNjN,QAAS,OACTkN,WAAY,SACZhN,eAAgB,WAChBoF,QAAS1P,EAAMuL,QAAQ,EAAG,IAEvBvL,EAAMuX,OAAOF,SAElBG,QAAS,CACPhB,SAAU,EACV9G,QAAS1P,EAAMuL,QAAQ,GACvB0F,MAAO,OACPiG,UAAW,YAIXO,GAAc,GAEdC,GAAY,CACdnZ,OAAQ,KACRsB,KAAM,KACNkB,OAAQ,MAGVO,GAAMqW,UAAN,sBAAgB,8BAAAzO,EAAA,2DACV9H,EAAQE,GAAMsH,YAGRrK,OAAOwB,KAJH,oBAKRI,KAAKS,UAAUQ,EAAM7C,OAAOwB,OAASI,KAAKS,UAAU8W,GAAUnZ,QALtD,oBAMV0B,QAAQC,IAAI,sBAAuBkB,EAAM7C,OAAOwB,MAChDqB,EAAM7C,OAAOK,QACT0C,GAAMsH,WAAW/I,OAAQyB,GAAMsH,WAAWrK,OAAOwB,KAAKD,eARhD,gCASF6H,GAAIgB,QAAQ,OAAQ,OAAQ,CAAEpK,OAAQ6C,EAAM7C,OAAOwB,OATjD,+BAcZ2X,GAAUnZ,OAAS6C,EAAM7C,OAAOwB,KAdpB,QAgBd,IAAS6X,KAAWH,GAClBA,GAAYG,GAASxW,GAjBT,6CA2ODyW,OAtNf,WAAgB,IAAD,IACPpS,EAAUjB,KACVxE,EAAQ8X,cACd,EAAwBnS,IAAMC,UAAS,GAAvC,mBAAOmM,EAAP,KAAagG,EAAb,KAEA,EAA8CpS,IAAMC,UAAS,GAA7D,mBAAOoS,EAAP,KAAwBC,EAAxB,KACA,EAAkCtS,IAAMC,SAAS,MAAjD,mBAAOsS,EAAP,KAAkBC,EAAlB,KACA,EAA0BxS,IAAMC,SAHX,uCAGrB,mBAAOQ,EAAP,KACA,GADA,KAC+BT,IAAMyS,YAAW,SAAAC,GAAC,OAAIA,EAAI,IAAG,IAA5D,mBAAgBC,GAAhB,WAKA3S,IAAM4S,WAAU,WACd,IAAMC,EAAiB,WACrB,IAAIvH,EAAQpJ,OAAO4Q,YAEd1G,GAAQd,GAPQ,KAOmB8G,GAAQ,GAC5ChG,GAAQd,GAPU,KAOkB8G,GAAQ,IAKlD,OAHAlQ,OAAO6Q,iBAAiB,OAAQF,GAChC3Q,OAAO6Q,iBAAiB,SAAUF,GAE3B,WACL3Q,OAAO8Q,oBAAoB,OAAQH,GACnC3Q,OAAO8Q,oBAAoB,SAAUH,OAKzCf,GAAW,MAAY,SAAUrW,GAC3BA,EAAMJ,YACRf,QAAQC,IAAI,eAAgBkB,EAAMJ,WAClCiX,EAAmB7W,EAAMJ,WAEzBM,GAAMM,SAASE,GAAa,SAIhC2V,GAAW,QAAc,SAAUrW,GAC7BA,EAAMH,UACRhB,QAAQC,IAAI,YAAakB,EAAMH,SAC/BkX,EAAa/W,EAAMH,SACnBK,GAAMM,SAASG,GAAW,SAG9B0V,GAAW,KAAW,SAAUrW,GAC1BA,EAAMvB,OACJM,KAAKS,UAAUQ,EAAMvB,OAASM,KAAKS,UAAU8W,GAAU7X,OACzDyY,IAEFZ,GAAU7X,KAAOuB,EAAMvB,OAG3B4X,GAAW,OAAa,SAAUrW,GAC5BA,EAAML,SACJZ,KAAKS,UAAUQ,EAAML,SAAWZ,KAAKS,UAAU8W,GAAU3W,SAC3DuX,IAEFZ,GAAU3W,OAASK,EAAML,SAI7B,IAAI6X,EAAgB,gBAAC,IAAD,WAClB,eAACC,EAAA,EAAD,IACA,eAACC,EAAA,EAAD,CACEC,SAAS,QACT/S,UAAWkB,YAAKzB,EAAQyQ,OAAT,eACZzQ,EAAQgR,YAAc1E,IAH3B,SAME,gBAACiH,EAAA,EAAD,WACE,eAAC/R,EAAA,EAAD,CACEH,MAAM,UACNM,aAAW,cACXf,QAAS,WAAQ0R,GAAQ,IACzBkB,KAAK,QACLjT,UAAWkB,YAAKzB,EAAQkR,WAAT,eACZlR,EAAQoR,KAAO9E,IANpB,SASE,eAAC,IAAD,MAEF,eAACnL,EAAA,EAAD,CAAYC,QAAQ,KAAKqS,QAAM,EAAClT,UAAWP,EAAQW,MAAnD,SACGA,IAEH,eAACa,EAAA,EAAD,CACEH,MAAM,UACNM,aAAW,QACXf,QAAS,aAHX,SAKE,eAAC,IAAD,WAIN,gBAAC8S,EAAA,EAAD,CACEtS,QAAQ,YACRb,UAAWkB,YAAKzB,EAAQ2Q,QAAT,mBACZ3Q,EAAQuR,WAAajF,GADT,cAEZtM,EAAQwR,aAAelF,GAFX,IAIftM,QAAS,CACPiF,MAAOxD,aAAI,mBACRzB,EAAQuR,WAAajF,GADb,cAERtM,EAAQwR,aAAelF,GAFf,KAPf,UAaE,sBAAK/L,UAAWP,EAAQ4R,QAAxB,SACE,eAACpQ,EAAA,EAAD,CAAYZ,QAAS,WAAQ0R,GAAQ,IAArC,UACG/X,EAAMoZ,UAAsB,eAAC,IAAD,SAGjC,eAAC3J,EAAA,EAAD,IACA,gBAAC7B,EAAA,EAAD,CAAMvH,QAAS,WACTwB,OAAO4Q,WAAa,KACtBV,GAAQ,IAFZ,UAKE,eAAC,GAAD,CAAcrD,GAAG,IAAI1V,QAAQ,qBAAMyV,KAAM,eAAC,IAAD,MACzC,eAAC,GAAD,CAAcC,GAAG,UAAU1V,QAAQ,eAAKyV,KAAM,eAAC,IAAD,MAC9C,eAAC,GAAD,CAAcC,GAAG,WAAW1V,QAAQ,eAAKyV,KAAM,eAAC,IAAD,MAC/C,eAAC,GAAD,CAAcC,GAAG,YAAY1V,QAAQ,eAAKyV,KAAM,eAAC,IAAD,MAChD,eAAC,GAAD,CAAcC,GAAG,YAAY1V,QAAQ,eAAKyV,KAAM,eAAC,IAAD,MAChD,eAAC,GAAD,CAAcC,GAAG,QAAQ1V,QAAQ,eAAKyV,KAAM,eAAC,IAAD,MAC5C,eAAC,GAAD,CAAcC,GAAG,SAAS1V,QAAQ,eAAKyV,KAAM,eAAC,IAAD,YAGjD,wBAAMzO,UAAWP,EAAQ+R,QAAzB,UACE,sBAAKxR,UAAWP,EAAQ4R,UACxB,gBAAC,IAAD,WACE,eAAC,IAAD,CAAOgC,KAAM,IAAKC,OAAO,EAAzB,SACE,eAAC,GAAD,MAEF,eAAC,IAAD,CAAOD,KAAM,WAAYC,OAAO,EAAhC,SACE,eAAC,GAAD,MAEF,eAAC,IAAD,CAAOD,KAAM,UAAWC,OAAO,EAA/B,SACE,eAAC,GAAD,MAEF,eAAC,IAAD,CAAOD,KAAM,YAAaC,OAAO,EAAjC,SACE,eAAC,GAAD,MAEF,eAAC,IAAD,CAAOD,KAAM,YAAaC,OAAO,EAAjC,SACE,eAACvI,GAAD,MAEF,eAAC,IAAD,CAAOsI,KAAM,QAASC,OAAO,EAA7B,SACE,eAAChH,GAAD,MAEF,eAAC,IAAD,CAAO+G,KAAM,SAAUC,OAAO,EAA9B,SACE,eAACjH,GAAD,eAcR,OARK/Q,GAAMsH,WAAW/I,OAElB+Y,EADEtX,GAAMsH,WAAWrK,OAAOwB,KAAKH,UAAU0I,aACzB,eAAC1B,EAAA,EAAD,CAAYC,QAAQ,QAApB,yCAEA,eAACiK,GAAD,KAKlB,sBAAK9K,UAAWP,EAAQf,KAAxB,SACE,gBAAC6U,EAAA,EAAD,CAAevZ,MAAOsB,GAAMsH,WAAWrK,OAAOyB,MAA9C,UACG4Y,EACD,gBAAC5F,GAAA,EAAD,CAAQjB,OAAMiG,EAAgCxF,QAAS,WAAQyF,EAAmB,OAAlF,UACE,eAAChF,GAAA,EAAD,uCACA,gBAACC,GAAA,EAAD,WACE,eAACtM,EAAA,EAAD,CAAYC,QAAQ,QAApB,sCACA,eAACJ,GAAA,EAAD,CAAKM,UAAU,MAAf,SACE,eAACN,GAAA,EAAD,CAAKM,UAAU,MAAf,SACG,WACC,OAAIhE,GAAWiV,IAAiD,kBAArBA,EAClC,eAACpK,EAAA,EAAD,UACJoK,EAAgBxM,KAAI,SAACpI,EAAGZ,GAAJ,OAAU,eAACsL,GAAA,EAAD,UAC7B,gCAA6B,OAAtB3N,KAAKS,UAAUwC,GAAcA,EAAEoW,WAAarZ,KAAKS,UAAUwC,MADtBZ,QAKzC,gCAA2C,OAApCrC,KAAKS,UAAUoX,GAA4BA,EAAgBwB,WAAarZ,KAAKS,UAAUoX,aAM/G,gBAACzD,GAAA,EAAD,WACE,eAACjH,GAAA,EAAD,CAAQxG,MAAM,UAAUT,QAAS,WAAQwB,OAAOC,SAASkM,UAAzD,0BACA,eAAC1G,GAAA,EAAD,CAAQxG,MAAM,UAAUT,QAAS,WAAQ4R,EAAmB,OAA5D,gCAGJ,eAACwB,GAAA,EAAD,CACEC,aAAc,CACZC,SAAU,SACVC,WAAY,SAEd7H,KAAoB,OAAdmG,EACN2B,iBAAkB,IAElB5Y,QAASiX,EACT7W,OACE,eAAC,IAAMyY,SAAP,UACE,eAAC7S,EAAA,EAAD,CAAY8S,KAAK,QAAQ3S,aAAW,QAAQN,MAAM,UAAUT,QAAS,kBAAM8R,EAAa,OAAxF,SACE,eAAC,IAAD,CAAW6B,SAAS,sBC9VrBC,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBlP,MAAK,YAAkD,IAA/CmP,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,O,8CCId,wCAAAhR,EAAA,sDAAyBuR,EAAzB,+BAAiC,IAAjC,uBAMU/X,GAAM+X,GANhB,kE,oEAWA,sBAAAvR,EAAA,sDACEpG,WAAU,sBAAC,8BAAAoG,EAAA,yDACHrJ,EAAOyB,GAAMsH,WAAW/I,QACPA,GAAQyB,GAAMsH,WAAWrK,OAAOwB,KAAKH,UAAU0I,cAF7D,uBAIPX,GAAI+S,mBAJG,SAKW/S,GAAIgB,QAAQ,OAAQ,OAL/B,OAOU,OAFXwB,EALC,QAOCN,MAENvI,GAAMM,SAASC,GAAQsI,EAAIpK,KAAKF,OAT3B,2CAYR,GAbL,4C,sBAgBA8a,IAASC,OAEP,eAAC,IAAD,CAAUtZ,MAAOA,GAAjB,SACE,eAAC,GAAD,MAGFuZ,SAASC,eAAe,S,2CAG1BC,GAAY9P,MAAK,Y,oCACf+P,MAMFf,O","file":"static/js/main.8fedb2ef.chunk.js","sourcesContent":["import { combineReducers } from 'redux'\r\nimport Config from \"../config\"\r\n\r\nconst defaultState = {\r\n  config: new Config(),\r\n  tasks: [],\r\n  user: null,\r\n  daemon: null,\r\n  errorInfo: null,\r\n  message: null,\r\n  searchInfo: null\r\n}\r\n\r\nfunction config(state = defaultState.config, action) {\r\n  switch (action.type) {\r\n    case \"SET_CONFIG\":\r\n      return action.data;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nfunction user(state = defaultState.user, action) {\r\n  switch (action.type) {\r\n    case \"SET_USER\":\r\n      return action.data;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nfunction tasks(state = defaultState.tasks, action) {\r\n  switch (action.type) {\r\n    case \"SET_TASKS\":\r\n      return action.data;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nfunction daemon(state = defaultState.daemon, action) {\r\n  switch (action.type) {\r\n    case \"SET_DAEMON\":\r\n      return action.data;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nfunction errorInfo(state = defaultState.errorInfo, action) {\r\n  switch (action.type) {\r\n    case \"SET_ERROR_INFO\":\r\n      // console.log('SET_ERROR_INFO', action.data);\r\n      return action.data;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nfunction message(state = defaultState.message, action) {\r\n  switch (action.type) {\r\n    case \"SET_MESSAGE\":\r\n      return action.data;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nfunction searchInfo(state = defaultState.searchInfo, action) {\r\n  switch (action.type) {\r\n    case \"SET_SEARCH_INFO\":\r\n      return action.data;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default combineReducers({ config, errorInfo, message, daemon, user, tasks, searchInfo });\r\n","import { createMuiTheme, makeStyles, ThemeProvider } from '@material-ui/core/styles';\r\nimport { orange, grey, blueGrey, deepOrange, brown } from '@material-ui/core/colors';\r\n\r\nclass Config {\r\n  ITEM_NAME = \"mayne_config\";\r\n  constructor() {\r\n    this.load = this.load.bind(this);\r\n    this.save = this.save.bind(this);\r\n    this.theme_avaliable = {\r\n      \"默认主题\": createMuiTheme({\r\n        palette: {\r\n          primary: {\r\n            main: brown[500],\r\n          },\r\n          secondary: {\r\n            main: deepOrange[500],\r\n          },\r\n        },\r\n      }),\r\n      '黑暗模式': createMuiTheme({\r\n        palette: {\r\n          type: \"dark\",\r\n          primary: {\r\n            main: blueGrey[500],\r\n          },\r\n          secondary: {\r\n            main: grey[500],\r\n          },\r\n        },\r\n      }),\r\n    }\r\n    // 在构造函数执行的时候加载保存的数据\r\n    this.data_default = {\r\n      debug: false,\r\n      version_frontend: 0.1,\r\n      // 显示主题\r\n      // theme_name: \"黑暗模式\",\r\n      theme_name: \"默认主题\",\r\n      theme_avaliable: [\r\n        '默认主题',\r\n        '黑暗模式'\r\n      ],\r\n      api_token: {},\r\n      // 用户信息\r\n      user: null,\r\n      // 设置同步\r\n      settings_async: true,\r\n    };\r\n    this.data = this.data_default;\r\n    this.theme = this.theme_avaliable[\"默认主题\"];\r\n    this.load();\r\n  }\r\n\r\n  load() {\r\n    console.log(\"Config: loading config...\");\r\n    if (this.data.debug) {\r\n      console.log(\"Config: load default config.\");\r\n      this.save();\r\n    }\r\n    try {\r\n      this.data = JSON.parse(localStorage.getItem(this.ITEM_NAME));\r\n      if (!this.data) throw new Error(\"Null data\");\r\n      console.log(\"Got data:\", this.data);\r\n      if (!this.data.version_frontend || this.data.version_frontend < this.data_default.version_frontend) {\r\n        // 版本升级，增量更新\r\n        console.log(`Config: update ${this.data.version_frontend} -> ${this.data_default.version_frontend}`);\r\n        this.data.version_frontend = this.data_default.version_frontend;\r\n        for (let k in this.data_default) {\r\n          if (!this.data[k]) {\r\n            console.log(`    Config: add value ${k}`);\r\n            this.data[k] = this.data_default[k];\r\n          }\r\n        }\r\n        this.save();\r\n      }\r\n    } catch (e) {\r\n      console.warn(`Can not find ${this.ITEM_NAME} in localStorage, use default config.`);\r\n      this.data = this.data_default;\r\n      this.save();\r\n    }\r\n    this.theme = this.theme_avaliable[this.data.theme_name];\r\n    if (!this.theme) this.theme = this.theme_avaliable[\"default\"];\r\n  }\r\n\r\n  save() {\r\n    console.log(\"Config: saving config...\");\r\n    const s = JSON.stringify(this.data);\r\n    localStorage.setItem(this.ITEM_NAME, s);\r\n    return s;\r\n  }\r\n};\r\n\r\nexport default Config;","// applyMiddleware: redux通过该函数来使用中间件\r\n// createStore: 用于创建store实例\r\nimport { applyMiddleware, createStore } from 'redux'\r\n\r\n// 中间件，作用：如果不使用该中间件，当我们dispatch一个action时，需要给dispatch函数传入action        \r\n// 对象；但如果我们使用了这个中间件，那么就可以传入一个函数，这个函数接收两个参数:dispatch和    \r\n// getState。这个dispatch可以在将来的异步请求完成后使用，对于异步action很有用\r\nimport thunk from 'redux-thunk'\r\n\r\n// 引入reducer\r\nimport reducers from './reducers.js'\r\n\r\n// 创建store实例\r\nlet store = createStore(\r\n    reducers,\r\n    applyMiddleware(thunk)\r\n)\r\nexport default store","export function setConfig(data) {\r\n  return dispatch => {\r\n    dispatch({ type: \"SET_CONFIG\", data: data });\r\n  };\r\n}\r\n\r\nexport function setTasks(data) {\r\n  return dispatch => {\r\n    dispatch({ type: \"SET_TASKS\", data: data });\r\n  };\r\n}\r\n\r\nexport function setUser(data) {\r\n  return dispatch => {\r\n    dispatch({ type: \"SET_USER\", data: data });\r\n  };\r\n}\r\n\r\nexport function setDaemon(data) {\r\n  return dispatch => {\r\n    dispatch({ type: \"SET_DAEMON\", data: data });\r\n  };\r\n}\r\n\r\nexport function setErrorInfo(data) {\r\n  return dispatch => {\r\n    dispatch({ type: \"SET_ERROR_INFO\", data: data });\r\n  };\r\n}\r\n\r\nexport function setMessage(data) {\r\n  return dispatch => {\r\n    dispatch({ type: \"SET_MESSAGE\", data: data });\r\n  };\r\n}\r\n\r\nexport function setSearchInfo(data) {\r\n  return dispatch => {\r\n    dispatch({ type: \"SET_SEARCH_INFO\", data: data });\r\n  };\r\n}\r\n\r\n","import moment from 'moment';\r\nimport 'moment/locale/zh-cn'\r\n\r\nexport function isMobileDevice() {\r\n  const sUserAgent = navigator.userAgent;\r\n  return (sUserAgent.indexOf('Android') > -1 || sUserAgent.indexOf('iPhone') > -1 || sUserAgent.indexOf('iPad') > -1 || sUserAgent.indexOf('iPod') > -1 || sUserAgent.indexOf('Symbian') > -1);\r\n}\r\n\r\n/** \r\n* param 将要转为URL参数字符串的对象 \r\n* key URL参数字符串的前缀 \r\n* encode true/false 是否进行URL编码,默认为true \r\n*  \r\n* return URL参数字符串 \r\n*/\r\nexport function urlEncode(param, key, encode) {\r\n  if (param == null) return '';\r\n  var paramStr = '';\r\n  var t = typeof (param);\r\n  if (t === 'string' || t === 'number' || t === 'boolean') {\r\n    paramStr += '&' + key + '=' + ((encode == null || encode) ? encodeURIComponent(param) : param);\r\n  } else {\r\n    for (var i in param) {\r\n      var k = key == null ? i : key + (param instanceof Array ? '[' + i + ']' : '.' + i);\r\n      paramStr += urlEncode(param[i], k, encode);\r\n    }\r\n  }\r\n  return paramStr;\r\n};\r\n\r\nexport function urlEncode2(obj) {\r\n  try {\r\n    return JSON.stringify(obj).replace(/:/g, \"=\").replace(/\"/g, '').replace(/,/g, '&').match(/\\{([^)]*)\\}/)[1];\r\n  } catch (e) {\r\n    console.error(e);\r\n    return \"\";\r\n  }\r\n}\r\n\r\nexport function getHashedQuery() {\r\n  return [...new URL('http://localhost' + window.location.hash.slice(1)).searchParams];\r\n}\r\n\r\nexport function parseTimePoint(time) {\r\n  return moment(time).format('LLLL');\r\n}\r\n\r\nexport function parseTimePeriod(time) {\r\n  return moment.duration(time).humanize();\r\n}\r\n\r\nexport function getTextFieldValue(el) {\r\n  return el.current.childNodes[el.current.childElementCount - 1].childNodes[0].value;\r\n}\r\n\r\nexport function sleep(time_ms) {\r\n  return new Promise(accept => {\r\n    setTimeout(accept, time_ms);\r\n  });\r\n}\r\n\r\n// // 设置到本周的星期几\r\n// Date.prototype.setDay = function (day) {\r\n//   let day_ = this.getDay();\r\n//   if (day_ === day) return this;\r\n//   this.setTime(this.getTime() + 1000 * 60 * 60 * 24 * (day - day_));\r\n//   return this;\r\n// };\r\n\r\n// // 获取 YYYY-MM-DD 格式\r\n// Date.prototype.toDateString = function () {\r\n//   return this.toISOString().slice(0, 10);\r\n// };\r\n\r\n// export function cutString(str, length=10)\r\n\r\nexport function isIterator(obj) {\r\n  return obj != null && typeof obj[Symbol.iterator] === 'function';\r\n}\r\n\r\n// 下载文件方法\r\nexport function funDownload(content, filename) {\r\n  var eleLink = document.createElement('a');\r\n  eleLink.download = filename;\r\n  eleLink.style.display = 'none';\r\n  // 字符内容转变成blob地址\r\n  var blob = new Blob([content]);\r\n  eleLink.href = URL.createObjectURL(blob);\r\n  // 触发点击\r\n  document.body.appendChild(eleLink);\r\n  eleLink.click();\r\n  // 然后移除\r\n  document.body.removeChild(eleLink);\r\n};\r\n\r\n\r\nexport function deepCopy(data) {\r\n  if (isIterator(data) && typeof (data) !== \"string\") {\r\n    let d = [];\r\n    for (let i = 0; i < data.length; i++) {\r\n      d.push(data[i]);\r\n    }\r\n    return d;\r\n  } else if (typeof (data) === \"object\") {\r\n    let d = {};\r\n    for (const k in data) {\r\n      d[k] = deepCopy(data[k]);\r\n    }\r\n    return d;\r\n  } else {\r\n    return data;\r\n  }\r\n}\r\n\r\nexport function objectUpdate(origin, update) {\r\n  let now = deepCopy(origin);\r\n  for (const k in update) {\r\n    now[k] = update[k];\r\n  }\r\n  return now;\r\n}\r\n\r\nexport function isChinese(temp) {\r\n  var re = /[^\\u4E00-\\u9FA5]/;\r\n  if (re.test(temp)) return false;\r\n  return true;\r\n}\r\n\r\nexport function getRandomInt(start, stop) {\r\n  return Math.floor(Math.random() * (stop - start)) + start;\r\n}\r\n\r\nexport function shuffle(arr) {\r\n  let _arr = arr.slice();\r\n  //slice不会影响原来的数组，但是splice就会影响原来的arr数组\r\n  for (let i = 0; i < _arr.length; i++) {\r\n    let j = getRandomInt(0, i);\r\n    let t = _arr[i];\r\n    _arr[i] = _arr[j];\r\n    _arr[j] = t;\r\n  }\r\n  return _arr;\r\n}\r\n","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport { Box, Card, CardActions, CardContent, CardHeader, CardMedia, Collapse, Container, IconButton, makeStyles, Menu, MenuItem, Typography } from \"@material-ui/core\";\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport ShareIcon from '@material-ui/icons/Share';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    maxWidth: 345,\r\n  },\r\n  media: {\r\n    // height: 0,\r\n    // paddingTop: '56.25%', // 16:9\r\n    paddingTop: '100%'\r\n  },\r\n  expand: {\r\n    transform: 'rotate(0deg)',\r\n    marginLeft: 'auto',\r\n    transition: theme.transitions.create('transform', {\r\n      duration: theme.transitions.duration.shortest,\r\n    }),\r\n  },\r\n  expandOpen: {\r\n    transform: 'rotate(180deg)',\r\n  },\r\n}));\r\n\r\n\r\nexport default function BookItem(props) {\r\n  const classes = useStyles();\r\n  const { book } = props;\r\n  const [expanded, setExpanded] = React.useState(false);\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  return (<Card className={classes.root}>\r\n    {/* <CardHeader\r\n      action={\r\n        <Box>\r\n          <IconButton onClick={(e) => setAnchorEl(e.currentTarget)}>\r\n            <MoreVertIcon />\r\n          </IconButton>\r\n          <Menu\r\n            open={Boolean(anchorEl)}\r\n            onClose={() => setAnchorEl(null)}\r\n            anchorEl={anchorEl}>\r\n            <MenuItem>删除</MenuItem>\r\n          </Menu>\r\n        </Box>\r\n      }\r\n      title={book.title}\r\n      subheader={book.author}\r\n    /> */}\r\n    <CardMedia\r\n      className={classes.media}\r\n      image={book.cover ? book.cover : \"https://img2.doubanio.com/view/subject/m/public/s19120153.jpg\"}\r\n      title={book.title}\r\n      onClick={(e) => {\r\n        e.stopPropagation();\r\n        console.log('to visit title:', book.title);\r\n      }}\r\n    >\r\n    </CardMedia>\r\n    {/* <CardContent>\r\n      \r\n    </CardContent> */}\r\n    <CardActions disableSpacing onClick={() => { setExpanded(!expanded); }}>\r\n      <Box style={{ float: \"left\" }}>\r\n        <Typography variant=\"h6\" color=\"textPrimary\" component=\"p\" onClick={(e) => {\r\n          e.stopPropagation();\r\n          console.log('to visit title:', book.title);\r\n        }}>\r\n          {book.title}\r\n        </Typography>\r\n        <Typography variant=\"h6\" color=\"textSecondary\" component=\"p\" onClick={(e) => {\r\n          e.stopPropagation();\r\n          console.log('to visit author:', book.author);\r\n        }}>\r\n          {book.author}\r\n        </Typography>\r\n      </Box>\r\n      <IconButton\r\n        className={clsx(classes.expand, {\r\n          [classes.expandOpen]: expanded,\r\n        })}\r\n        onClick={() => { setExpanded(!expanded); }}\r\n        aria-expanded={expanded}\r\n        aria-label=\"show more\"\r\n      >\r\n        <ExpandMoreIcon />\r\n      </IconButton>\r\n    </CardActions>\r\n    <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\r\n      <Container>\r\n        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n          {book.desc}\r\n        </Typography>\r\n        <IconButton>\r\n          <FavoriteIcon />\r\n        </IconButton>\r\n        <IconButton>\r\n          <ShareIcon />\r\n        </IconButton>\r\n      </Container>\r\n    </Collapse>\r\n  </Card>);\r\n};","import { setConfig, setErrorInfo, setUser } from \"../data/action\";\r\nimport store from \"../data/store\";\r\nimport { isIterator, urlEncode } from \"../utils/utils\"\r\n\r\n\r\n\r\nclass API {\r\n  constructor() {\r\n    // this.host = '127.0.0.1';\r\n    // this.host = null;\r\n    this.host = window.location.href.includes(\"localhost\") ? \"localhost\" : null;\r\n    this.port = 8080;\r\n    this.api_version = \"v1\";\r\n    this.api_prefix = `/api/${this.api_version}`;\r\n    this.protocol = 'http'\r\n    this.url = this.host ? `${this.protocol}://${this.host}:${this.port}${this.api_prefix}` : `${this.api_prefix}`;\r\n    this.access_token = '';\r\n    this.refresh_token = '';\r\n  }\r\n  set_token(access_token, refresh_token) {\r\n    // this.access_token = access_token || this.access_token;\r\n    // this.refresh_token = refresh_token || this.refresh_token;\r\n    if (access_token !== undefined)\r\n      this.access_token = access_token;\r\n    if (refresh_token !== undefined)\r\n      this.refresh_token = refresh_token;\r\n  }\r\n  get_token() {\r\n    return {\r\n      access_token: this.access_token === '' ? undefined : this.access_token, refresh_token: this.refresh_token === '' ? undefined : this.refresh_token\r\n    }\r\n  }\r\n  request_key(router, key, method = \"GET\", data) {\r\n    return this.request(`${router}/${key}`, method, data);\r\n  }\r\n  update_config() {\r\n    let config = store.getState().config;\r\n    config.data.api_token = this.get_token();\r\n    console.log('config.data.api_token', config.data.api_token)\r\n    // config.save();\r\n    store.dispatch(setConfig(config));\r\n  }\r\n  load_from_config() {\r\n    const config = store.getState().config;\r\n    this.set_token(config.data.api_token.access_token, config.data.api_token.refresh_token);\r\n  }\r\n  get_headers(refresh = false, access = true) {\r\n    let headers = {\r\n      'Content-Type': 'application/json',\r\n    };\r\n    if (refresh) {\r\n      headers['Refresh'] = this.refresh_token;\r\n    }\r\n    if (access) {\r\n      if (this.access_token !== '') headers['Authorization'] = this.access_token;\r\n    }\r\n    return headers;\r\n  }\r\n  async request(router, method = \"GET\", data) {\r\n    const payload = {\r\n      method: method,\r\n      mode: 'cors',\r\n      // GET Body 不带数据\r\n      body: method === 'GET' ? undefined : (data ? JSON.stringify(data) : undefined),\r\n      // 注销的时候自带 refresh_token\r\n      headers: this.get_headers(Boolean(router === 'session' && method === 'DELETE')),\r\n    };\r\n    // console.log('request', router, method, data, payload);\r\n    const url = (method !== 'GET' || !data) ? `${this.url}/${router}` : `${this.url}/${router}?${urlEncode(data).slice(1)}`;\r\n    // console.log('url', url);\r\n    const resp = await fetch(url, payload);\r\n    let js = null;\r\n    try { js = await resp.json(); } catch (e) {\r\n      console.error(e);\r\n      store.dispatch(setErrorInfo(e));\r\n      return { code: resp.status, error: resp.statusText };\r\n    }\r\n    console.log('raw js:', js);\r\n    if (!js) {\r\n      // console.log(await resp.json());\r\n      js = {};\r\n      js.message = resp.statusText;\r\n    }\r\n    if (js.code === undefined) js.code = resp.status;\r\n    if (js.code === 422) {\r\n      if (this.refresh_token === '') {\r\n        // 过期勒\r\n        return null;\r\n      }\r\n      // ac_token到期，准备更新\r\n      // console.log(this.get_headers(true));\r\n      const resp2 = await fetch(`${this.url}/session`, {\r\n        method: 'GET',\r\n        mode: 'cors',\r\n        headers: this.get_headers(true),\r\n        // body: JSON.stringify({ refresh_token: this.refresh_token })\r\n      });\r\n      try {\r\n        const js2 = await resp2.json();\r\n        // console.log('updating ac_token', js2);\r\n        if (js2.code === 200) {\r\n          this.set_token(js2.data.access_token, js2.data.refresh_token);\r\n          this.update_config();\r\n          // 更新user\r\n          const res = this.request('user', 'GET');\r\n          if (res.code === 200) {\r\n            store.dispatch(setUser(res.data.user));\r\n          }\r\n        }\r\n        else {\r\n          // 判定为 update_token 也过期，要求重新登录\r\n          store.dispatch(setErrorInfo(\"登录过期，请重新登录\"));\r\n          return null;\r\n        }\r\n      } catch (e) {\r\n        // console.error(e);\r\n        return { code: resp2.status, error: resp2.statusText };\r\n      }\r\n      return this.request(router, method, data);\r\n    }\r\n    if (js.code === 200) {\r\n      // 登录自动储存 JWT 数据\r\n      if (router === 'session' && method === 'POST') {\r\n        const { access_token, refresh_token } = js.data;\r\n        // console.log('jwt', access_token, refresh_token);\r\n        this.set_token(access_token, refresh_token);\r\n        this.update_config();\r\n      } else if (router === 'session' && method === 'DELETE') {\r\n        // 注销\r\n        // console.warn('注销');\r\n        this.set_token('', '');\r\n        this.update_config();\r\n      }\r\n    } else {\r\n      store.dispatch(setErrorInfo(js));\r\n    }\r\n    return js;\r\n  }\r\n}\r\n\r\nconst api = new API();\r\n\r\nexport { API, api };","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport GridList from '@material-ui/core/GridList';\r\nimport GridListTile from '@material-ui/core/GridListTile';\r\nimport GridListTileBar from '@material-ui/core/GridListTileBar';\r\nimport ListSubheader from '@material-ui/core/ListSubheader';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport BookItem from \"../components/BookItem\";\r\nimport { Box, Button, Grid, LinearProgress, Typography, useScrollTrigger } from '@material-ui/core';\r\nimport { api } from '../api/api';\r\nimport { setErrorInfo } from '../data/action';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'space-around',\r\n    overflow: 'hidden',\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n  gridList: {\r\n    // width: 500,\r\n    // height: 450,\r\n  },\r\n}));\r\n\r\n\r\nexport default function Recomends() {\r\n  const classes = useStyles();\r\n  // const books = [\r\n  //   {\r\n  //     title: \"fangguojieryuan\",\r\n  //     author: \"haha\",\r\n  //     desc: \"a small book\",\r\n  //     cover: \"https://material-ui.com/static/images/grid-list/star.jpg\"\r\n  //   },\r\n  //   {\r\n  //     title: \"fangguojieryuan2\",\r\n  //     author: \"ha\",\r\n  //     desc: \"a small book\",\r\n  //     cover: \"https://material-ui.com/static/images/grid-list/star.jpg\"\r\n  //   },\r\n  //   {\r\n  //     title: \"fangguojieryuan\",\r\n  //     author: \"ha\",\r\n  //     desc: \"a small book\",\r\n  //     cover: \"https://material-ui.com/static/images/grid-list/star.jpg\"\r\n  //   },\r\n  //   {\r\n  //     title: \"fangguojieryuan2\",\r\n  //     author: \"ha\",\r\n  //     desc: \"a small book\",\r\n  //     cover: \"https://material-ui.com/static/images/grid-list/star.jpg\"\r\n  //   },\r\n  //   {\r\n  //     title: \"fangguojieryuan\",\r\n  //     author: \"ha\",\r\n  //     desc: \"a small book\",\r\n  //     cover: \"https://material-ui.com/static/images/grid-list/star.jpg\"\r\n  //   },\r\n  //   {\r\n  //     title: \"fangguojieryuan2\",\r\n  //     author: \"ha\",\r\n  //     desc: \"a small book\",\r\n  //     cover: \"https://material-ui.com/static/images/grid-list/star.jpg\"\r\n  //   },\r\n  // ];\r\n  const [books, setBooks] = React.useState([]);\r\n  const [requesting, setRequesting] = React.useState(false);\r\n  if (!requesting) {\r\n    setRequesting(true);\r\n    api.request('douban_top').then(resp => {\r\n      if (resp.code !== 200) {\r\n        setErrorInfo(resp);\r\n      } else {\r\n        setRequesting(false);\r\n        setBooks(resp.data.douban_top);\r\n      }\r\n    })\r\n  }\r\n  const trigger = useScrollTrigger();\r\n  if (trigger) { console.log(\"Slide to bottom\"); }\r\n  return (<Box>\r\n    <br />\r\n    <Typography variant=\"h4\">好书推荐</Typography>\r\n    <br />\r\n    <Grid container spacing={3}>\r\n      {books.map((v, k) => {\r\n        return <Grid key={k} item xs={6} sm={4} lg={3}><BookItem book={v}></BookItem></Grid>;\r\n      })}\r\n    </Grid>\r\n    <br></br>\r\n    <LinearProgress color=\"secondary\" style={{ display: (trigger ? \"block\" : \"none\") }}></LinearProgress>\r\n  </Box>);\r\n};","import React from 'react';\r\nimport { Button, Container, Divider, FormControl, Grid, InputLabel, MenuItem, Select, TextField, Typography } from \"@material-ui/core\";\r\nimport Recomends from \"./Recommends\";\r\nimport { api } from \"../api/api\";\r\nimport store from '../data/store';\r\nimport { setSearchInfo } from '../data/action';\r\n\r\nlet requestingSearchInfo = false;\r\nif (!store.getState().searchInfo && !requestingSearchInfo) {\r\n  (async () => {\r\n    requestingSearchInfo = true;\r\n    const resp = await api.request('search', 'PATCH');\r\n    store.dispatch(setSearchInfo(resp.data.search_info));\r\n    requestingSearchInfo = false;\r\n  })();\r\n}\r\n\r\n\r\nexport default function SearchBox(props) {\r\n  const { onSearch, defaultValue } = props;\r\n  const searchInfo = store.getState().searchInfo;\r\n  const [searchValue, setSearchValue] = React.useState(defaultValue ? (defaultValue.key ? defaultValue.key : '') : '');\r\n  const [searchType, setSearchType] = React.useState(searchInfo ? (defaultValue ? defaultValue.src : Object.keys(searchInfo)[0]) : null);\r\n  const handleSearch = () => {\r\n    if (!onSearch) return;\r\n    onSearch(searchValue, searchType, searchInfo);\r\n  };\r\n  return (\r\n    <Grid container spacing={3}>\r\n      {/* <Grid item xs={2}></Grid> */}\r\n      {/* <Grid item xs={2}> */}\r\n      <Grid item xs={4}>\r\n        <FormControl fullWidth>\r\n          <InputLabel>搜索类型</InputLabel>\r\n          <Select\r\n            value={searchType}\r\n            onChange={(e) => {\r\n              setSearchType(e.target.value);\r\n            }}\r\n          >\r\n            {searchInfo ? Object.keys(searchInfo).map((k, v) => {\r\n              return <MenuItem key={v} value={k}>{searchInfo[k].name}</MenuItem>\r\n            }) : <MenuItem>正在加载</MenuItem>}\r\n          </Select>\r\n        </FormControl>\r\n      </Grid>\r\n      {/* <Grid item xs={5}> */}\r\n      <Grid item xs={6}>\r\n        <TextField fullWidth\r\n          onChange={e => setSearchValue(e.target.value)}\r\n          onKeyDown={e => {\r\n            if (e.key === 'Enter') handleSearch();\r\n          }}\r\n          value={searchValue}></TextField>\r\n      </Grid>\r\n      {/* <Grid item xs={1}> */}\r\n      <Grid item xs={2}>\r\n        <Button variant=\"contained\" color=\"primary\" onClick={handleSearch}>搜索</Button>\r\n      </Grid>\r\n      {/* <Grid item xs={2}></Grid>\r\n      <Grid item xs={6}></Grid> */}\r\n    </Grid>);\r\n};","import { Box, List, ListItem, ListItemText, ListSubheader, Typography } from '@material-ui/core';\r\nimport React from 'react';\r\n\r\nexport default function ShowList(props) {\r\n  const { list, subHeader } = props;\r\n  const maxHeight = props.maxHeight || 320;\r\n  return <Box>\r\n    <List style={{ maxHeight: maxHeight, overflow: 'auto', }}\r\n    // subheader={<Typography variant=\"body1\">LIst</Typography>}\r\n    >\r\n      {subHeader && <ListSubheader>{subHeader}</ListSubheader>}\r\n      {list.map((item, key) => <ListItem button key={key}>\r\n        <ListItemText>\r\n          {item.text}\r\n        </ListItemText>\r\n      </ListItem>)}\r\n    </List>\r\n  </Box>\r\n};","import ShowList from \"./ShowList\";\r\nimport { shuffle } from \"../utils/utils\";\r\n\r\nexport default function PopularAuthors(props) {\r\n  const authors = [\"[清] 曹雪芹 \", \"余华\", \"[哥伦比亚] 加西亚·马尔克斯\", \"[英] 乔治·奥威尔\", \"[美国] 玛格丽特·米切尔\", \"刘慈欣\", \"[明] 罗贯中\", \"林奕含\", \"[英] 乔治·奥威尔\", \"[日] 东野圭吾\", \"[英] 阿·柯南道尔\", \"[法] 圣埃克苏佩里\", \"金庸\", \"三毛\", \"（丹麦）安徒生\", \"[美] 乔治·R. R. 马丁\", \"王小波\", \"[美] 哈珀·李\", \"路遥\", \"[法] 阿尔贝·加缪\", \"当年明月\", \"钱锺书\", \"J.K.罗琳 (J.K.Rowling)\", \"[哥伦比亚] 加西亚·马尔克斯\", \"[以色列] 尤瓦尔·赫拉利\"];\r\n  const list = (shuffle(authors)).map(k => {\r\n    return { text: k }\r\n  });\r\n  return <ShowList subHeader=\"热门作家\" list={list}></ShowList>\r\n}","import React from \"react\";\r\nimport ShowList from \"./ShowList\";\r\nimport { shuffle } from \"../utils/utils\";\r\n\r\nexport default function PopularTags(props) {\r\n  const tags = [\"小说\", \"历史\", \"日本\", \"外国文学\", \"文学\", \"中国\", \"心理学\", \"哲学\", \"经典\", \"中国文学\", \"漫画\", \"随笔\", \"爱情\", \"美国\", \"推理\", \"社会学\", \"日本文学\", \"绘本\", \"传记\", \"文化\", \"成长\", \"科普\", \"散文\", \"英国\", \"东野圭吾\", \"悬疑\", \"青春\", \"生活\", \"艺术\", \"科幻\", \"社会\", \"思维\", \"心理\", \"旅行\", \"女性\", \"言情\", \"经济学\", \"人生\", \"法国\", \"政治\", \"管理\", \"励志\", \"人性\", \"村上春树\", \"好书，值得一读\", \"经济\", \"设计\", \"台湾\", \"推理小说\", \"商业\", \"诗歌\", \"奇幻\", \"英国文学\", \"童话\", \"美国文学\", \"金融\", \"名著\", \"武侠\", \"教育\", \"日本漫画\", \"儿童文学\", \"摄影\", \"政治学\", \"耽美\", \"投资\", \"宗教\", \"个人管理\", \"古典文学\", \"建筑\", \"治愈\", \"电影\", \"人类学\", \"余华\", \"计算机\", \"数学\", \"中国历史\", \"互联网\", \"纪实\", \"王小波\", \"科幻小说\", \"我想读这本书\", \"网络小说\", \"東野圭吾\", \"职场\", \"韩寒\", \"三毛\", \"日系推理\", \"回忆录\", \"杂文\", \"当代文学\", \"工具书\", \"亦舒\", \"温暖\", \"自我管理\", \"美食\", \"德国\", \"法国文学\", \"思想\", \"张爱玲\", \"阿加莎·克里斯蒂\", \"散文随笔\", \"香港\", \"科学\", \"政治哲学\", \"人物传记\", \"营销\", \"方法论\", \"英文原版\", \"刘慈欣\", \"编程\", \"国学\", \"金庸\", \"游记\", \"文化研究\", \"思想史\", \"毛姆\", \"艺术史\", \"教材\", \"育儿\", \"英语\"];\r\n  const select = 30;\r\n  const [startIndex, setStartIndex] = React.useState(Math.floor(Math.random() * (tags.length - select)));\r\n  const list = shuffle(tags.slice(startIndex, startIndex + select)).map(k => {\r\n    return { text: k }\r\n  });\r\n  return <ShowList subHeader=\"热门标签\" list={list}></ShowList>\r\n}","\r\nimport React, { useEffect, moment } from \"react\";\r\nimport { Box, Button, makeStyles, Paper, Slide } from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    borderStyle: 'dotted',\r\n  }\r\n}))\r\nvar i = -1;\r\n// export default function Slides(props) {\r\n//   const images = [\r\n//     'https://img3.doubanio.com/lpic/s24223015.jpg', 'https://material-ui.com/static/images/grid-list/vegetables.jpg', 'https://material-ui.com/static/images/grid-list/star.jpg'\r\n//   ]\r\n//   const [imageIndex, setImage] = React.useState(images[0]);\r\n//   setTimeout(() => {\r\n//     i++;\r\n//     setImage(images[i]);\r\n//     if (i == images.length - 1) {\r\n//       i = -1;\r\n//     }\r\n//   }, 10000);\r\n//   /*setInterval(function() { \r\n//     for(var i=0;i<images.length;i++)\r\n//     {setImage(images[i])\r\n//     if(i===images.length-1)\r\n//     i=0;\r\n//   }\r\n//  },4000);*/\r\n//   return (<Paper>\r\n//     <img src={imageIndex}></img>\r\n//     <Box style={{ display: \"flex\" }}>\r\n//       {images.map((v, k) => <Button key={k} onClick={() => { setImage(images[k]) }}>{k}</Button>)}\r\n//     </Box>\r\n//   </Paper>);\r\n// }\r\n\r\n\r\nexport default class Slides extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.refresh = this.refresh.bind(this);\r\n    this.images = [\r\n      'https://material-ui.com/static/images/grid-list/breakfast.jpg',\r\n      'https://material-ui.com/static/images/grid-list/vegetables.jpg',\r\n      'https://material-ui.com/static/images/grid-list/star.jpg'\r\n    ]\r\n    this.state = {\r\n      imageIndex: 0,\r\n      imageLastIndex: this.images.length - 1,\r\n      sliding: false,\r\n      clickOnSliding: false\r\n    };\r\n    this.slidesRunning = null;\r\n    this.refreshTime = 1000;\r\n  }\r\n  refresh() {\r\n    if (!this.slidesRunning) return;\r\n    // console.log('refresh');\r\n    const k = (this.state.imageIndex === this.images.length - 1) ? 0 : (this.state.imageIndex + 1);\r\n    this.setState({ imageIndex: k, imageLastIndex: this.state.imageIndex, sliding: true });\r\n    setTimeout(() => {\r\n      if (this.state.clickOnSliding) return;\r\n      this.setState({ sliding: false });\r\n    }, 12000);\r\n    setTimeout(this.refresh, this.refreshTime);\r\n  }\r\n  componentDidMount() {\r\n    // console.log('componentDidMount');\r\n    this.slidesRunning = true;\r\n    setTimeout(this.refresh, this.refreshTime);\r\n  }\r\n  componentWillUnmount() {\r\n    // console.log('componentWillUnmount');\r\n    this.slidesRunning = false;\r\n  }\r\n  render() {\r\n    return <Paper>\r\n      <Box>\r\n        <img src={this.images[this.state.imageIndex]}></img>\r\n      </Box>\r\n      {/* <Slide direction={!this.state.sliding ? \"left\" : \"right\"} in={!this.state.sliding} timeout={{ enter: 500, exit: 500 }} mountOnEnter unmountOnExit>\r\n        <img style={{ height: 300, width: \"100%\" }} src={this.images[this.state.sliding ? this.state.imageLastIndex : this.state.imageIndex]}></img>\r\n      </Slide> */}\r\n      {/* <Slide direction={this.state.sliding ? \"left\" : \"right\"} in={this.state.sliding} timeout={{ enter: 500, exit: 500 }} mountOnEnter unmountOnExit>\r\n        <img src={this.images[this.state.imageLastIndex]}></img>\r\n      </Slide> */}\r\n      <Box style={{ display: \"flex\", justifyContent: \"center\" }}>\r\n        {this.images.map((v, k) => <Button key={k} onClick={() => { this.setState({ imageIndex: k }) }}>{k}</Button>)}\r\n      </Box>\r\n    </Paper >\r\n  }\r\n}","import { createHashHistory } from 'history';\r\n// import createHistory from 'history/lib/createHashHistory';\r\n\r\nexport default createHashHistory();","import React from 'react';\r\nimport { Box, Button, Container, Divider, FormControl, Grid, InputLabel, MenuItem, Select, TextField, Typography } from \"@material-ui/core\";\r\nimport Recomends from \"../components/Recommends\";\r\nimport { api } from \"../api/api\";\r\nimport SearchBox from '../components/SearchBox';\r\nimport PopularAuthors from '../components/PopularAuthors';\r\nimport PopularTags from '../components/PopularTags';\r\nimport Slides from '../components/Slides';\r\nimport history from \"../utils/history\";\r\nimport { urlEncode } from '../utils/utils';\r\nexport default function Dashboard(props) {\r\n  return (<Container>\r\n    <Box>\r\n      <Box style={{ paddingLeft: 40, paddingRight: 40 }}>\r\n        <SearchBox onSearch={(key, src) => {\r\n          history.push({ pathname: \"/search\", search: '?' + urlEncode({ key, src }).slice(1) });\r\n          // history.push({ pathname: \"/search\", params: { key, src } });\r\n        }}></SearchBox>\r\n      </Box>\r\n    </Box>\r\n    <br />\r\n    <Divider></Divider>\r\n    <Slides></Slides>\r\n    <br />\r\n    <Divider></Divider>\r\n    <br />\r\n    <Grid container spacing={10}>\r\n      <Grid item lg={6} sm={12} style={{ padding: 20 }}>\r\n        <PopularAuthors></PopularAuthors>\r\n      </Grid>\r\n      <Grid item lg={6} sm={12} style={{ padding: 20 }}>\r\n        <PopularTags></PopularTags>\r\n      </Grid>\r\n    </Grid>\r\n    <br />\r\n    <Divider></Divider>\r\n    <br />\r\n    <Recomends></Recomends>\r\n  </Container>);\r\n};","import { Box, Button, Container, Divider, TextField, Typography, Zoom, Fade } from '@material-ui/core';\r\nimport React from 'react';\r\nimport { api } from '../api/api';\r\nimport { setMessage, setUser } from '../data/action';\r\nimport store from '../data/store';\r\nimport { objectUpdate } from '../utils/utils';\r\n\r\n\r\nfunction LoginFrame(props) {\r\n  const [state, setInnerState] = React.useState({\r\n    username: \"\",\r\n    password: \"\",\r\n    captcha: \"\",\r\n    actionType: 'login'\r\n  });\r\n  const refUsername = React.useRef();\r\n  const refPassword = React.useRef();\r\n  const setState = (update) => setInnerState(objectUpdate(state, update));\r\n  // style={{ display: \"flex\", justifyContent: 'center', alignItems: \"center\", flexDirection: \"column\", }}\r\n  const actionLogin = state.actionType === 'login' ? true : false;\r\n  const handleAction = async () => {\r\n    // console.log('handle', actionLogin);\r\n    if (actionLogin) {\r\n      const res = await api.request('session', 'POST', {\r\n        username: state.username, password: state.password\r\n      });\r\n      console.log(res);\r\n      if (res.code !== 200) return;\r\n      // 获取user\r\n      const user = await api.request('user', 'GET');\r\n      if (user.code !== 200) return;\r\n      console.log('user', user.data.user);\r\n      store.dispatch(setUser(user.data.user));\r\n    } else {\r\n      // 注册，注册成功则跳转登录\r\n      const res = await api.request('user', 'POST', {\r\n        username: state.username, password: state.password\r\n      });\r\n      console.log(res);\r\n      if (res.code === 200) {\r\n        // 弹窗\r\n        store.dispatch(setMessage(\"注册成功\"));\r\n        setState({actionType: 'login'});\r\n      }\r\n    }\r\n  }\r\n\r\n  return (<Box>\r\n    <Typography variant=\"h4\">{actionLogin ? \"登录\" : \"注册\"}</Typography>\r\n    <br />\r\n    <Divider></Divider>\r\n    <br />\r\n    <TextField fullWidth ref={refUsername} label=\"用户名\" variant=\"outlined\" value={state.username} onChange={e => {\r\n      setState({ username: e.target.value });\r\n    }} onKeyDown={e => {\r\n      if (e.code === \"Enter\") {\r\n        refPassword.current.querySelector(\"input\").focus();\r\n      }\r\n    }} />\r\n    <br /><br />\r\n    <TextField fullWidth ref={refPassword} label=\"密码\" variant=\"outlined\" value={state.password} type=\"password\" onChange={e => {\r\n      setState({ password: e.target.value });\r\n    }} onKeyDown={e => {\r\n      if (e.code === \"Enter\") {\r\n        handleAction();\r\n      }\r\n    }} />\r\n    <Fade in={actionLogin} style={{ display: actionLogin ? \"block\" : \"none\" }} timeout={{ exit: 0, enter: 200 }}>\r\n      <Box>\r\n        <Box>\r\n          <br></br>\r\n          <Button fullWidth variant=\"contained\" color=\"primary\" onClick={handleAction}>登录</Button>\r\n        </Box>\r\n        <Box>\r\n          <br></br>\r\n          <Button fullWidth variant=\"contained\" color=\"secondary\" onClick={() => setState({ actionType: \"sign_in\" })}>注册</Button>\r\n        </Box>\r\n      </Box>\r\n    </Fade>\r\n    <Fade in={!actionLogin} style={{ display: !actionLogin ? \"block\" : \"none\" }} timeout={{ exit: 0, enter: 200 }}>\r\n      <Box>\r\n        <Box>\r\n          <br></br>\r\n          <Button fullWidth variant=\"contained\" color=\"primary\" onClick={handleAction}>注册</Button>\r\n        </Box>\r\n        <Box>\r\n          <br></br>\r\n          <Button fullWidth variant=\"contained\" onClick={() => setState({ actionType: 'login' })}>返回登录</Button>\r\n        </Box>\r\n      </Box>\r\n    </Fade>\r\n  </Box >);\r\n}\r\n\r\nexport default function Login(props) {\r\n  return <Container maxWidth=\"sm\">\r\n    <LoginFrame></LoginFrame>\r\n  </Container>\r\n}","import React from 'react';\r\nimport { Container, Typography } from \"@material-ui/core\";\r\n\r\nexport default function Dashboard() {\r\n  return (<Container>\r\n    <Typography>\r\n      Library here.\r\n    </Typography>\r\n  </Container>);\r\n};","import React from 'react';\r\nimport { Container, Typography } from \"@material-ui/core\";\r\n\r\nexport default function Services() {\r\n  return (<Container>\r\n    <Typography>\r\n      Services here.\r\n    </Typography>\r\n  </Container>);\r\n};","import { Box, Container, Grid, List, ListItem, Paper, Typography } from \"@material-ui/core\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport React from \"react\";\r\nimport { isChinese } from \"../utils/utils\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  small: {\r\n    width: theme.spacing(3),\r\n    height: theme.spacing(3),\r\n  },\r\n  large: {\r\n    width: theme.spacing(7),\r\n    height: theme.spacing(7),\r\n  },\r\n}));\r\n\r\nfunction People(props) {\r\n  const classes = useStyles();\r\n  const { username, nick, profile, head, link, readmeState } = props.people ? props.people : props;\r\n  let nickHead;\r\n  if (((!isChinese(nick[0])) && ((nick[1] && (!isChinese(nick[1]))) || (!nick[1]))) && !head) nickHead = nick.slice(0, 2);\r\n  const leftContent = <Box style={{ display: 'flex', flexDirection: \"column\", minWidth: 90 }} onClick={() => { link && window.open(link, '_blank'); }}>\r\n    <Box>\r\n      {head ? <Avatar alt={nick} src={head} className={classes.large}></Avatar> : <Avatar alt={nick} className={classes.large}>{nickHead ? nickHead : nick[0]}</Avatar>}\r\n    </Box>\r\n    <Box>\r\n      <Typography variant=\"h4\">{nick}</Typography>\r\n      {username ? <Typography variant=\"body1\">@{username}</Typography> : null}\r\n    </Box>\r\n  </Box>;\r\n  return <Box style={{ padding: 20, width: \"100%\" }}>\r\n    <Grid container spacing={3}>\r\n      <Grid item xs={9} lg={5}>\r\n        <Grid container spacing={3}>\r\n          <Grid item xs={4} lg={3}>\r\n            {leftContent}\r\n          </Grid>\r\n          <Grid item xs={5} lg={4} onClick={() => { window.open(link, '_blank'); }}>\r\n            {readmeState ? <Box>\r\n              <img src={readmeState}></img>\r\n            </Box> : null}\r\n          </Grid>\r\n        </Grid>\r\n      </Grid>\r\n      {profile ? <Grid item xs={12} lg={7}>\r\n        <Paper style={{ width: \"100%\" }}>\r\n          <Box style={{ backgroundColor: \"#00000020\", padding: 30, borderLeftStyle: \"solid\", borderLeftWidth: 10, borderLeftColor: \"#00000040\" }}>\r\n            <Typography variant=\"body1\">{profile}</Typography>\r\n          </Box>\r\n        </Paper>\r\n      </Grid> : null}\r\n    </Grid>\r\n  </Box >\r\n}\r\n\r\nexport default function About(props) {\r\n  const people = [\r\n    {\r\n      username: 'chiro2001',\r\n      nick: 'Chiro',\r\n      profile: \"I like it.\",\r\n      head: 'https://avatars.githubusercontent.com/u/41908064?v=4',\r\n      link: 'https://github.com/chiro2001',\r\n      readmeState: 'https://github-readme-stats.vercel.app/api?show_icons=false&username=chiro2001&count_private=true&include_all_commits=true&hide_border=true&hide_title=true&hide_rank=true&locale=cn'\r\n    },\r\n    {\r\n      username: 'criwits',\r\n      nick: 'Hans Wan',\r\n      profile: \"¯\\\\_(ツ)_/¯\",\r\n      head: 'https://avatars.githubusercontent.com/u/59825102?v=4',\r\n      link: 'https://github.com/criwits/',\r\n      readmeState: 'https://github-readme-stats.vercel.app/api?show_icons=false&username=criwits&count_private=true&include_all_commits=true&hide_border=true&hide_title=true&hide_rank=true&locale=cn'\r\n    },\r\n    {\r\n      username: 'lin-zhifan',\r\n      nick: 'Kiryu Sento',\r\n      head: 'https://portrait.gitee.com/uploads/avatars/user/2761/8283353_lin-zhifan_1620866347.png!avatar200',\r\n      link: 'https://gitee.com/lin-zhifan'\r\n    },\r\n    {\r\n      username: 'sealls',\r\n      nick: '海豹',\r\n      link: 'https://gitee.com/sealls',\r\n      head: \"http://bed-1254016670.cos.ap-guangzhou.myqcloud.com/my_imgs/kyMwmz_QQ%E5%9B%BE%E7%89%8720210519090319.jpg\"\r\n    },\r\n    {\r\n      nick: '魂莫千羽',\r\n      head: \"http://bed-1254016670.cos.ap-guangzhou.myqcloud.com/my_imgs/Rserrx_QQ%E5%9B%BE%E7%89%8720210519090319.jpg\"\r\n    },\r\n  ];\r\n  const ladderClimbers = {\r\n    username: 'Ladder-Climbers',\r\n    nick: 'Ladder Climbers',\r\n    profile: \"来自哈工深的项目开发小组~\",\r\n    head: 'https://avatars.githubusercontent.com/u/74187667?s=200&v=4',\r\n    link: 'https://gitee.com/ladder-climbers'\r\n  };\r\n  return <Container maxWidth=\"lg\">\r\n    <Typography variant=\"h4\">关于我们</Typography>\r\n    <People people={ladderClimbers}></People>\r\n    <Grid container>\r\n      {people.map((v, k) =>\r\n        <Grid key={k} item xs={v.readmeState ? 12 : 4}>\r\n          <People people={v}></People>\r\n        </Grid>\r\n      )}\r\n    </Grid>\r\n  </Container>\r\n}","import { Container } from \"@material-ui/core\";\r\nimport React from \"react\";\r\n\r\nexport default function Help(props) {\r\n  return <Container>\r\n    Help\r\n  </Container>\r\n}","import { Container, Dialog, DialogContent, DialogTitle, List, ListItem, ListItemSecondaryAction, ListItemText, Typography } from \"@material-ui/core\";\r\nimport React from \"react\";\r\n\r\nexport default function ListInfo(props) {\r\n  const { data, open, onClose, title, keyNames } = props;\r\n  const [openChild, setOpenChild] = React.useState(false);\r\n  const [child, setChild] = React.useState(null);\r\n  const [childTitle, setChildTitle] = React.useState(null);\r\n  // console.log(data);\r\n  // Object.keys(data).map((v, k) => { console.log(`v: ${v}, k: ${k}`) })\r\n\r\n  return <Dialog fullWidth open={open} onClose={onClose}>\r\n    <DialogTitle>{title}</DialogTitle>\r\n    <DialogContent>\r\n      <List style={{ width: \"100%\" }}>\r\n        {Object.keys(data).map((v, k) => {\r\n          const showName = keyNames ? (keyNames[v] || v) : (v);\r\n          if (!data[v]) return undefined;\r\n          if (typeof (data[v]) === 'object') {\r\n            return <ListItem key={k} button onClick={() => {\r\n              setChild(data[v]);\r\n              setChildTitle(showName);\r\n              setOpenChild(true);\r\n            }}>{showName}</ListItem>\r\n          } else {\r\n            const s = `${data[v]}`;\r\n            return <ListItem key={k}>\r\n              <ListItemText>{showName}</ListItemText>\r\n              <ListItemSecondaryAction>\r\n                <Typography variant=\"body1\">{s.slice(0, 20) + (s.length > 20 ? \"...\" : \"\")}</Typography>\r\n              </ListItemSecondaryAction>\r\n            </ListItem>\r\n          }\r\n        }\r\n        )}\r\n      </List>\r\n      {(child && childTitle) ? <ListInfo data={child} open={openChild} onClose={() => { setOpenChild(false); }} title={childTitle}></ListInfo> : undefined}\r\n    </DialogContent>\r\n  </Dialog>\r\n}","import React from \"react\"\r\nimport Container from '@material-ui/core/Container';\r\nimport { Button, MenuItem, FormControl, InputLabel, List, ListItem, ListItemSecondaryAction, ListItemText, Select, ListSubheader, Switch, Dialog, DialogTitle, DialogContent, Typography, DialogActions } from \"@material-ui/core\";\r\nimport store from \"../data/store\";\r\nimport { setConfig, setErrorInfo, setMessage } from \"../data/action\";\r\nimport { funDownload } from \"../utils/utils\";\r\nimport ListInfo from \"../components/ListInfo\";\r\n\r\nfunction Settings(props) {\r\n  const [themeName, setThemeName] = React.useState(store.getState().config.data.theme_name);\r\n  const refConfigFileInput = React.useRef();\r\n  const [resetSettingsOpen, setResetSettingsOpen] = React.useState(false);\r\n  const [deleteDataOpen, setDeleteDataOpen] = React.useState(false);\r\n  const [openDaemon, setOpenDaemon] = React.useState(false);\r\n  const [openUser, setOpenUser] = React.useState(false);\r\n\r\n  const resetSettings = function () {\r\n    let c = store.getState().config;\r\n    c.data = c.data_default;\r\n    c.save();\r\n    c.load();\r\n    store.dispatch(setConfig(c));\r\n  }\r\n\r\n  const user = store.getState().user;\r\n\r\n  return (<Container maxWidth=\"md\">\r\n    <List>\r\n      <ListSubheader>用户账号</ListSubheader>\r\n      <ListItem>\r\n        <ListItemText primary=\"用户名\"></ListItemText>\r\n        <ListItemSecondaryAction>\r\n          {user.username}\r\n        </ListItemSecondaryAction>\r\n      </ListItem>\r\n      <ListItem button onClick={() => { setOpenUser(true); }}>\r\n        <ListItemText primary=\"详细信息\"></ListItemText>\r\n      </ListItem>\r\n      <ListItem button>\r\n        <ListItemText primary=\"修改信息\"></ListItemText>\r\n      </ListItem>\r\n      <ListSubheader>外观</ListSubheader>\r\n      <ListItem>\r\n        <ListItemText primary=\"主题设置\"></ListItemText>\r\n        <ListItemSecondaryAction>\r\n          <FormControl>\r\n            {/* <InputLabel></InputLabel> */}\r\n            <Select value={themeName} onChange={e => {\r\n              setThemeName(e.target.value);\r\n              let c = store.getState().config;\r\n              c.data.theme_name = e.target.value;\r\n              c.theme = c.theme_avaliable[c.data.theme_name];\r\n              c.save();\r\n              store.dispatch(setConfig(c));\r\n              setTimeout(() => { window.location.reload(); }, 200);\r\n            }}>\r\n              {store.getState().config.data.theme_avaliable.map((v, k) => <MenuItem key={k} value={v}>{v}</MenuItem>)}\r\n            </Select>\r\n          </FormControl>\r\n        </ListItemSecondaryAction>\r\n      </ListItem>\r\n      <ListItem>\r\n        <ListItemText primary=\"设置数据同步\"></ListItemText>\r\n        <ListItemSecondaryAction>\r\n          <Switch defaultChecked={store.getState().config.data.settings_async} onChange={e => {\r\n            let c = store.getState().config;\r\n            c.data.settings_async = e.target.checked;\r\n            c.save();\r\n            store.dispatch(setConfig(c));\r\n          }}></Switch>\r\n        </ListItemSecondaryAction>\r\n      </ListItem>\r\n      <ListItem button onClick={() => setResetSettingsOpen(true)}>\r\n        <ListItemText primary=\"回到默认设置\"></ListItemText>\r\n      </ListItem>\r\n      <ListItem button onClick={() => setDeleteDataOpen(true)}>\r\n        <ListItemText primary=\"删除所有数据\"></ListItemText>\r\n      </ListItem>\r\n    </List>\r\n    <ListInfo data={store.getState().user} open={openUser} keyNames={{\r\n      username: '用户名', nick: '昵称', phone: '用户手机号', profile: '详细信息', state: '用户状态', created_at: '创建于', updated_at: '更新于'\r\n    }} title=\"用户信息\" onClose={() => { setOpenUser(false); }}></ListInfo>\r\n    <Dialog open={resetSettingsOpen} onClose={() => setResetSettingsOpen(false)}>\r\n      <DialogTitle>\r\n        回到默认设置\r\n      </DialogTitle>\r\n      <DialogContent>\r\n        <Typography variant=\"body1\">此操作将会清除所有设置数据，确认操作？</Typography>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={() => setResetSettingsOpen(false)}>取消</Button>\r\n        <Button onClick={() => {\r\n          resetSettings();\r\n          window.location.reload();\r\n        }}>确定</Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n    <Dialog open={deleteDataOpen} onClose={() => setDeleteDataOpen(false)}>\r\n      <DialogTitle>\r\n        删除所有数据\r\n      </DialogTitle>\r\n      <DialogContent>\r\n        <Typography variant=\"body1\">此操作将会清除软件数据，确认操作？</Typography>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={() => setDeleteDataOpen(false)}>取消</Button>\r\n        <Button onClick={() => {\r\n          resetSettings();\r\n          window.location.reload();\r\n        }}>确定</Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  </Container>)\r\n}\r\n\r\nexport default Settings;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { ListItem, ListItemText, ListItemIcon } from '@material-ui/core';\r\nimport { Link as RouterLink } from \"react-router-dom\";\r\n\r\nfunction ListItemLink(props) {\r\n  const { icon, primary, to } = props;\r\n\r\n  const renderLink = React.useMemo(\r\n    () => React.forwardRef((itemProps, ref) => <RouterLink to={to} ref={ref} {...itemProps} />),\r\n    [to],\r\n  );\r\n\r\n  return (\r\n    <li>\r\n      <ListItem button component={renderLink}>\r\n        {icon ? <ListItemIcon>{icon}</ListItemIcon> : null}\r\n        <ListItemText primary={primary} />\r\n      </ListItem>\r\n    </li>\r\n  );\r\n}\r\n\r\nListItemLink.propTypes = {\r\n  icon: PropTypes.element,\r\n  primary: PropTypes.string.isRequired,\r\n  to: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default ListItemLink;\r\n\r\n","import { Box, Grid, List, ListItem, Typography } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport BookItem from \"./BookItem\";\r\n\r\nfunction SmartSearchResult(props) {\r\n  const { books } = props;\r\n  // console.log('books', books);\r\n  return <Grid container spacing={3}>\r\n    {books.map((book, k) => <Grid key={k} item xs={12} sm={6} lg={3}><BookItem book={{\r\n      title: book.title,\r\n      author: book.abstract,\r\n      desc: null,\r\n      cover: book.cover_url\r\n    }}></BookItem></Grid>)}\r\n  </Grid>;\r\n}\r\n\r\nfunction DoubanResult(props) {\r\n  const { books } = props;\r\n  return <Grid container spacing={3}>\r\n    {books.map((book, k) => <Grid key={k} item xs={12} sm={6} lg={3}><BookItem book={{\r\n      title: book.title,\r\n      author: book.abstract,\r\n      desc: null,\r\n      cover: book.cover_url\r\n    }}></BookItem></Grid>)}\r\n  </Grid>;\r\n}\r\n\r\nexport default function SearchResult(props) {\r\n  const { result } = props;\r\n  return <List>\r\n    {result.smart_search ? <ListItem>\r\n      <Box>\r\n        <Typography variant=\"h4\">智能搜索</Typography>\r\n        <SmartSearchResult books={result.smart_search.books}></SmartSearchResult>\r\n      </Box>\r\n    </ListItem> : null}\r\n    {result.douban ? <ListItem>\r\n      <Box>\r\n        <Typography variant=\"h4\">豆瓣搜索</Typography>\r\n        <SmartSearchResult books={result.douban}></SmartSearchResult>\r\n      </Box>\r\n    </ListItem> : null}\r\n  </List>\r\n}","import { Container } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport { api } from \"../api/api\";\r\nimport SearchBox from \"../components/SearchBox\";\r\nimport SearchResult from \"../components/SearchResult\";\r\nimport { setSearchInfo } from \"../data/action\";\r\nimport store from \"../data/store\";\r\nimport history from \"../utils/history\";\r\nimport { getHashedQuery } from \"../utils/utils\";\r\n\r\nexport default function Search(props) {\r\n  const [result, setResult] = React.useState(null);\r\n  const [startedSearching, setStartedSearching] = React.useState(false);\r\n  const [defaultValue, setDefaultValue] = React.useState(null);\r\n  const query = getHashedQuery();\r\n  console.log('query', query);\r\n  const handleSearch = async (key, src, info) => {\r\n    console.log(key, src, info);\r\n    const resp = await api.request('search', 'GET', { key, src });\r\n    console.log(resp);\r\n    setResult(resp.data);\r\n  };\r\n  if (query.length === 2 && !startedSearching) {\r\n    handleSearch(query[0][1], query[1][1]);\r\n    setStartedSearching(true);\r\n    setDefaultValue({ key: query[0][1], src: query[1][1] });\r\n  }\r\n  return <Container>\r\n    <SearchBox defaultValue={defaultValue} onSearch={handleSearch}></SearchBox>\r\n    {result ? <SearchResult result={result.search}></SearchResult> : null}\r\n  </Container>\r\n}","import React from 'react';\nimport \"@fontsource/roboto\";\nimport clsx from 'clsx';\nimport Container from '@material-ui/core/Container';\nimport { makeStyles, useTheme, ThemeProvider } from '@material-ui/core/styles';\nimport Drawer from '@material-ui/core/Drawer';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport List from '@material-ui/core/List';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport SearchIcon from '@material-ui/icons/Search';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport LibraryBooksIcon from '@material-ui/icons/LibraryBooks';\nimport LiveHelpIcon from '@material-ui/icons/LiveHelp';\nimport GroupIcon from '@material-ui/icons/Group';\nimport WebIcon from '@material-ui/icons/Web';\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport DashboardIcon from '@material-ui/icons/Dashboard';\nimport AlarmIcon from '@material-ui/icons/Alarm';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport CloseIcon from '@material-ui/icons/Close';\nimport StorageIcon from '@material-ui/icons/Storage';\nimport VerifiedUserIcon from '@material-ui/icons/VerifiedUser';\nimport PhonelinkIcon from '@material-ui/icons/Phonelink';\nimport {\n  HashRouter as Router,\n  // BrowserRouter as Router,\n  Switch,\n  Route\n} from \"react-router-dom\";\nimport { TransitionGroup, CSSTransition } from \"react-transition-group\";\nimport { Provider } from 'react-redux'\nimport { MuiPickersUtilsProvider } from '@material-ui/pickers';\nimport MomentUtils from '@date-io/moment';\nimport moment from 'moment';\nimport 'moment/locale/zh-cn';\nimport store from './data/store';\nimport { Box, Button, Dialog, DialogActions, DialogContent, DialogTitle, ListItem, Snackbar } from '@material-ui/core';\nimport { setConfig, setErrorInfo, setMessage, setReserveTableData, setRoomStockData, setShopInfo } from \"./data/action\";\n\nimport { isIterator, isMobileDevice, sleep } from \"./utils/utils\";\n\nimport Dashboard from './pages/Dashboard';\nimport Login from './pages/Login';\nimport Library from \"./pages/Library\";\nimport Services from \"./pages/Services\";\nimport About from './pages/About';\nimport Help from './pages/Help';\nimport Settings from \"./pages/Settings\";\nimport { api } from './api/api';\nimport ListItemLink from './components/ListItemLink';\nimport Search from './pages/Search';\n\nconst drawerWidth = 240;\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    width: '100%',\n    // overflowX: 'auto',\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n    transition: theme.transitions.create(['width', 'margin'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  title: {\n    flexGrow: 1\n  },\n  appBarShift: {\n    marginLeft: drawerWidth,\n    width: `calc(100% - ${drawerWidth}px)`,\n    transition: theme.transitions.create(['width', 'margin'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  menuButton: {\n    marginRight: 36,\n  },\n  hide: {\n    display: 'none',\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0,\n    whiteSpace: 'nowrap',\n  },\n  drawerOpen: {\n    width: drawerWidth,\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  drawerClose: {\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    overflowX: 'hidden',\n    width: theme.spacing(7) + 1,\n    [theme.breakpoints.up('sm')]: {\n      width: theme.spacing(9),\n    },\n  },\n  toolbar: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-end',\n    padding: theme.spacing(0, 1),\n    // necessary for content to be below app bar\n    ...theme.mixins.toolbar,\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3),\n    width: '100%',\n    overflowX: 'auto',\n  },\n}));\n\nlet subscribers = {};\n\nlet last_data = {\n  config: null,\n  user: null,\n  daemon: null\n};\n\nstore.subscribe(async () => {\n  let state = store.getState();\n  // console.log('redux update to', state);\n  // 保存 config\n  if (state.config.data) {\n    if (JSON.stringify(state.config.data) != JSON.stringify(last_data.config)) {\n      console.log('Config will change:', state.config.data);\n      state.config.save();\n      if (store.getState().user && store.getState().config.data.settings_async) {\n        await api.request('sync', 'POST', { config: state.config.data });\n      }\n    } else {\n      // console.log('Not change:', state.config.data);\n    }\n    last_data.config = state.config.data;\n  }\n  for (let subFunc in subscribers) {\n    subscribers[subFunc](state);\n  }\n});\n\nfunction App() {\n  const classes = useStyles();\n  const theme = useTheme();\n  const [open, setOpen] = React.useState(false);\n  const titleDefault = \"Mayne的大图书馆\";\n  const [errorDialogInfo, setErrorDialogInfo] = React.useState(false);\n  const [myMessage, setMyMessage] = React.useState(null);\n  const [title, setTitle] = React.useState(titleDefault);\n  const [ignored, forceUpdate] = React.useReducer(x => x + 1, 0);\n  // 拉大到800会打开，拉小到600关闭\n  const triggerWidthOpen = 800;\n  const triggerWidthClose = 600;\n  // onMount & onUpdate\n  React.useEffect(() => {\n    const onWindowResize = () => {\n      let width = window.innerWidth;\n      // console.log(width);\n      if (!open && width >= triggerWidthOpen) setOpen(true);\n      if (open && width <= triggerWidthClose) setOpen(false);\n    };\n    window.addEventListener(\"load\", onWindowResize);\n    window.addEventListener('resize', onWindowResize);\n\n    return () => {\n      window.removeEventListener(\"load\", onWindowResize);\n      window.removeEventListener(\"resize\", onWindowResize);\n    };\n  });\n\n  // 注册一个当遇到错误的时候调用的钩子吧，用来显示错误信息\n  subscribers['Error'] = function (state) {\n    if (state.errorInfo) {\n      console.log('Error Hook: ', state.errorInfo);\n      setErrorDialogInfo(state.errorInfo);\n      // 清空错误信息\n      store.dispatch(setErrorInfo(null));\n    }\n  };\n  // 注册一个消息钩子\n  subscribers['Message'] = function (state) {\n    if (state.message) {\n      console.log('message: ', state.message);\n      setMyMessage(state.message);\n      store.dispatch(setMessage(null));\n    }\n  };\n  subscribers['User'] = function (state) {\n    if (state.user) {\n      if (JSON.stringify(state.user) != JSON.stringify(last_data.user)) {\n        forceUpdate();\n      }\n      last_data.user = state.user;\n    }\n  };\n  subscribers['Daemon'] = function (state) {\n    if (state.daemon) {\n      if (JSON.stringify(state.daemon) != JSON.stringify(last_data.daemon)) {\n        forceUpdate();\n      }\n      last_data.daemon = state.daemon;\n    }\n  };\n\n  let routerContent = <Router>\n    <CssBaseline />\n    <AppBar\n      position=\"fixed\"\n      className={clsx(classes.appBar, {\n        [classes.appBarShift]: open,\n      })}\n    >\n      <Toolbar>\n        <IconButton\n          color=\"inherit\"\n          aria-label=\"open drawer\"\n          onClick={() => { setOpen(true); }}\n          edge=\"start\"\n          className={clsx(classes.menuButton, {\n            [classes.hide]: open,\n          })}\n        >\n          <MenuIcon />\n        </IconButton>\n        <Typography variant=\"h6\" noWrap className={classes.title}>\n          {title}\n        </Typography>\n        <IconButton\n          color=\"inherit\"\n          aria-label=\"login\"\n          onClick={() => { }}\n        >\n          <AccountCircleIcon />\n        </IconButton>\n      </Toolbar>\n    </AppBar>\n    <Drawer\n      variant=\"permanent\"\n      className={clsx(classes.drawer, {\n        [classes.drawerOpen]: open,\n        [classes.drawerClose]: !open,\n      })}\n      classes={{\n        paper: clsx({\n          [classes.drawerOpen]: open,\n          [classes.drawerClose]: !open,\n        }),\n      }}\n    >\n      <div className={classes.toolbar}>\n        <IconButton onClick={() => { setOpen(false); }}>\n          {theme.direction === 'rtl' ? <ChevronLeftIcon /> : <ChevronLeftIcon />}\n        </IconButton>\n      </div>\n      <Divider />\n      <List onClick={() => {\n        if (window.innerWidth < 600) {\n          setOpen(false);\n        }\n      }}>\n        <ListItemLink to=\"/\" primary=\"启动页\" icon={<DashboardIcon />} />\n        <ListItemLink to=\"/search\" primary=\"找书\" icon={<SearchIcon />} />\n        <ListItemLink to=\"/library\" primary=\"馆藏\" icon={<LibraryBooksIcon />} />\n        <ListItemLink to=\"/services\" primary=\"服务\" icon={<WebIcon />} />\n        <ListItemLink to=\"/settings\" primary=\"设置\" icon={<SettingsIcon />} />\n        <ListItemLink to=\"/help\" primary=\"帮助\" icon={<LiveHelpIcon />} />\n        <ListItemLink to=\"/about\" primary=\"关于\" icon={<GroupIcon />} />\n      </List>\n    </Drawer>\n    <main className={classes.content}>\n      <div className={classes.toolbar} />\n      <Switch>\n        <Route path={\"/\"} exact={true}>\n          <Dashboard></Dashboard>\n        </Route>\n        <Route path={\"/library\"} exact={true}>\n          <Library></Library>\n        </Route>\n        <Route path={\"/search\"} exact={true}>\n          <Search></Search>\n        </Route>\n        <Route path={\"/settings\"} exact={false}>\n          <Settings />\n        </Route>\n        <Route path={\"/services\"} exact={true}>\n          <Services></Services>\n        </Route>\n        <Route path={\"/help\"} exact={true}>\n          <Help></Help>\n        </Route>\n        <Route path={\"/about\"} exact={true}>\n          <About></About>\n        </Route>\n      </Switch>\n    </main>\n  </Router>;\n\n  if (!store.getState().user) {\n    if (store.getState().config.data.api_token.access_token) {\n      routerContent = <Typography variant=\"body1\">正在登录...</Typography>\n    } else {\n      routerContent = <Login></Login>\n    }\n  }\n\n  return (\n    <div className={classes.root}>\n      <ThemeProvider theme={store.getState().config.theme}>\n        {routerContent}\n        <Dialog open={errorDialogInfo ? true : false} onClose={() => { setErrorDialogInfo(null); }}>\n          <DialogTitle>遇到错误</DialogTitle>\n          <DialogContent>\n            <Typography variant=\"body1\">错误信息</Typography>\n            <Box component=\"div\">\n              <Box component=\"div\">\n                {() => {\n                  if (isIterator(errorDialogInfo) && typeof (errorDialogInfo) !== 'string') {\n                    return <List>\n                      {errorDialogInfo.map((d, i) => <ListItem key={i}>\n                        <code>{JSON.stringify(d) === '{}' ? d.toString() : JSON.stringify(d)}</code>\n                      </ListItem>)}\n                    </List>;\n                  } else {\n                    return <code>{JSON.stringify(errorDialogInfo) === '{}' ? errorDialogInfo.toString() : JSON.stringify(errorDialogInfo)}</code>;\n                  }\n                }}\n              </Box>\n            </Box>\n          </DialogContent>\n          <DialogActions>\n            <Button color=\"primary\" onClick={() => { window.location.reload() }}>刷新</Button>\n            <Button color=\"primary\" onClick={() => { setErrorDialogInfo(null); }}>取消</Button>\n          </DialogActions>\n        </Dialog>\n        <Snackbar\n          anchorOrigin={{\n            vertical: 'bottom',\n            horizontal: 'right',\n          }}\n          open={myMessage !== null}\n          autoHideDuration={6000}\n          // onClose={(e) => { console.log(e); }}\n          message={myMessage}\n          action={\n            <React.Fragment>\n              <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={() => setMyMessage(null)}>\n                <CloseIcon fontSize=\"small\" />\n              </IconButton>\n            </React.Fragment>\n          }\n        />\n      </ThemeProvider>\n    </div>);\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport store from './data/store';\nimport { Provider } from 'react-redux';\nimport { api } from './api/api';\nimport { sleep } from './utils/utils';\nimport reportWebVitals from './reportWebVitals';\nimport { setConfig, setErrorInfo, setUser } from './data/action';\n\n// 循环执行函数\nasync function cycleFunc(cycle = 1000) {\n  while (true) {\n    try {\n    } catch (e) {\n      console.error(e);\n    }\n    await sleep(cycle);\n  }\n}\n\n// 开始执行的函数\nasync function startFunc() {\n  setTimeout(async () => {\n    const user = store.getState().user;\n    const isNowLogining = !user && store.getState().config.data.api_token.access_token;\n    if (isNowLogining) {\n      api.load_from_config();\n      const res = await api.request('user', 'GET');\n      // console.log('index res', res)\n      if (res.code === 200) {\n        // console.log('saving user', res.data.user)\n        store.dispatch(setUser(res.data.user));\n      }\n    }\n  }, 0);\n}\n\nReactDOM.render(\n  // <React.StrictMode>\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  // </React.StrictMode>,\n  document.getElementById('root')\n);\n\nstartFunc().then(() => {\n  cycleFunc();\n});\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}